(()=>{"use strict";var e={98878:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},5264:function(e,t){var s,r,n,i,l,a;Object.defineProperty(t,"__esModule",{value:!0}),t.RsdoctorClientDiffState=t.RsdoctorClientRoutes=t.RsdoctorClientUrlQuery=void 0,(i=s||(t.RsdoctorClientUrlQuery=s={})).BundleDiffFiles="__bundle_files__",i.ManifestFile="manifest",(l=r||(t.RsdoctorClientRoutes=r={})).Home="/",l.Overall="/overall",l.WebpackLoaderOverall="/webpack/loaders/overall",l.WebpackLoaderAnalysis="/webpack/loaders/analysis",l.ModuleResolve="/module/resolve",l.WebpackPlugins="/webpack/plugins",l.BundleSize="/bundle/size",l.ModuleAnalyze="/module/analyze",l.TreeShaking="/treeshaking",l.BundleDiff="/resources/bundle/diff",l.RuleIndex="/resources/rules",l.Uploader="/resources/uploader",l.EmoCheck="/emo/check",(a=n||(t.RsdoctorClientDiffState=n={})).Equal="-",a.Up="UP",a.Down="DOWN"},43900:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},81046:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.WINDOW_RSDOCTOR_TAG=t.RsdoctorClientUrl=t.RsdoctorProcessEnvDebugKey=t.RsdoctorMonitorDocBId=t.RsdoctorMonitorWebBId=t.RsdoctorMonitorNodeBId=t.StatsFilePath=t.RsdoctorOutputManifestPath=t.RsdoctorOutputManifest=t.RsdoctorOutputFolder=t.MapExtensions=t.FontExtensions=t.MediaExtensions=t.ImgExtensions=t.HtmlExtension=t.CSSExtension=t.JSExtension=void 0,t.JSExtension=".js",t.CSSExtension=".css",t.HtmlExtension=".html",t.ImgExtensions=[".png",".jpg",".svg",".webp",".jpeg",".gif",".bmp"],t.MediaExtensions=[".mp3",".mp4",".avi",".wav",".flv",".mov",".mpg",".mpeg"],t.FontExtensions=[".ttf",".fnt",".fon",".otf",".woff",".woff2"],t.MapExtensions=[".js.map",".css.map",".ts.map",".LICENSE.txt"],t.RsdoctorOutputFolder=".rsdoctor",t.RsdoctorOutputManifest="manifest.json",t.RsdoctorOutputManifestPath=`${t.RsdoctorOutputFolder}/${t.RsdoctorOutputManifest}`,t.StatsFilePath="dist/stats.json",t.RsdoctorMonitorNodeBId="Rsdoctor",t.RsdoctorMonitorWebBId="Rsdoctor-Client",t.RsdoctorMonitorDocBId="Rsdoctor-Doc",t.RsdoctorProcessEnvDebugKey="RSDOCTOR_DEBUG",t.RsdoctorClientUrl="",t.WINDOW_RSDOCTOR_TAG="__RSDOCTOR__"},38159:function(e,t){var s,r;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorLevel=void 0,(r=s||(t.ErrorLevel=s={}))[r.Ignore=0]="Ignore",r[r.Warn=1]="Warn",r[r.Error=2]="Error"},99982:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},78741:function(e,t,s){var r,n=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var n=Object.getOwnPropertyDescriptor(t,s);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,n)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||(r=function(e){return(r=Object.getOwnPropertyNames||function(e){var t=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[t.length]=s);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s=r(e),l=0;l<s.length;l++)"default"!==s[l]&&n(t,e,s[l]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.Plugin=t.Constants=t.Client=t.Thirdparty=t.Rule=t.Linter=t.Modules=t.SDK=t.Logger=t.Err=t.Common=t.Babel=t.Esbuild=t.Manifest=void 0,t.Manifest=l(s(41657)),t.Esbuild=l(s(99982)),t.Babel=l(s(98878)),t.Common=l(s(43900)),t.Err=l(s(38159)),t.Logger=l(s(79841)),t.SDK=l(s(2167)),t.Modules=l(s(25775)),t.Linter=l(s(57274)),t.Rule=l(s(30518)),t.Thirdparty=l(s(11549)),t.Client=l(s(5264)),t.Constants=l(s(81046)),t.Plugin=l(s(87428))},46615:function(e,t,s){Object.defineProperty(t,"__esModule",{value:!0}),t.Severity=void 0;var r=s(38159);Object.defineProperty(t,"Severity",{enumerable:!0,get:function(){return r.ErrorLevel}})},57274:function(e,t,s){var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var n=Object.getOwnPropertyDescriptor(t,s);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,n)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(46615),t),n(s(57222),t)},57222:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},79841:function(e,t){var s,r;Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=void 0,(r=s||(t.LogLevel=s={}))[r.Silent=0]="Silent",r[r.Error=1]="Error",r[r.Warning=2]="Warning",r[r.Info=3]="Info",r[r.Debug=4]="Debug",r[r.Verbose=5]="Verbose"},41657:function(e,t){var s,r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.RsdoctorManifestClientConstant=t.RsdoctorManifestClientRoutes=void 0,(n=s||(t.RsdoctorManifestClientRoutes=s={})).Overall="Overall",n.WebpackLoaders="Compile.WebpackLoaders",n.ModuleResolve="Compile.ModuleResolve",n.WebpackPlugins="Compile.WebpackPlugins",n.BundleSize="Bundle.BundleSize",n.ModuleGraph="Bundle.ModuleGraph",n.TreeShaking="Bundle.TreeShaking",(r||(t.RsdoctorManifestClientConstant=r={})).WindowPropertyForManifestUrl="__DEVTOOLS_MANIFEST_URL__"},25775:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},82122:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},13709:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},29842:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},87428:function(e,t,s){var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var n=Object.getOwnPropertyDescriptor(t,s);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,n)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(82122),t),n(s(29842),t),n(s(63345),t),n(s(13709),t),n(s(98828),t)},63345:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},98828:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},5312:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.message=t.code=void 0,t.code="E1001",t.message={code:t.code,title:"Duplicate Packages",type:"markdown",category:"bundle",description:`
#### Description

There is a same name package which is bundled in multiple versions in your application.

This negatively impacts the bundle size of your application.

#### General Solution

Add an entry in \`resolve.alias\` to configure Webpack to route any package references to a single specified path.

For example, if \`lodash\` is duplicated in your bundle, the following configuration would make all Lodash imports refer to the \`lodash\` instance found at \`./node_modules/lodash\`:

\`\`\`js
{
  alias: {
    lodash: path.resolve(__dirname, 'node_modules/lodash')
  }
}
\`\`\`
`}},88659:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.message=t.code=void 0,t.code="E1002",t.message={code:t.code,title:"Cross Chunks Packages",type:"markdown",category:"bundle",description:`
#### Description

There is a package with the same version that is duplicated across different chunks in your application. This redundancy increases the overall bundle size, which is not optimal for performance.

#### General Solution

To address this issue, you can use Rspack's **SplitChunksPlugin** to extract common dependencies into a separate chunk. This ensures that the same package is not duplicated across multiple chunks, thereby reducing the bundle size.

For example, if **lodash** is being duplicated across different chunks, you can configure the **optimization.splitChunks** option in your Webpack configuration to extract **lodash** into a separate chunk:

\`\`\`
module.exports = {
  optimization: {
    splitChunks: {
      cacheGroups: {
        commons: {
          test: /[\\/]node_modules[\\/]lodash[\\/]/,
          name: 'lodash',
          chunks: 'all',
        },
      },
    },
  },
};
\`\`\`

This configuration will automatically split out common dependencies (including those from \`node_modules\`) into separate chunks, ensuring that no package is duplicated across different chunks.
`}},46580:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.message=t.code=void 0,t.code="E1003",t.message={code:t.code,title:"Loader Performance Optimization",type:"markdown",category:"compile",description:`
#### Description

Usually the slow compile of most projects is due to the slow execution of the loaders.

And the loaders always pre-process many unnecessary files, such as \`node_modules files\` and \`already compiled files\`.

#### General Solution

Set \`exclude\` to the \`module.rules\` of webpack configuration for target loader.

For example, if \`node_modules/lodash\` is processed by the \`babel-loader\` that make the compile slowly:

\`\`\`
{
  module: {
    rules: [
      {
        test: /\\.js$/,
        use: 'babel-loader',
        exclude: [
          /node_modules\\/lodash/
        ]
      }
    ]
  }
}
\`\`\`
`}},58686:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.message=t.code=void 0,t.code="E1004",t.message={code:t.code,title:"ECMA Version Check",type:"markdown",category:"bundle",description:`
#### Description

Detect if there is a newer version of ECMA syntax in the js bundle file
`}},74722:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.message=t.code=void 0,t.code="E1005",t.message={code:t.code,title:"Default Import Check",type:"markdown",category:"compile",description:`
#### Description

Usually webpack will automatically compatible different modules that has different types, but in a special case, the operation of compatibility will fail.
That is, when you use \`Default Import\` to import a cjs module, and this cjs module do not have the compatible statement, such as \`exports.default = \`.

#### General Solution

1. for cjs module, write a \`exports.default = \` statement for default export.
2. use \`Namespace Import\` for import the cjs module.

For example, for the package \`htmlparser2@7.2.0\`:

\`\`\`ts
// you should use this
import * as Parser from 'htmlparser2';

// can not use this
import Parser from 'htmlparser2';
\`\`\`
`}},43450:function(e,t,s){var r,n,i=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var n=Object.getOwnPropertyDescriptor(t,s);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,n)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return(r=Object.getOwnPropertyNames||function(e){var t=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[t.length]=s);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s=r(e),n=0;n<s.length;n++)"default"!==s[n]&&i(t,e,s[n]);return l(t,e),t}),o=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||i(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),t.RsdoctorRuleClientConstant=t.RuleErrorMap=void 0;let d=a(s(5312)),c=a(s(88659)),h=a(s(46580)),u=a(s(58686)),p=a(s(74722));t.RuleErrorMap={[d.code]:d.message,[c.code]:c.message,[h.code]:h.message,[u.code]:u.message,[p.code]:p.message},(n||(t.RsdoctorRuleClientConstant=n={})).UrlQueryForErrorCode="code",o(s(22552),t)},22552:function(e,t){var s,r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.RuleMessageCategory=t.RuleMessageCodeEnumerated=void 0,(n=s||(t.RuleMessageCodeEnumerated=s={})).Extend="EXTEND",n.Overlay="OVERLAY",(i=r||(t.RuleMessageCategory=r={})).Compile="compile",i.Bundle="bundle",i.EMO="emo"},83014:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},30518:function(e,t,s){var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var n=Object.getOwnPropertyDescriptor(t,s);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,n)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(43450),t),n(s(83014),t)},23012:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},83033:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},62353:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},76532:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},19753:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},2167:function(e,t,s){var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var n=Object.getOwnPropertyDescriptor(t,s);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,n)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(48051),t),n(s(58615),t),n(s(82635),t),n(s(89258),t),n(s(23012),t),n(s(99342),t),n(s(62757),t),n(s(66596),t),n(s(62353),t),n(s(83033),t),n(s(18377),t),n(s(64420),t),n(s(46147),t),n(s(76532),t),n(s(12674),t),n(s(19753),t)},12674:function(e,t){var s,r;Object.defineProperty(t,"__esModule",{value:!0}),t.IMode=void 0,(r=s||(t.IMode=s={}))[r.brief=0]="brief",r[r.lite=1]="lite",r[r.normal=2]="normal"},48051:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},89258:function(e,t){var s,r,n,i,l,a;Object.defineProperty(t,"__esModule",{value:!0}),t.ToDataType=t.ModuleKind=t.DependencyKind=void 0,(i=s||(t.DependencyKind=s={}))[i.Unknown=0]="Unknown",i[i.ImportStatement=1]="ImportStatement",i[i.DynamicImport=2]="DynamicImport",i[i.RequireCall=3]="RequireCall",i[i.AMDRequire=4]="AMDRequire",(l=r||(t.ModuleKind=r={}))[l.Normal=0]="Normal",l[l.Concatenation=1]="Concatenation",(a=n||(t.ToDataType=n={}))[a.NoCode=0]="NoCode",a[a.Normal=1]="Normal",a[a.NoSource=2]="NoSource",a[a.NoSourceAndAssets=3]="NoSourceAndAssets",a[a.All=4]="All"},66596:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},82635:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},58615:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},99342:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},43866:function(e,t,s){var r,n,i,l=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var n=Object.getOwnPropertyDescriptor(t,s);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,n)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),a=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||l(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),t.APIExtends=t.API=void 0,a(s(50028),t),(r=n||(t.API=n={})).ApplyErrorFix="/api/apply/error/fix",r.Env="/api/env",r.EntryHtml="/index.html",r.Manifest="/api/manifest.json",r.LoadDataByKey="/api/data/key",r.SendAPIDataToClient="/api/socket/send",r.GetProjectInfo="/api/project/info",r.GetClientRoutes="/api/routes",r.ReportLoader="/api/loader/report",r.GetLoaderNames="/api/loader/names",r.GetLoaderChartData="/api/loader/chart/data",r.GetLoaderFileTree="/api/loader/filetree",r.GetLoaderFileDetails="/api/loader/file",r.GetLoaderFolderStatistics="/api/loader/folder/statics",r.GetLoaderFileFirstInput="/api/loader/input",r.GetLoaderFileInputAndOutput="/api/loader/inputandoutput",r.GetDirectoriesLoaders="/api/loader/directories",r.ReportSourceMap="/api/sourcemap/report",r.GetResolverFileTree="/api/resolver/filetree",r.GetResolverFileDetails="/api/resolver/file",r.GetPluginSummary="/api/plugins/summary",r.GetPluginData="/api/plugins/data",r.GetChunkGraph="/api/graph/chunks/graph",r.GetAssetsSummary="/api/graph/assets/summary",r.GetAssetDetails="/api/graph/asset/details",r.GetChunksByModuleId="/api/graph/chunk/module",r.GetModuleDetails="/api/graph/module/details",r.GetModulesByModuleIds="/api/graph/modules/ids",r.GetEntryPoints="/api/graph/entrypoints",r.GetModuleCodeByModuleId="/api/graph/module/code",r.GetModuleCodeByModuleIds="/api/graph/module/codes",r.GetAllModuleGraph="/api/graph/module/all",r.GetAllChunkGraph="/api/graph/chunk/all",r.GetLayers="/api/graph/layers",r.GetSearchModules="/api/search/modules",r.GetSearchModuleInChunk="/api/search/chunk/modules",r.GetAllModuleGraphFilter="/api/graph/module/filter",r.GetModuleByName="/api/graph/module/name",r.GetModuleIssuerPath="/api/graph/module/issuer_path",r.GetPackageInfo="/api/package/info",r.GetPackageDependency="/api/package/dependency",r.GetPackageRelationAlertDetails="/api/alerts/details/package/relation",r.GetOverlayAlerts="/api/alerts/overlay",r.BundleDiffManifest="/api/bundle_diff/manifest.json",r.GetBundleDiffSummary="/api/bundle_diff/summary",r.GetTileReportHtml="/api/tile/report",r.GetChunkGraphAI="/api/graph/chunks/graph/ai",r.GetChunkByIdAI="/api/graph/chunk/id/ai",(i||(t.APIExtends=i={})).GetCompileProgress="/api/progress"},50028:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},18377:function(e,t,s){var r,n=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var n=Object.getOwnPropertyDescriptor(t,s);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,n)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||(r=function(e){return(r=Object.getOwnPropertyNames||function(e){var t=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[t.length]=s);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s=r(e),l=0;l<s.length;l++)"default"!==s[l]&&n(t,e,s[l]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.ServerAPI=void 0,t.ServerAPI=l(s(43866))},64420:function(e,t){var s,r;Object.defineProperty(t,"__esModule",{value:!0}),t.StatementKind=void 0,(r=s||(t.StatementKind=s={}))[r.ImportDefault=100]="ImportDefault",r[r.ImportNamed=101]="ImportNamed",r[r.ImportDefaultWithNamed=102]="ImportDefaultWithNamed",r[r.ImportDefaultWithNamespace=103]="ImportDefaultWithNamespace",r[r.ImportNamespace=104]="ImportNamespace",r[r.ImportSideEffect=105]="ImportSideEffect",r[r.ImportDynamic=106]="ImportDynamic",r[r.ExportDeclaration=200]="ExportDeclaration",r[r.ExportList=201]="ExportList",r[r.ExportDefault=202]="ExportDefault",r[r.ExportAggregating=203]="ExportAggregating",r[r.ExportNamespace=204]="ExportNamespace",r[r.RequireCall=300]="RequireCall",r[r.RequireName=301]="RequireName",r[r.RequireExports=302]="RequireExports",r[r.RequireExportAggregating=303]="RequireExportAggregating",r[r.RequireExportName=304]="RequireExportName",r[r.Unknown=999]="Unknown"},62757:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},46147:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},11549:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},69387:function(e,t,s){let r;var n,i,l,a,o,d,c,h,u,p,m,x,f,g,j={};s.r(j),s.d(j,{APILoaderMode4Dev:()=>_,Color:()=>I,ComponentState:()=>M,Language:()=>P,MAIN_BG:()=>E,PageState:()=>C,ROOT_BG_COLOR:()=>T,Size:()=>D,TAG_PALLETE:()=>A,Theme:()=>w,ViewMode:()=>k,drawerWidth:()=>N});var y={};s.r(y),s.d(y,{LoaderInternalPropertyName:()=>ep,findLoaderTotalTiming:()=>et,getDirectoriesLoaders:()=>ec,getLoaderChartData:()=>el,getLoaderCosts:()=>er,getLoaderFileDetails:()=>eo,getLoaderFileFirstInput:()=>eh,getLoaderFileInputAndOutput:()=>eu,getLoaderFileTree:()=>ea,getLoaderFolderStatistics:()=>ed,getLoaderNames:()=>en,getLoadersCosts:()=>es,getLoadersTransformData:()=>ei,isVue:()=>em});var v={};s.r(v),s.d(v,{formatCosts:()=>ev,getCurrentTimestamp:()=>eb,getUnit:()=>ey,toFixedDigits:()=>ej});var b=s(31549),Z=s(81346),S=s(7805),w=((n=w||{}).Light="light",n.Dark="dark",n),C=((i=C||{})[i.Success=0]="Success",i[i.Pending=1]="Pending",i[i.Fail=2]="Fail",i),M=((l=M||{})[l.Success=0]="Success",l[l.Pending=1]="Pending",l[l.Updating=2]="Updating",l[l.Fail=3]="Fail",l),k=((a=k||{}).List="list",a.Group="group",a),P=((o=P||{}).Cn="cn",o.En="en",o),_=((d=_||{}).Local="local",d.Remote="remote",d.Default="default",d),D=((c=D||{})[c.BasePadding=20]="BasePadding",c[c.BaseBorderRadius=8]="BaseBorderRadius",c[c.NavBarHeight=54]="NavBarHeight",c),I=((h=I||{}).Red="#e17055",h.Green="#52c41a",h.Yellow="#faad14",h.Blue="#1677ff",h);let N="undefined"==typeof window?0:.85*window.innerWidth>=1100?.85*window.innerWidth:1100,A={COLOR_A:"#90DCE9",COLOR_B:"green",COLOR_C:"#4EAAB9",COLOR_D:"#B7E9F4",COLOR_E:"#2E7CBE",DARK_BLUE:"#1554ad"},E="",T="rgb(105, 177, 255)";function R(e){return window.localStorage.getItem(`__RSDOCTOR__STORAGE__${e}`)}function z(e,t){try{return window.localStorage.setItem(`__RSDOCTOR__STORAGE__${e}`,t),!0}catch(e){return console.error(e),!1}}function L(){return R("LOCALE")||P.En}function O(){return!!R("VIEWMODE")}Z.ZP.use(S.Db).init({lng:L(),resources:{en:{translations:{Overall:"Overall","Compile Analysis":"Compile Analysis","Bundle Alerts":"Bundle Alerts","Help Center":"Help Center",LoadersAnalysis:"Loaders Analysis","Loaders Timeline":"Loaders Timeline","Loaders Analysis":"Loaders Analysis","Rsdoctor Introduction":"Rsdoctor Introduction","Compilation Alerts":"Compilation Alerts","Plugins Analysis":"Plugins Analysis",PluginsAnalysis:"Plugins Analysis",ModuleResolve:"Module Resolve","Bundle Analysis":"Bundle Analysis",BundleSize:"Bundle Size","Module Graph":"Module Graph",TreeShaking:"Tree Shaking","Rule Index":"Rule Index",Resources:"Resources","Project Overall":"Project Overall","Compile Overall":"Compile Overall","Bundle Overall":"Bundle Overall","Expand Omitted":"By default, the reasons tree collapses to the middle of the module introduced by a third party. Click on this icon to view the full tree diagram","Concatenated Tag":"Concatenated Module,hover can display the name of the concatenated main module. Note: the bundled size of the concatenated module is zero, possibly because it is aggregated into the main module.","the file content not changed after transpiled by this loader":"the file content not changed after transpiled by this loader","Output Assets List":"Output Assets List","filter the output assets which size is greater than the input value":"filter the output assets which size is greater than the input value","filter the modules which size is greater than the input value":"filter the modules which size is greater than the input value","After Compile":"After Compile","After Bundle":"After Bundle",CodeModeExplain:"In lite mode or pure stats.json upload, only source code.",DuplicatePakCodeExplain:"There is no code, when in the case of pure stats.json."}},cn:{translations:{Overall:"概览","Compile Analysis":"编译分析","Bundle Alerts":"编译预警","Help Center":"帮助中心","Rsdoctor Introduction":"Rsdoctor 介绍","Compilation Alerts":"编译预警","Plugins Analysis":"Plugins 分析",LoadersAnalysis:"Loaders 分析","Loaders Timeline":"Loaders 概览","Loaders Analysis":"Loaders 分析",PluginsAnalysis:"Plugins 分析",ModuleResolve:"Module Resolve 分析","Bundle Analysis":"产物分析",BundleSize:"产物体积分析","Module Graph":"Module Graph",TreeShaking:"Tree Shaking","Rule Index":"错误索引信息",Resources:"资源","Project Overall":"项目信息概览","Compile Overall":"编译数据概览","Bundle Overall":"产物数据概览","Expand Omitted":" reasons 树会默认折叠中间的第三方引入的模块，点击这个图标可以查看完整树图","Concatenated Tag":"串联模块，hover 上去可以显示聚合成的主模块名称。注：聚合模块 bundled size 为零，有可能是因为被聚合到了主模块中。","the file content not changed after transpiled by this loader":"该文件内容在 loader 处理前后没有发生变化","Output Assets List":"产物文件列表","filter the output assets which size is greater than the input value":"筛选大小大于输入值的产物文件","filter the modules which size is greater than the input value":"筛选大小大于输入值的模块","After Compile":"编译后","After Bundle":"打包后",CodeModeExplain:"Lite 模式下或纯 stats.json 上传的情况下只有 source code.",DuplicatePakCodeExplain:"纯 stats.json 输入的情况下没有代码，可使用 Rsdoctor 插件参与构建会有对应代码。"}}},fallbackLng:{"zh-CN":["cn"],default:["en"]},debug:!1,ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1}});var B=s(44194),F=s(78741),$=((u=$||{}).Bootstrap="bootstrap->beforeCompile",u.Compile="beforeCompile->afterCompile",u.Done="afterCompile->done",u.Minify="minify(processAssets)",u),G=s(62802),K=s(57861),W=s(49646),H=s(73656);function V(e){let t,s;e.sort((e,t)=>e[0]-t[0]);let r=[];for(let n=0;n<e.length;n++)s=e[n],!t||s[0]>t[1]?(t=s,r.push(s)):t[1]=Math.max(t[1],s[1]);return r}function U(e){return(0,G.inflateSync)(K.Buffer.from(e,"base64")).toString()}W.k.override({log:e=>{console.log(`[Rsdoctor log] ${e}`)},info:e=>{console.log(`[Rsdoctor info] ${e}`)},warn:e=>{console.warn(`[Rsdoctor warn] ${e}`)},start:e=>{console.log(`[Rsdoctor start] ${e}`)},ready:e=>{console.log(`[Rsdoctor ready] ${e}`)},error:e=>{console.error(`[Rsdoctor error] ${e}`)},success:e=>{console.error(`[Rsdoctor success] ${e}`)},debug:e=>{H.env.DEBUG&&console.log(`[Rsdoctor debug] ${e}`)}});var q=s(77410),Y=s.n(q);function J(e){return/^https?:\/\//.test(e)}function Q(e){return!!(Array.isArray(e)&&e.length>0&&e.every(e=>!!("string"==typeof e&&(J(e)||(0,q.isAbsolute)(e)))))}async function X(e,t){let s=await Promise.all(e.map(e=>t(e))),r=0===s.length?[]:s.reduce((e,t)=>e+t);return"object"==typeof r?r:JSON.parse(U(r))}var ee=s(73656);function et(e){let t=1/0,s=-1/0;for(let r=0;r<e.length;r++){let n=e[r];n.startAt<=t&&(t=n.startAt),n.endAt>=s&&(s=n.endAt)}return{start:t,end:s}}function es(e,t){let s={},r={};t.forEach(t=>{e(t)?(s[t.pid]||(s[t.pid]=[]),s[t.pid].push([t.startAt,t.endAt])):(r[t.pid]||(r[t.pid]=[]),r[t.pid].push([t.startAt,t.endAt]))});let n=0,i=Object.keys(s);for(let e=0;e<i.length;e++){let t=i[e],l=V(s[t]),a=V(r[t]||[]).filter(([e,t])=>l.some(s=>e>=s[0]&&t<=s[1]));n+=(l.length?l.reduce((e,t)=>e+=t[1]-t[0],0):0)-(a.length?a.reduce((e,t)=>e+=t[1]-t[0],0):0)}return n}function er(e,t){let s=t.filter(t=>!t.loader.includes("builtin")&&t!==e&&t.pid===e.pid&&!!(t.startAt>=e.startAt)&&!!(t.endAt<=e.endAt)),r=e.endAt-e.startAt;return s.length&&V(s.map(t=>[Math.max(t.startAt,e.startAt),Math.min(t.endAt,e.endAt)])).forEach(e=>{let t=e[1]-e[0];r-=t}),r}function en(e){let t=new Set;return e.forEach(e=>e.loaders.forEach(e=>t.add(ex(e.loader)))),[...t]}function ei(e){let t=[];for(let s=0;s<e.length;s++){let r=e[s];for(let e=0;e<r.loaders.length;e++){let s=r.loaders[e];t.push(s)}}return t}function el(e){let t=[],s=ei(e);return e.forEach(e=>{e.loaders.forEach(r=>{t.push({layer:e.resource.layer,loader:ex(r.loader),isPitch:r.isPitch,startAt:r.startAt,endAt:r.endAt,pid:r.pid,sync:r.sync,resource:e.resource.path,costs:er(r,s)})})}),t}function ea(e){let t=ei(e);return e.map(e=>{let{loaders:s,resource:r}=e;return{path:r.path,layer:r.layer,loaders:s.map(e=>({key:e.path,loader:ex(e.loader),path:e.path,errors:e.errors,costs:er(e,t)}))}})}function eo(e,t){let s=t.find(t=>t.resource.path===e);if(!s)throw Error(`"${e}" not match any loader data`);let r=ei(t);return{...s,loaders:s.loaders.map(e=>({...e,loader:ex(e.loader),costs:er(e,r)}))}}function ed(e,t){let s=t.filter(t=>{let{path:s}=t.resource;return s.startsWith(e)}),r=[],n=new Map;return s.forEach(e=>{e.loaders.forEach(e=>{let t=n.get(e.loader);return t?n.set(e.loader,{files:t.files+1,path:e.path}):n.set(e.loader,{files:1,path:e.path}),r.push({loader:e.loader,startAt:e.startAt,endAt:e.endAt,pid:e.pid})})}),Array.from(n).map(e=>{let t=es(t=>t.loader===e[0],r);return{loader:e[0],files:e[1].files,path:e[1].path,costs:t}})}function ec(e,t){return(function(e,t){let s=new Set;return e.forEach(e=>{if(e.resource.path.startsWith(t)){let r=e.resource.path.split(t).slice(1).join("/").split("/");if(r.length>=2){let e=r.slice(0,2).join("/");s.add(`${t}/${e}`)}}else{let t=e.resource.path.split("/"),r=t.slice(0,t.length-1).join("/");s.add(r)}}),Array.from(s)})(e,t||ee.cwd()).map(t=>{let s=ed(t,e);return{directory:t,stats:s}})}function eh(e,t){for(let s=0;s<t.length;s++){let r=t[s];if(r.resource.path===e){let e=r.loaders.filter(e=>!e.isPitch);if(!e.length)return"";return e[0].input||""}}return""}function eu(e,t,s,r){for(let n=0;n<r.length;n++){let i=r[n];if(i.resource.path===e)for(let e=0;e<i.loaders.length;e++){let r=i.loaders[e];if(r.loader===t&&r.loaderIndex===s)return{input:r.input||"",output:r.result||""};return{input:"",output:""}}}return{input:"",output:""}}let ep="__l__",em=e=>("module"in e.options&&e.options.module.rules||[]).some(e=>!!(e&&"object"==typeof e&&e.test instanceof RegExp&&e.test?.test(".vue"))),ex=e=>{let t=e.includes("node_modules")?e.split("node_modules"):null;return t?t[t.length-1]:e};var ef=s(73656),eg=s(73656);function ej(e,t=2){return 0===t?Math.floor(e):+e.toFixed(t)}function ey(e,t){return"m"===t?e>1?"mins":"min":e>1?"hours":"hour"}function ev(e){if((e=Number(e))>=1e3){let t=e/1e3;if(t>=60){let e=t/60;if(e>=60){let t=ej(e/60,0),s=ej(e%60,1),r=ey(t,"h");return s>0?`${t}${r} ${s}${ey(s,"m")}`:`${t}${r}`}let s=ey(e=ej(e,0),"m"),r=ej(t%60,0);return r>0?`${e}${s} ${r}s`:`${e}${s}`}return`${ej(t,1)}s`}if(e>=10)return`${+ej(e,0)}ms`;if(e>=1)return`${+ej(e,1)}ms`;let t=+ej(e,2);return 0===t&&(t=+ej(e,3)),`${t}ms`}function eb(e,t){let s=(0,ef.hrtime)(t);return e+1e3*s[0]+(eg.env.VITEST?Math.round(s[1]/1e6):s[1]/1e6)}function eZ(e){return e.chunks?e.chunks:[]}function eS(e,t){return e.chunks.length?ew(e.chunks,t):[]}function ew(e,t){return e.length?e.map(e=>t.find(t=>t.id===e)).filter(Boolean):[]}function eC(e,t,s){var r=ew(eZ(e),t),n=s;let i=[];return r.forEach(e=>{(function(e){let{modules:t=[]}=e;return t})(e).map(e=>n.find(t=>t.id===e)).filter(Boolean).forEach(e=>{i.filter(t=>t.id===e.id).length||i.push(e)})}),i}let eM=RegExp(`(.*)${/[-|.]/.source}${/[a-z|A-Z|0-9]{4,32}/.source}(${/(?:\.[a-z｜A-Z|0-9]{2,}){1,}/.source})$`);function ek(e,t){let s=t?.split("."),r="",n=e;return s?.length&&s.length>=3&&s[s.length-2]?.indexOf("[")<0&&"js|css|html".indexOf(s[s.length-1])>-1?(r=s[s.length-2],n=e.replace(/(.*)(\.[a-f0-9]{4,32})([^.]*.[^.]+){2,}/g,"$1"),`${n}.${r}.${e.substring(e.lastIndexOf(".")+1)}`):e.replace(eM,"$1$2")}function eP(e,t){return e.path.slice(-t.length)===t||function(e){let t=e.split("?")[0].match(/\.([0-9a-z]+)(?:[\?#]|$)/i);return t?`.${t[1]}`:""}(e.path)===t}function e_(e,t){return!!t.length&&t.some(t=>eP(e,t))}function eD(e,t){if(t)if("function"==typeof t)e=e.filter(t);else{var s;s=e,e="string"==typeof t?s.filter(e=>eP(e,t)):Array.isArray(t)?s.filter(e=>e_(e,t)):[]}return e}function eI(e,t,s={}){let{withFileContent:r=!0,filterOrExtensions:n}=s;return(e=e.filter(e=>!e_(e,F.Constants.MapExtensions)),n&&(e=eD(e,n)),e.length)?{count:e.length,size:e.reduce((e,t)=>e+t.size,0),files:e.map(e=>({path:e.path,size:e.size,gzipSize:e.gzipSize,initial:eN(e,t),content:r?e.content:void 0}))}:{count:0,size:0,files:[]}}function eN(e,t){return ew(eZ(e),t).some(e=>!!e.initial)}function eA(e,t,s={}){return s.filterOrExtensions&&(e=eD(e,s.filterOrExtensions)),eI(e,t,{...s,filterOrExtensions:e=>eN(e,t)})}function eE(e,t){let s=e===t;return{percent:s?0:0===e?100:Math.abs(t-e)/e*100,state:s?F.Client.RsdoctorClientDiffState.Equal:e>t?F.Client.RsdoctorClientDiffState.Down:F.Client.RsdoctorClientDiffState.Up}}function eT(e,t,s,r=!1){let n,i,{size:l,count:a}=r?eA(e.assets,e.chunks,{filterOrExtensions:s}):eI(e.assets,e.chunks,{filterOrExtensions:s});if(e===t)n=l,i=a;else{let{size:e,count:l}=r?eA(t.assets,t.chunks,{filterOrExtensions:s}):eI(t.assets,t.chunks,{filterOrExtensions:s});n=e,i=l}let{percent:o,state:d}=eE(l,n);return{size:{baseline:l,current:n},count:{baseline:a,current:i},percent:o,state:d}}function eR(e){return Object.keys(e)}function ez(e){let t=eR(e),s=new Set;return t.forEach(t=>{e[t].forEach(e=>{s.add(e.tapName)})}),[...s]}function eL(e,t,s,r,n){return r.slice().reverse().map(r=>{let i=t.find(e=>e.id===r.dependencyId);if(!i)return null;let l=e.find(e=>e.id===i.module);return l?{group:r.group,module:l,dependency:i,relativePath:(0,q.relative)(s,l.path),moduleCode:n?.[l.id]}:null}).filter(Boolean)}class eO{constructor(e){this.loader=e,this.loadAPI=this.loadAPI.bind(this)}log(...e){console.log(`[${this.constructor.name}]`,...e)}loadAPI(...e){let[t,s]=e;switch(t){case F.SDK.ServerAPI.API.LoadDataByKey:return this.loader.loadData(s.key);case F.SDK.ServerAPI.API.GetProjectInfo:return Promise.all([this.loader.loadData("root"),this.loader.loadData("pid"),this.loader.loadData("hash"),this.loader.loadData("summary"),this.loader.loadData("configs"),this.loader.loadData("envinfo"),this.loader.loadData("errors")]).then(([e,t,s,r,n,i,l])=>({root:e,pid:t,hash:s,summary:r,configs:n,envinfo:i,errors:l}));case F.SDK.ServerAPI.API.GetClientRoutes:if("undefined"!=typeof window&&window?.[F.Constants.WINDOW_RSDOCTOR_TAG])return window[F.Constants.WINDOW_RSDOCTOR_TAG].enableRoutes;return this.loader.loadManifest().then(e=>{let{enableRoutes:t=[]}=e.client||{};return t});case F.SDK.ServerAPI.API.GetLoaderNames:return this.loader.loadData("loader").then(e=>en(e||[]));case F.SDK.ServerAPI.API.GetLayers:return this.loader.loadData("moduleGraph").then(e=>{let{layers:t}=e||{};return t});case F.SDK.ServerAPI.API.GetLoaderChartData:return this.loader.loadData("loader").then(e=>el(e||[]));case F.SDK.ServerAPI.API.GetLoaderFileTree:return this.loader.loadData("loader").then(e=>ea(e||[]));case F.SDK.ServerAPI.API.GetLoaderFileDetails:return this.loader.loadData("loader").then(e=>eo(s.path,e||[]));case F.SDK.ServerAPI.API.GetLoaderFolderStatistics:return this.loader.loadData("loader").then(e=>ed(s.folder,e||[]));case F.SDK.ServerAPI.API.GetLoaderFileFirstInput:return this.loader.loadData("loader").then(e=>eh(s.file,e||[]));case F.SDK.ServerAPI.API.GetLoaderFileInputAndOutput:return this.loader.loadData("loader").then(e=>eh(s.file,e||[]));case F.SDK.ServerAPI.API.GetResolverFileTree:return this.loader.loadData("resolver").then(e=>(e||[]).map(e=>({issuerPath:e.issuerPath})));case F.SDK.ServerAPI.API.GetResolverFileDetails:return Promise.all([this.loader.loadData("resolver"),this.loader.loadData("moduleGraph.modules"),this.loader.loadData("moduleCodeMap")]).then(e=>{let t=e[0],r=e[1],n=e[2];return function(e,t,s,r){let n=s.find(t=>t.path===e),i=t.filter(t=>t.issuerPath===e),l=n&&r&&r[n.id]?r[n.id].source:"",a=i.reduce((e,t)=>t.request&&t.result?e.replace(RegExp(`["']${t.request}["']`),`"${t.result}"`):e,l);return{filepath:e,before:l,after:a,resolvers:i.map(e=>({...e,costs:function(e,t){let s=t.filter(t=>t!==e&&t.pid===e.pid&&t.startAt>=e.startAt&&t.endAt<=e.endAt),r=e.endAt-e.startAt;return s.length&&V(s.map(t=>[Math.max(t.startAt,e.startAt),Math.min(t.endAt,e.endAt)])).forEach(e=>{let t=e[1]-e[0];r-=t}),r}(e,t)}))}}(s.filepath,t||[],r||[],n||{})});case F.SDK.ServerAPI.API.GetPluginSummary:return this.loader.loadData("plugin").then(e=>{var t;return{hooks:eR(t=e||{}),tapNames:ez(t)}});case F.SDK.ServerAPI.API.GetPluginData:return this.loader.loadData("plugin").then(e=>{let{hooks:t,tapNames:r}=s;return function(e,t=[],s=[]){let r=eR(e).filter(e=>!t.length||-1!==t.indexOf(e));return r.length?ez(e).reduce((t,n)=>(s.length&&-1===s.indexOf(n)||r.forEach(s=>{let r=e[s].filter(e=>e.tapName===n);0!==r.length&&t.push({tapName:n,hook:s,data:r.map(e=>({startAt:e.startAt,endAt:e.endAt,costs:e.costs,type:e.type}))})}),t),[]):[]}(e||{},t,r)});case F.SDK.ServerAPI.API.GetAssetsSummary:return this.loader.loadData("chunkGraph").then(e=>{let{withFileContent:t=!0}=s,{assets:r=[],chunks:n=[]}=e||{};return function(e,t,s={}){let r={...s,filterOrExtensions:F.Constants.JSExtension},n={...s,filterOrExtensions:F.Constants.CSSExtension},i={...s,filterOrExtensions:F.Constants.ImgExtensions},l={...s,filterOrExtensions:F.Constants.HtmlExtension},a={...s,filterOrExtensions:F.Constants.MediaExtensions},o={...s,filterOrExtensions:F.Constants.FontExtensions},d={...s,filterOrExtensions:e=>!e_(e,[F.Constants.JSExtension,F.Constants.CSSExtension,F.Constants.HtmlExtension].concat(F.Constants.ImgExtensions,F.Constants.MediaExtensions,F.Constants.FontExtensions,F.Constants.MapExtensions))};return{all:{total:eI(e,t,s)},js:{total:eI(e,t,r),initial:eA(e,t,r)},css:{total:eI(e,t,n),initial:eA(e,t,n)},imgs:{total:eI(e,t,i)},html:{total:eI(e,t,l)},media:{total:eI(e,t,a)},fonts:{total:eI(e,t,o)},others:{total:eI(e,t,d)}}}(r,n,{withFileContent:t})});case F.SDK.ServerAPI.API.GetAssetDetails:return Promise.all([this.loader.loadData("chunkGraph"),this.loader.loadData("moduleGraph")]).then(e=>{let{assetPath:t}=s,{assets:r=[],chunks:n=[]}=e[0]||{},{modules:i=[]}=e[1]||{};let l=r.find(e=>e.path===t);return{asset:l,chunks:ew(eZ(l),n),modules:eC(l,n,i)}});case F.SDK.ServerAPI.API.GetChunksByModuleId:return Promise.all([this.loader.loadData("chunkGraph"),this.loader.loadData("moduleGraph")]).then(e=>{let{moduleId:t}=s,{chunks:r=[]}=e[0]||{},{modules:n=[]}=e[1]||{},i=n.find(e=>e.id===t);return i?eS(i,r):[]});case F.SDK.ServerAPI.API.GetModuleDetails:return Promise.all([this.loader.loadData("chunkGraph"),this.loader.loadData("moduleGraph")]).then(e=>{let{moduleId:t}=s,{modules:r=[],dependencies:n=[]}=e[1]||{};let i=r.find(e=>e.id===t);return{module:i,dependencies:i.dependencies.map(e=>n.find(t=>t.id===e)).filter(Boolean)}});case F.SDK.ServerAPI.API.GetModulesByModuleIds:return this.loader.loadData("moduleGraph").then(e=>{let{moduleIds:t}=s,{modules:r=[]}=e||{};return t.map(e=>r.find(t=>t.id===e)).filter(Boolean)});case F.SDK.ServerAPI.API.GetEntryPoints:return Promise.all([this.loader.loadData("chunkGraph")]).then(e=>{let[t]=e,{entrypoints:s=[]}=t||{};return s});case F.SDK.ServerAPI.API.GetModuleCodeByModuleId:return this.loader.loadData("moduleCodeMap").then(e=>{let{moduleId:t}=s;return e?e[t]:{source:"",transformed:"",parsedSource:""}});case F.SDK.ServerAPI.API.GetModuleCodeByModuleIds:return this.loader.loadData("moduleCodeMap").then(e=>{let{moduleIds:t}=s,r={};return e?(t.forEach(t=>{r[t]=e[t]}),r):[]});case F.SDK.ServerAPI.API.GetAllModuleGraph:return this.loader.loadData("moduleGraph").then(e=>e?.modules);case F.SDK.ServerAPI.API.GetSearchModules:return Promise.all([this.loader.loadData("moduleGraph"),this.loader.loadData("chunkGraph")]).then(e=>{let[t,r]=e,{moduleName:n}=s;if(!n)return[];let i=r.chunks.reduce((e,t)=>(t.assets.forEach(s=>{e[t.id]||(e[t.id]=[]),e[t.id].push(s)}),e),{}),l=new Map;return t?.modules.filter(e=>{e.webpackId.includes(n)&&e.chunks.forEach(e=>{l.has(e)||(i[e]||[]).forEach(t=>{t.endsWith(".js")&&l.set(e,t)})})}),Object.fromEntries(l)});case F.SDK.ServerAPI.API.GetSearchModuleInChunk:return Promise.all([this.loader.loadData("moduleGraph"),this.loader.loadData("root")]).then(e=>{let[t,r]=e,{moduleName:n,chunk:i}=s;return n?t?.modules.filter(e=>e.webpackId.includes(n)&&e.chunks.includes(i)).map(e=>({id:e.id,path:e.path,relativePath:(0,q.relative)(r,e.path)})):[]});case F.SDK.ServerAPI.API.GetAllChunkGraph:return this.loader.loadData("chunkGraph").then(e=>e?.chunks);case F.SDK.ServerAPI.API.GetPackageRelationAlertDetails:return Promise.all([this.loader.loadData("moduleGraph"),this.loader.loadData("errors"),this.loader.loadData("root"),this.loader.loadData("moduleCodeMap")]).then(e=>{let{id:t,target:r}=s,[n,i=[],l="",a]=e,{modules:o=[],dependencies:d=[]}=n||{},{packages:c=[]}=i.find(e=>e.id===t)||{},{dependencies:h=[]}=c.find(e=>e.target.name===r.name&&e.target.root===r.root&&e.target.version===r.version)||{};return eL(o,d,l,h,a||{})});case F.SDK.ServerAPI.API.GetOverlayAlerts:return this.loader.loadData("errors").then(e=>(e||[]).filter(e=>e.code===F.Rule.RuleMessageCodeEnumerated.Overlay));case F.SDK.ServerAPI.API.BundleDiffManifest:return this.loader.loadManifest();case F.SDK.ServerAPI.API.GetBundleDiffSummary:return Promise.all([this.loader.loadManifest(),this.loader.loadData("root"),this.loader.loadData("hash"),this.loader.loadData("errors"),this.loader.loadData("chunkGraph"),this.loader.loadData("moduleGraph"),this.loader.loadData("moduleCodeMap"),this.loader.loadData("packageGraph"),this.loader.loadData("configs")]).then(([e,t="",s="",r={},n={},i={},l={},a={},o=[]])=>{let d="";return"string"==typeof o[0]?.config?.output?.chunkFilename&&(d=o[0]?.config.output.chunkFilename),{root:t,hash:s,errors:r,chunkGraph:n,moduleGraph:i,packageGraph:a,outputFilename:d,moduleCodeMap:l}});case F.SDK.ServerAPI.API.GetTileReportHtml:return this.loader.loadData("otherReports").then(e=>e?.tileReportHtml);case F.SDK.ServerAPI.API.GetChunkGraph:return this.loader.loadData("chunkGraph").then(e=>{let{chunks:t=[]}=e||{};return t});case F.SDK.ServerAPI.API.GetAllModuleGraphFilter:return this.loader.loadData("moduleGraph").then(e=>e?.modules.map(e=>({id:e.id,webpackId:e.webpackId,path:e.path,size:e.size,chunks:e.chunks,kind:e.kind})));case F.SDK.ServerAPI.API.GetModuleByName:return this.loader.loadData("moduleGraph").then(e=>{let{moduleName:t}=s,{modules:r=[]}=e||{};return r.filter(e=>e.path.includes(t)).map(e=>({id:e.id,path:e.path}))||[]});case F.SDK.ServerAPI.API.GetModuleIssuerPath:return this.loader.loadData("moduleGraph").then(e=>{let{moduleId:t}=s,r=e?.modules||[],n=r.find(e=>String(e.id)===t)?.issuerPath||[];return Array.isArray(n)&&n.length>0&&"number"==typeof n[0]?n.map(e=>r.find(t=>t.id===e)?.path).filter(Boolean):n});case F.SDK.ServerAPI.API.GetPackageInfo:return this.loader.loadData("packageGraph").then(e=>e?.packages);case F.SDK.ServerAPI.API.GetPackageDependency:return this.loader.loadData("packageGraph").then(e=>e?.dependencies||[]);case F.SDK.ServerAPI.API.GetChunkGraphAI:return this.loader.loadData("chunkGraph").then(e=>{let{chunks:t=[]}=e||{};return t.map(({modules:e,...t})=>t)});case F.SDK.ServerAPI.API.GetChunkByIdAI:return Promise.all([this.loader.loadData("chunkGraph"),this.loader.loadData("moduleGraph")]).then(([e,t])=>{let{chunks:r=[]}=e||{},{modules:n=[]}=t||{},{chunkId:i}=s,l=r.find(e=>e.id===i);if(!l)return null;let a=n.filter(e=>l.modules.includes(e.id)).map(e=>({id:e.id,path:e.path,size:e.size,chunks:e.chunks,kind:e.kind,issuerPath:e.issuerPath}));return l.modulesInfo=a,l});case F.SDK.ServerAPI.API.GetDirectoriesLoaders:return Promise.all([this.loader.loadData("root"),this.loader.loadData("loader")]).then(([e,t])=>ec(t||[],e||""));default:throw Error(`API not implement: "${t}"`)}}}let eB=/[a-zA-Z0-9]+(?:[-|_|.]+[a-zA-Z0-9]+)*/;function eF(e){return"number"==typeof e&&!Number.isNaN(e)}RegExp(`(?:${/(?:node_modules|~)(?:\/\.pnpm)?/.source}/)(?:(?:@${eB.source}[/|+])?(?:${eB.source}\\+)*(?:${eB.source})(?:${/@[\w|\-|_|.]+/.source})?)(?:_(?:@${eB.source}[/|+])?(?:${eB.source})(?:@${eB.source})?)*/`,"g");s(88637),s(72715);var e$=s(50002);class eG{constructor(e){this.manifest=e,this.pool=new Map,this.disposed=!1,this.shardingDataMap=new Map,this.loader=new eO(this),console.log("[DataLoader] isLocal: ",this.isLocal())}get(e){if(this.manifest)return this.manifest[e]}getData(e,t="data"){let s=this.get(t);if(s)return s[e]}getKeys(e){return e.split(".")}joinKeys(e){return e.join(".")}dispose(){this.disposed=!0}limit(e,t){if(this.pool.has(e))return this.pool.get(e);let s=t().finally(()=>this.pool.delete(e));return this.pool.set(e,s),s}log(...e){console.log(`[${this.constructor.name}]`,...e)}async loadManifest(){return this.manifest}}var eK=s(33800);let eW=new Map,eH=location.protocol.includes("https")?"wss":"ws",eV=`${eH}://${location.host}`,eU=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;function eq(e){let t=function({port:e,protocol:t,hostname:s}){if("undefined"!=typeof URL){let r=new URL("http://localhost");return r.port=String(e),r.hostname=s,r.protocol=location.protocol.includes("https")?"wss":"ws",eU.test(s)||s.includes("localhost")?r.toString():`${t}//${s}`}let r=-1===t.indexOf(":")?":":"";return`${t}${r}//${s}:${e}`}({port:e,hostname:location.hostname,protocol:location.protocol});return function(e=eV){if(!eW.has(e)){let t=(0,eK.io)(e,{});t.on("connect",()=>{console.log(`Socket Connect ${e}`)}),eW.set(e,t)}return eW.get(e)}(e?t:eV)}class eY extends eG{constructor(){super(...arguments),this.events=new Map}isLocal(){return!0}async loadData(e){return this.limit(e,async()=>{let[t,...s]=this.getKeys(e),r=this.getData(t);if(!r)return;let n=r;if(Q(n)){if(!this.shardingDataMap.has(e)){let t=new Promise(t=>{eq().emit(F.SDK.ServerAPI.API.LoadDataByKey,{key:e},e=>{t(e.res)})});this.shardingDataMap.set(e,t)}return n=await this.shardingDataMap.get(e),this.shardingDataMap.delete(e),n}return s.length>0?(0,e$.Z)(n,this.joinKeys(s)):n})}async loadAPI(...e){let[t,s]=e,r=s?`${t}_${JSON.stringify(s)}`:`${t}`,n=this.get("__SOCKET__PORT__")??"";return this.limit(r,async()=>new Promise(e=>{eq(n).emit(t,s,t=>{e(t.res)})}))}dispose(){super.dispose(),this.events.forEach((e,t)=>{e.forEach(e=>{this.removeOnDataUpdate(t,e)}),e.clear()}),this.events.clear()}onDataUpdate(e,t){this.events.has(e)||this.events.set(e,new Set),this.events.get(e).has(t)||(this.events.get(e).add(t),eq().on(e,t))}removeOnDataUpdate(e,t){eq().off(e,t),this.events.get(e).delete(t)}}var eJ=s(12722),eQ=s(89730),eX=s.n(eQ),e0=s(45641);let e1=e=>{if(e?.indexOf("node_modules")>=0){let t=e.split("node_modules");return`node_modules${t[t.length-1]}`}return e?.length?`${e?.split("/").slice(-4).join("/")}`:e};function e5(e){return null!=e}async function e2(e){return J(e)?eJ.Z.get(e,{timeout:999999,responseType:"text"}).then(e=>e.data):e}async function e4(e){let t=await eJ.Z.get(e,{timeout:3e4}).then(e=>e.data);return"string"==typeof t&&(t=JSON.parse(t)),console.log("[json] ",e,t),t}let e6=new Map;async function e3(e=(!(r=window[F.Manifest.RsdoctorManifestClientConstant.WindowPropertyForManifestUrl]?window[F.Manifest.RsdoctorManifestClientConstant.WindowPropertyForManifestUrl]:function(){let{query:e}=eX()(location.href,!0),t=e[F.Client.RsdoctorClientUrlQuery.ManifestFile];if(t)return decodeURIComponent(t)}())&&(r=F.SDK.ServerAPI.API.Manifest),r)){return e6.has(e)||e6.set(e,e4(e).catch(t=>{throw e6.delete(e),t})),await e6.get(e)}class e7 extends eG{isLocal(){return!1}async loadData(e){return this.limit(e,async()=>{let[t,...s]=this.getKeys(e),r=this.getData(t,"cloudData");if(!r)return;let n=r;if(Q(n)){if(!this.shardingDataMap.has(t)){let s=X(n,e2).catch(t=>{throw this.log("loadData error: ",n,e),t});this.shardingDataMap.set(t,s)}n=await this.shardingDataMap.get(t)}return s.length>0?(0,e$.Z)(n,this.joinKeys(s)):n})}async loadAPI(...e){let[t,s]=e,r=s?`${t}_${JSON.stringify(s)}`:`${t}`;return this.limit(r,async()=>this.loader.loadAPI(...e))}dispose(){super.dispose()}onDataUpdate(){}removeOnDataUpdate(){}}class e8 extends eG{isLocal(){return!1}async loadData(e){console.log(`[loadData]-[key]: ${e}`);let[t]=this.getKeys(e);console.log(`[loadData]-[scope]: ${t}`);let s=this.getData(t);if(!s)return;let r=s;if(!this.shardingDataMap.has(t)){let e="object"==typeof r?r:JSON.parse(U(r));this.shardingDataMap.set(t,e)}return await this.shardingDataMap.get(t)}getData(e){return console.log(`[getData]-[scope]: ${e}`),window[F.Constants.WINDOW_RSDOCTOR_TAG][e]}async loadAPI(...e){return this.loader.loadAPI(...e)}dispose(){super.dispose()}onDataUpdate(){}removeOnDataUpdate(){}}let e9=new WeakMap;async function te(e){try{if(e.__LOCAL__SERVER__)return console.log("[LocalServerDataLoader]"),new eY(e)}catch(e){console.log("[DataLoader] fallback to RemoteDataLoader")}return new e7(e)}function tt(e){let[t,s]=(0,B.useState)(void 0);return(0,B.useEffect)(()=>{window[F.Constants.WINDOW_RSDOCTOR_TAG]&&(console.log("[brief mode]"),s(new e8({data:[]})))},[]),(0,B.useEffect)(()=>{if(e){if(!e9.has(e)){let t=te(e);e9.set(e,t)}e9.get(e).then(e=>{s(e)})}},[e]),{loader:t}}var ts=s(96883),tr=s(13775),tn=s(41041),ti=s(16517),tl=s(2418),ta=s(78210),to=s(33126),td=s(10414),tc=e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:14,fill:"none",viewBox:"0 0 12 14",...e,children:[(0,b.jsx)("path",{fill:"#FAAD14",d:"M11.409 3.51 8.046.146A.5.5 0 0 0 7.693 0H1.056a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V3.864a.503.503 0 0 0-.147-.355ZM7.462 1.152l2.94 2.94h-2.94v-2.94Zm2.969 11.722H1.68V1.125h4.718V4.5a.656.656 0 0 0 .657.656h3.375v7.719Z"}),(0,b.jsx)("path",{fill:"#FAAD14",d:"M6.927 9.651h.888a1.61 1.61 0 0 1-.24.775c-.141.226-.338.402-.592.528-.251.127-.554.19-.908.19a1.86 1.86 0 0 1-.745-.142 1.586 1.586 0 0 1-.564-.416 1.851 1.851 0 0 1-.354-.653 2.826 2.826 0 0 1-.121-.858v-.3c0-.316.041-.602.124-.858.085-.257.206-.476.362-.656.159-.18.348-.319.567-.415.22-.097.466-.146.737-.146.36 0 .664.065.911.196.25.13.443.31.58.54.138.23.22.491.249.784H6.93a1.146 1.146 0 0 0-.104-.442.59.59 0 0 0-.27-.276 1.012 1.012 0 0 0-.475-.095.86.86 0 0 0-.39.083.722.722 0 0 0-.278.252 1.245 1.245 0 0 0-.17.428c-.035.17-.053.37-.053.6v.305c0 .224.017.42.05.591.034.168.086.31.155.428a.719.719 0 0 0 .273.26.888.888 0 0 0 .407.087c.186 0 .34-.03.46-.09a.616.616 0 0 0 .276-.263c.065-.117.104-.263.116-.437Z"}),(0,b.jsx)("path",{fill:"#FFF1B8",fillRule:"evenodd",d:"M6.4 1.125V4.5a.656.656 0 0 0 .656.656h3.375v7.719H1.68V1.125h4.718Zm1.415 8.526h-.888c-.012.174-.05.32-.116.437a.616.616 0 0 1-.276.264c-.12.06-.274.089-.46.089a.888.888 0 0 1-.407-.086.72.72 0 0 1-.273-.261c-.07-.117-.12-.26-.154-.428a3.073 3.073 0 0 1-.05-.59v-.307c0-.23.017-.43.053-.6.037-.172.094-.314.169-.427a.722.722 0 0 1 .279-.252.86.86 0 0 1 .389-.083c.198 0 .356.031.475.095a.59.59 0 0 1 .27.276c.06.12.094.268.104.442h.89a1.829 1.829 0 0 0-.249-.784c-.136-.23-.33-.41-.579-.54-.247-.13-.551-.196-.911-.196-.271 0-.517.049-.737.146-.22.097-.408.235-.567.415-.156.18-.277.399-.362.656a2.763 2.763 0 0 0-.124.858v.3c0 .317.04.603.121.858.081.255.2.473.354.653.156.18.344.319.564.416.22.095.468.143.745.143.354 0 .657-.064.908-.19.254-.127.45-.303.591-.529a1.61 1.61 0 0 0 .24-.775Z",clipRule:"evenodd"})]}),th=e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:14,fill:"none",viewBox:"0 0 12 14",...e,children:[(0,b.jsx)("path",{fill:"#722ED1",d:"M6.076 7.58a.356.356 0 0 1 .646.299l-1.576 3.414a.356.356 0 0 1-.646-.298l1.576-3.414ZM7.198 8.135a.356.356 0 0 0 0 .503l.8.799-.8.8a.356.356 0 1 0 .503.502l1.05-1.05a.356.356 0 0 0 0-.503l-1.05-1.05a.356.356 0 0 0-.503 0ZM4.024 8.135a.356.356 0 0 1 0 .503l-.799.799.8.8a.356.356 0 1 1-.504.502l-1.05-1.05a.356.356 0 0 1 0-.503l1.05-1.05a.356.356 0 0 1 .503 0Z"}),(0,b.jsx)("path",{fill:"#EFDBFF",fillRule:"evenodd",d:"M5.955 1.125V4.5a.656.656 0 0 0 .656.656h3.375v7.719h-8.75V1.125h4.719Zm.121 6.456a.356.356 0 1 1 .646.298l-1.576 3.414a.356.356 0 1 1-.646-.298l1.576-3.414Zm1.122.554a.356.356 0 0 0 0 .503l.8.799-.8.8a.356.356 0 1 0 .503.502l1.05-1.05a.356.356 0 0 0 0-.503l-1.05-1.05a.356.356 0 0 0-.503 0Zm-3.174.503a.356.356 0 1 0-.503-.503l-1.05 1.05a.356.356 0 0 0 0 .503l1.05 1.05a.355.355 0 1 0 .503-.502l-.799-.799.8-.8Z",clipRule:"evenodd"}),(0,b.jsx)("path",{fill:"#722ED1",d:"M10.964 3.51 7.602.146A.5.5 0 0 0 7.249 0H.61a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V3.864a.503.503 0 0 0-.147-.355ZM7.017 1.152l2.941 2.94h-2.94v-2.94Zm2.97 11.722h-8.75V1.125h4.718V4.5a.656.656 0 0 0 .656.656h3.375v7.719Z"})]}),tu=e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:14,fill:"none",viewBox:"0 0 12 14",...e,children:[(0,b.jsx)("path",{fill:"#E6F7FF",d:"M6.733 4.5V1.125h-4.72v11.75h8.75V5.156H7.39a.656.656 0 0 1-.656-.656Zm-2.094.781a.625.625 0 1 1 0 1.25.625.625 0 0 1 0-1.25Zm4.625 4.594H3.515a.125.125 0 0 1-.098-.202l1.56-1.987a.125.125 0 0 1 .196 0l.642.819 1.216-1.55a.126.126 0 0 1 .199 0l2.132 2.718a.125.125 0 0 1-.098.202Z"}),(0,b.jsx)("path",{fill:"#1890FF",d:"M11.742 3.51 8.38.146A.5.5 0 0 0 8.026 0H1.39a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V3.864a.503.503 0 0 0-.147-.355ZM7.795 1.152l2.94 2.94h-2.94v-2.94Zm2.969 11.722h-8.75V1.125h4.719V4.5a.656.656 0 0 0 .656.656h3.375v7.719Z"}),(0,b.jsx)("path",{fill:"#1890FF",d:"m7.031 6.955-1.215 1.55-.643-.82a.125.125 0 0 0-.196 0l-1.56 1.988a.125.125 0 0 0 .099.202h5.748c.105 0 .163-.12.098-.202L7.23 6.955a.127.127 0 0 0-.199 0ZM4.014 5.906a.625.625 0 1 0 1.25 0 .625.625 0 0 0-1.25 0Z"})]}),tp=e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:14,fill:"none",viewBox:"0 0 12 14",...e,children:[(0,b.jsx)("path",{fill:"#E6F7FF",fillRule:"evenodd",d:"M6.177 1.125V4.5a.656.656 0 0 0 .656.656h3.375v7.719h-8.75V1.125h4.72Zm1.806 8.7c.02.054.03.115.03.183a.411.411 0 0 1-.26.388.833.833 0 0 1-.333.057c-.111 0-.213-.011-.307-.034a.661.661 0 0 1-.24-.11.5.5 0 0 1-.153-.197.733.733 0 0 1-.055-.3H5.88c0 .214.044.399.133.555.088.156.206.285.354.386.15.1.315.176.497.226.183.049.368.073.555.073.208 0 .397-.023.565-.07.169-.047.314-.116.435-.206.122-.09.215-.2.279-.33a.987.987 0 0 0 .096-.443c0-.157-.027-.296-.08-.42a.978.978 0 0 0-.24-.33 1.687 1.687 0 0 0-.396-.263 3.463 3.463 0 0 0-.544-.211 3.423 3.423 0 0 1-.326-.118 1.298 1.298 0 0 1-.237-.127.528.528 0 0 1-.146-.146.333.333 0 0 1-.047-.174c0-.086.023-.162.068-.23a.451.451 0 0 1 .203-.164.808.808 0 0 1 .339-.062c.14 0 .257.024.349.073a.476.476 0 0 1 .208.2c.047.084.07.18.07.292h.777c0-.226-.059-.426-.175-.602a1.172 1.172 0 0 0-.484-.414 1.664 1.664 0 0 0-.732-.15c-.205 0-.393.024-.565.075-.17.05-.318.122-.443.216a.989.989 0 0 0-.292.333.889.889 0 0 0-.104.43c0 .163.033.306.1.43.067.123.159.231.275.325.118.092.254.173.406.242.155.07.318.132.49.188.155.048.28.095.378.14a.97.97 0 0 1 .226.138c.054.046.09.096.11.152ZM4.595 7.209v2.628c0 .13-.021.24-.063.33a.456.456 0 0 1-.17.206.466.466 0 0 1-.257.07.608.608 0 0 1-.263-.051.36.36 0 0 1-.17-.175.791.791 0 0 1-.057-.33h-.783c0 .265.054.485.164.658.109.172.26.3.45.383.191.083.41.125.659.125.24 0 .455-.048.646-.146.193-.097.344-.236.456-.416.11-.183.166-.4.166-.654V7.208h-.778Z",clipRule:"evenodd"}),(0,b.jsx)("path",{fill:"#1890FF",d:"M8.014 10.008a.502.502 0 0 0-.031-.182.344.344 0 0 0-.11-.152.97.97 0 0 0-.226-.138 3.201 3.201 0 0 0-.378-.14 4.777 4.777 0 0 1-.49-.188 2.012 2.012 0 0 1-.406-.242 1.091 1.091 0 0 1-.276-.325.897.897 0 0 1-.099-.43c0-.158.035-.301.104-.43a.989.989 0 0 1 .292-.333c.125-.094.273-.166.443-.216.172-.05.36-.076.565-.076.28 0 .523.05.732.151.208.101.37.239.484.414.116.176.175.376.175.602h-.776a.585.585 0 0 0-.07-.292.476.476 0 0 0-.21-.2.743.743 0 0 0-.348-.073.808.808 0 0 0-.339.062.451.451 0 0 0-.203.164.404.404 0 0 0-.067.23c0 .064.015.122.046.174.033.052.082.1.146.146.064.045.143.088.237.127.094.04.202.08.326.118.206.062.388.132.544.21.158.079.29.166.396.264a.978.978 0 0 1 .24.33c.053.124.08.263.08.42a.987.987 0 0 1-.096.442.909.909 0 0 1-.279.331c-.121.09-.266.159-.435.206a2.11 2.11 0 0 1-.565.07c-.187 0-.372-.024-.555-.073a1.686 1.686 0 0 1-.497-.226c-.148-.101-.266-.23-.354-.386a1.107 1.107 0 0 1-.133-.555h.784c0 .119.018.218.055.3a.5.5 0 0 0 .153.198c.068.05.148.087.24.11.094.022.196.033.307.033.136 0 .247-.019.333-.057a.411.411 0 0 0 .26-.388ZM4.595 9.836V7.208h.778v2.628c0 .253-.055.471-.166.654-.112.18-.263.319-.456.416a1.402 1.402 0 0 1-.646.146c-.248 0-.468-.042-.659-.125a.991.991 0 0 1-.45-.383c-.11-.173-.164-.393-.164-.659h.783c0 .14.02.25.058.331a.36.36 0 0 0 .169.175c.073.034.16.052.263.052a.466.466 0 0 0 .258-.07.456.456 0 0 0 .17-.206c.04-.09.062-.2.062-.331Z"}),(0,b.jsx)("path",{fill:"#1890FF",d:"M11.186 3.51 7.824.146A.5.5 0 0 0 7.47 0H.833a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V3.864a.503.503 0 0 0-.147-.355ZM7.24 1.152l2.94 2.94H7.24v-2.94Zm2.968 11.722h-8.75V1.125h4.72V4.5a.656.656 0 0 0 .655.656h3.375v7.719Z"})]}),tm=e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:14,fill:"none",viewBox:"0 0 12 14",...e,children:[(0,b.jsx)("path",{fill:"#F0F0F0",d:"M6.288 4.5V1.125H1.57v11.75h8.75V5.156H6.944a.656.656 0 0 1-.656-.656Zm-.344 6.625a.5.5 0 1 1 0-.999.5.5 0 0 1 0 .999Zm1.72-3.569c.01.702-.465 1.32-1.162 1.546a.22.22 0 0 0-.151.207V9.5c0 .086-.07.156-.157.156h-.5a.157.157 0 0 1-.156-.156V9a.648.648 0 0 1 .542-.627c.443-.057.77-.4.77-.795 0-.439-.402-.805-.906-.805-.503 0-.906.366-.906.807a.15.15 0 0 1-.153.147H4.38a.15.15 0 0 1-.153-.149c0-.897.783-1.62 1.742-1.61.926.013 1.683.721 1.695 1.588Z"}),(0,b.jsx)("path",{fill:"#8C8C8C",d:"M11.298 3.51 7.935.148A.503.503 0 0 0 7.58 0H.944a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V3.864a.5.5 0 0 0-.146-.353ZM7.35 1.154l2.94 2.94h-2.94v-2.94Zm2.968 11.722H1.57V1.125h4.72V4.5a.656.656 0 0 0 .655.656h3.375v7.719Z"}),(0,b.jsx)("path",{fill:"#8C8C8C",d:"M5.444 10.625a.5.5 0 1 0 1 0 .5.5 0 0 0-1 0ZM4.226 7.578a.15.15 0 0 0 .153.149h.506a.15.15 0 0 0 .153-.147c0-.44.403-.807.906-.807.504 0 .907.366.907.805 0 .395-.328.738-.77.795A.648.648 0 0 0 5.537 9v.5c0 .086.07.156.156.156h.5c.086 0 .157-.07.157-.156v-.19a.22.22 0 0 1 .151-.208c.697-.225 1.172-.844 1.161-1.546-.012-.867-.769-1.575-1.695-1.587-.96-.011-1.742.712-1.742 1.61Z"})]});let{useToken:tx}=to.Z;function tf(e){let t=function(e){switch(Y().extname(e).slice(1).toLowerCase()){case"js":case"jsx":case"ts":case"mjs":case"cjs":case"mts":case"cts":return(0,b.jsx)(tp,{});case"tsx":default:return(0,b.jsx)(tm,{});case"css":case"scss":case"sass":case"less":case"styl":case"stylus":return(0,b.jsx)(tc,{});case"html":return(0,b.jsx)(th,{});case"png":case"jpg":case"jpeg":case"gif":case"svg":case"bmp":case"webp":case"ico":case"apng":case"avif":case"tif":case"tiff":case"jfif":case"pjpeg":case"pjp":return(0,b.jsx)(tu,{})}}(e);return(0,b.jsx)("div",{className:"file-icon",children:t})}let tg=e=>{let{isDark:t}=t9(),{token:s}=tx(),r=t?s.colorWhite:s.colorText,n={fontSize:s.fontSize};return(0,b.jsx)(td.Z,{checkable:!1,selectable:!0,switcherIcon:({data:e,expanded:t})=>e?.children?(0,b.jsxs)(tr.Z,{style:{color:r},children:[(0,b.jsx)(tn.Z,{twoToneColor:r,className:`file-tree-switcher-arrow ${t?"file-tree-switcher-arrow-expand":""}`,style:n}),t?(0,b.jsx)(ti.Z,{}):(0,b.jsx)(tl.Z,{})]}):e?.key&&"string"==typeof e.key?tf(e.key):(0,b.jsx)(ta.Z,{}),expandAction:"click",...e})},tj=(e,t="/")=>{let s=e?.indexOf(t);return -1===s?null:0===s?t+(tj(e?.slice(1))||""):e?.slice(0,s)};function ty(e,t=2,s=()=>!0){let r=0,n=[],i=e;for(;r<t&&(i.filter(s).forEach(e=>{e.isLeaf||n.push(e.key)}),(i=i.reduce((e,t)=>e.concat(t.children||[]),[])).length);)r++;return n}let tv="__BASENAME__";function tb({files:e,sep:t="/",inlinedResourcePathKey:s="__RESOURCEPATH__",fileTitle:r=(e,t)=>t,dirTitle:n=(e,t)=>t,page:i="other"}){let l=new RegExp(t),a=e.reduce((e,n)=>{let a=tj(n,t),o=a?n?.slice(a.length+1):n,d=e;for(;a;){let e=d.children.find(e=>e.title===a);if(!e){let r=[d[s],a].filter(Boolean).join(t);e={title:a,icon:"bundle"===i?e=>tw(e,!1):null,key:r,children:[],[s]:r,[tv]:a},d.children.push(e)}d=e,o=(a=tj(o))?o.slice(a.length).replace(l,""):o}return d.children.some(e=>(0,e$.Z)(e,s)===n)||d.children.push({title:()=>r(n,o),icon:"bundle"===i?e=>tw(e):null,key:n,isLeaf:!0,[s]:n,[tv]:o}),e},{key:"0",children:[]}).children;return a.forEach(e=>{e.children&&e.children.forEach(r=>(function e(t,s,r="/",n,i=(e,t)=>t){if(!t.isLeaf)if(s.children&&1===s.children.length){let l=[s[tv],t[tv]].join(r);s[n]=t[n],s[tv]=l,s.key=[s.key,t.key].join("-"),s.children=t.children,s.title=i(s,l),t.children&&t.children.forEach(t=>{e(t,s,r,n,i)})}else t.title=i(t,t[tv]),t.children&&t.children.forEach(s=>{e(s,t,r,n,i)})})(r,e,t,s,n))}),a}function tZ(e,t){return(0,ts.Z)(e,t)?e.replace(t,"."):e}function tS(e,t){let s=tZ(e,t),r="/node_modules/",n=s.lastIndexOf(r);return n>-1?{alias:s.slice(n+r.length),inNodeModules:!0}:{alias:s,inNodeModules:!1}}function tw(e,t=!0){let{data:s}=e,r=e.expanded;return s?.children?(0,b.jsxs)(tr.Z,{children:[t?(0,b.jsx)(tn.Z,{className:`file-tree-switcher-arrow ${r?"file-tree-switcher-arrow-expand":""}`}):(0,b.jsx)(b.Fragment,{}),r?(0,b.jsx)(ti.Z,{}):(0,b.jsx)(tl.Z,{})]}):e.eventKey&&"string"==typeof e.eventKey?tf(e.eventKey):(0,b.jsx)(ta.Z,{})}var tC=s(40521),tM=s(2321),tk=s(78493),tP=s(52812),t_=s(91425);let tD=F.Client.RsdoctorClientRoutes.RuleIndex,tI=()=>{let{i18n:e,...t}=(0,tP.$)();return{...t,i18n:{...e,changeLanguage:(t,s)=>e.changeLanguage(t,(e,r)=>{e||z("LOCALE",t),s&&s(e,r)})}}};function tN(e,t){let s=(0,t_.s0)();return t?()=>window.open(t,"__blank"):()=>{s(`${tD}?${F.Rule.RsdoctorRuleClientConstant.UrlQueryForErrorCode}=${e}`)}}function tA(){let e=(0,t_.TH)().search||location.search,{query:t}=eX()(e,!0);return t}function tE(e){let t=e;"string"==typeof t&&(e=JSON.parse(U(t)));var s=e,r={dependencies:[],modules:[],moduleGraphModules:[],exports:[],sideEffects:[],variables:[]};return s&&"object"==typeof s?(0,tC.Z)(s)?r:(0,tM.Z)(s,r):r}function tT(e){return(0,tk.Z)(e,e=>e.path)}function tR(e){return((0,tC.Z)(e)?e.filter(e=>e.category===F.Rule.RuleMessageCategory.Bundle&&e.code!==F.Rule.RuleMessageCodeEnumerated.Overlay):[]).filter(e=>e.code===F.Rule.RuleErrorMap.E1001.code)}var tz=s(457);let{findLoaderTotalTiming:tL,getLoaderCosts:tO}=y;function tB(e,t,s,r,n,i){return!(s&&-1===e.indexOf(s)||n&&i&&n!==i||r?.length&&!(0,tz.Z)(r,t))}var tF=s(35095),t$=s(55301);function tG(e){return"cn"===e||"zh-CN"===e?tF.Z:t$.Z}let tK=1;class tW{constructor(e,t,s,r,n){this.statements=[],this.meta={exportsType:"default-with-named"},this.id=tK++,this.request=e,this.module=t,this._originDependency=s,this.kind=r,this.statements=n??[]}static init(){tK=1}get resolvedRequest(){return this.dependency.path}get dependency(){return this.originDependency.rootModule??this.originDependency}get originDependency(){return this._originDependency}get kindString(){return F.SDK.DependencyKind[this.kind]}get resolveConcatenationModule(){return this.dependency.kind===F.SDK.ModuleKind.Concatenation}isSameWithoutStatements(e){return this.request===e.request&&this.kind===e.kind&&this.module.id===e.module.id&&this.dependency.id===e.dependency.id}addStatement(e){this.hasStatement(e)||this.statements.push(e)}hasStatement(e){return this.statements.some(t=>t.isSame(e))}setBuildMeta(e){this.meta={...this.meta,...e}}toData(){return{id:this.id,request:this.request,resolvedRequest:this.resolvedRequest,kind:this.kind,module:this.module.id,dependency:this.dependency.id,originDependency:this.originDependency.id,statements:this.statements.map(e=>e.toData())}}setId(e){this.id=e}}function tH(e,t){return e.line===t.line&&e.column===t.column}tW.kind=F.SDK.DependencyKind;let tV=/!/,tU=/\s\+\s\d*\smodules$/,tq=/^css\s.*node_modules(?!\/)/;class tY{static getDefaultStatement(e){let t={line:1,column:0},s={start:{...t},end:{...t}};return new tY(e,{source:{...s},transformed:{...s}})}constructor(e,t){this.module=e,this.position=t}isSame(e){var t,s,r,n;return this.module.id===e.module.id&&(t=this.position.transformed,s=e.position.transformed,!!tH(t.start,s.start)&&(null!=t.end&&null!=s.end?tH(t.end,s.end):void 0===t.end&&void 0===s.end))}getSourcePosition(){let{module:e,position:t}=this;return t.source?t.source:e.getSourceMap()?(t.source=e.getSourceRange(t.transformed),t.source):void 0}getLineCode(){let e=this.module.isPreferSource&&this.position.source,t=this.module.getSource(),s=e?t.source:t.transformed,r=e?this.position.source.start.line:this.position.transformed.start.line;if("number"==typeof r)return s.split("\n")[r-1]}toData(){let e={transformed:this.position.transformed};return this.position.source&&(e.source=this.position.source),{position:e,module:this.module.id}}}let tJ=1;class tQ{constructor(e,t,s=!1,r=F.SDK.ModuleKind.Normal,n,i=""){this.issuerPath=[],this.source={source:"",transformed:"",parsedSource:""},this.size={sourceSize:0,transformedSize:0,parsedSize:0},this.chunks=[],this.dependencies=[],this.imported=[],this.modules=[],this.concatenationModules=[],this.meta={hasSetEsModuleStatement:!1,strictHarmonyModule:!1},this.id=tJ++,this.webpackId=e,this.path=t,this.isEntry=s,this.kind=r,this.renderId=n,this.layer=i}static init(){tJ=1}get rootModule(){return this.modules.find(e=>e.path===this.path)}get isPreferSource(){if("boolean"==typeof this._isPreferSource)return this._isPreferSource;let e=this.source.source.length>0&&"test code"!==this.source.source&&!!this.sourceMap;return this._isPreferSource=e,e}getChunks(){return this.chunks.slice()}addChunk(e){this.chunks.includes(e)||(this.chunks.push(e),e.addModule(this))}removeChunk(e){this.chunks=this.chunks.filter(t=>t!==e)}getDependencies(){return this.dependencies.slice()}getDependencyByRequest(e){return this.dependencies.find(t=>t.request===e)}getDependencyByModule(e){return this.dependencies.find(t=>t.originDependency===e||t.dependency===e)}addDependency(e,t,s,r){let n=new tW(e,this,t,s,r);if(this.dependencies.every(e=>!e.isSameWithoutStatements(n)))return this.dependencies.push(n),t.addImported(this),t.rootModule&&t.rootModule.addImported(this),n}removeDependency(e){this.dependencies=this.dependencies.filter(t=>t===e)}removeDependencyByModule(e){let t=this.getDependencyByModule(e);t&&this.removeDependency(t)}getImported(){return this.imported.slice()}addImported(e){this.imported.includes(e)||this.imported.push(e)}removeImported(e){this.imported=this.imported.filter(t=>t===e)}setProgram(e){this.program=e}getProgram(){return this.program}setSource(e){let{source:t}=this;t.source=e.source??t.source,t.transformed=e.transformed??t.transformed,t.parsedSource=e.parsedSource??t.parsedSource}getSource(e=F.SDK.ToDataType.Normal){return e===F.SDK.ToDataType.NoCode?{source:"",transformed:"",parsedSource:""}:e===F.SDK.ToDataType.NoSourceAndAssets||e===F.SDK.ToDataType.NoSource?{source:"",transformed:"",parsedSource:this.isPreferSource?"":this.source.parsedSource}:e===F.SDK.ToDataType.All?{source:this.source.source,transformed:this.source.transformed,parsedSource:this.isPreferSource?"":this.source.parsedSource}:{source:this.source.source,transformed:"",parsedSource:this.isPreferSource?"":this.source.parsedSource}}setSourceMap(e){this.sourceMap=e}getSourceMap(){return this.sourceMap}setSize(e){let{size:t}=this;t.sourceSize=e.sourceSize??t.sourceSize,t.transformedSize=e.transformedSize??t.transformedSize,t.parsedSize=e.parsedSize??t.parsedSize}getSize(){return{...this.size}}getStatement(e){return new tY(this,{source:this.getSourceRange(e),transformed:{start:{...e.start},end:e.end?{...e.end}:void 0}})}getSourceRange(e){let{sourceMap:t}=this;if(!t)return;let s={start:{}},r=t.originalPositionFor({line:e.start.line??0,column:e.start.column??0,bias:1});if(eF(r.line)&&(s.start={line:r.line,column:r.column??void 0}),e.end){let r=t.originalPositionFor({line:e.end.line??0,column:e.end.column??0});eF(r.line)&&(s.end={line:r.line,column:r.column??void 0})}return s}addNormalModule(e){this.modules.includes(e)||(this.modules.push(e),e.addConcatenationModule(this))}getNormalModules(){return this.modules.slice()}addConcatenationModule(e){this.concatenationModules.includes(e)||this.concatenationModules.push(e)}addIssuerPath(e){this.issuerPath?.length||(this.issuerPath=e)}getIssuerPath(){return this.issuerPath}getConcatenationModules(){return this.concatenationModules.slice()}toData(e){let{isPreferSource:t}=this,s=function(e){if(!e)return"";if(tV.test(e)){var t;let s=(t=e.split(tV))[t.length-1];if(s?.trim())return s}return tU.test(e)?e.replace(tU,""):tq.test(e)?e.replace(tq,""):e}(this.webpackId),r={id:this.id,renderId:this.renderId,webpackId:e&&s.indexOf(".")>0?Y().relative(e,s):this.webpackId,path:this.path,isPreferSource:t,dependencies:this.dependencies.map(e=>e.id),imported:this.imported.map(e=>e.id),chunks:this.chunks.map(e=>e.id),size:this.getSize(),kind:this.kind,...this.layer?{layer:this.layer}:{},issuerPath:this.issuerPath?.filter(e=>e.moduleId).map(e=>e.moduleId)||[]};return(this.meta.hasSetEsModuleStatement||this.meta.strictHarmonyModule)&&(r.meta={},this.meta.hasSetEsModuleStatement&&(r.meta.hasSetEsModuleStatement=!0),this.meta.strictHarmonyModule&&(r.meta.strictHarmonyModule=!0)),this.isEntry&&(r.isEntry=this.isEntry),this.modules.length>0&&(r.modules=this.modules.map(e=>e.id)),this.rootModule&&(r.rootModule=this.rootModule.id),this.concatenationModules.length>0&&(r.concatenationModules=this.concatenationModules.map(e=>e.id)),r}setId(e){this.id=e}setRenderId(e){this.renderId=e}setChunks(e){this.chunks=e}setDependencies(e){this.dependencies=e}setImported(e){this.imported=e}setModules(e){this.modules=e}setConcatenationModules(e){this.concatenationModules=e}}tQ.kind=F.SDK.ModuleKind;let tX=1;class t0{constructor(e,t,s){this.id=tX++,this._sideEffects=[],this.name=e,this.identifier=t,this._variable=s}static init(){tX=1}get isReExport(){return!!this.from}set variable(e){this._variable=e}get variable(){if(this._variable)return this._variable;if(!this.from||!1===this._variable){this._variable=!1;return}let e=this.getRecursiveExport()?.variable;return e||(this._variable=!1),e}addSideEffect(e){this._sideEffects.every(t=>t.id!==e.id)&&(this._sideEffects.push(e),this.from&&this.from.addSideEffect(e))}getSideEffects(){return this._sideEffects.slice()}setFromExport(e){this.from=e}getRecursiveExport(e=1/0){if(0===e)throw Error("`getRecursiveExport` method parameter depth must be greater than 1.");if(!this.from)return this;let t=0,s=this;for(;s.from&&t<e;)t++,s=s.from;return s}toData(){let e={id:this.id,name:this.name,isReExport:this.isReExport,used:this._sideEffects.map(e=>e.id)};return this.from&&(e.from=this.from.id,e.root=this.getRecursiveExport().id),this.variable&&(e.variable=this.variable.id),e}}let t1=1,t5=class e{constructor(t,s,r,n,i){this.id=t1++,this._exports=[],this.name=t,this.module=s,this.identifier=r,n&&(this.fromDependency=this.module.getDependencyByRequest(n)),i===e.NamespaceSymbol?this.isNameSpace=!0:(this.isNameSpace=!1,this.originName=i)}static init(){t1=1}get variable(){if(void 0!==this._variable)return this._variable?this._variable:void 0;let e=this.exports[0]?.getRecursiveExport()?.variable;return this._variable=e??!1,e}get exports(){return this._exports?.slice()??[]}setModuleExport(e){e.getExports().forEach(e=>this.setExportInfo(e))}setExportInfo(e){this._exports.push(e),e.addSideEffect(this)}toData(){let e={id:this.id,name:this.name,identifier:this.identifier.toData(),module:this.module.id};return this.fromDependency&&(e.fromDependency=this.fromDependency.id),this.isNameSpace&&(e.isNameSpace=this.isNameSpace),this.exports.length>0&&(e.exports=this.exports.map(e=>e.id)),this.variable&&(e.variable=this.variable.id),e}};t5.NamespaceSymbol=Symbol("namespace");let t2=1;class t4{constructor(e,t,s,r){this.id=t2++,this.name=e,this.module=t,this.usedInfo=s,this.identifier=r}static init(){t2=1}get isUsed(){return!!this._exported&&this._exported.getSideEffects().length>0}setExportInfo(e){this._exported=e,e.variable=this}getExportInfo(){return this._exported}toData(){let e={id:this.id,name:this.name,module:this.module.id,identifier:this.identifier.toData(),usedInfo:this.usedInfo};return this._exported&&(e.exported=this._exported.id),e}}class t6{constructor(e,t,s){this.exports=[],this.sideEffects=[],this.variables=[],this.module=e,this._graph=t,"boolean"==typeof this._dynamic&&(this._dynamic=s)}static init(){t0.init(),t5.init(),t4.init()}get dynamic(){return"boolean"==typeof this._dynamic?this._dynamic:this.module.getImported().map(e=>e.getDependencyByModule(this.module)).some(e=>e&&"dynamic"===e.meta.exportsType)}addExportInfo(e){this.exports.push(e),this._graph.addExportInfo(e)}addSideEffect(e){this.sideEffects.push(e),this._graph.addSideEffect(e)}addVariable(e){this.variables.push(e),this._graph.addVariable(e)}getExports(){return this.exports.slice()}getSideEffects(e){return e?this.sideEffects.filter(t=>t.name===e):this.sideEffects.slice()}getOwnExports(){return this.exports.filter(e=>!e.isReExport)}getExport(e){return this.exports.find(t=>t.name===e)}getReExports(){return this.exports.filter(e=>e.isReExport)}getOwnExport(e){return this.getOwnExports().find(t=>t.name===e)}getReExport(e){return this.getReExports().find(t=>t.name===e)}toData(){return{module:this.module.id,dynamic:this.dynamic,exports:this.exports.map(e=>e.id),sideEffects:this.sideEffects.map(e=>e.id),variables:this.variables.map(e=>e.id)}}}class t3{constructor(){this._dependenciesIdMap=new Map,this._moduleWebpackIdMap=new Map,this._moduleIdMap=new Map,this._moduleGraphModules=new Map,this._exportIdMap=new Map,this._sideEffectIdMap=new Map,this._varIdMap=new Map,this._layers=new Map}static init(){tQ.init(),tW.init(),t6.init()}static fromData(e){let t=new t3,s=e=>new tY(t.getModuleById(e.module),e.position);for(let s of e.modules??[]){let e=new tQ(String(s.id),s.path,s.isEntry,s.kind,s.renderId,s.layer);e.id=s.id,e.setSize(s.size),e.meta={strictHarmonyModule:s.meta?.strictHarmonyModule??!1,hasSetEsModuleStatement:s.meta?.hasSetEsModuleStatement??!1},e._isPreferSource=s.isPreferSource,e.chunks=s.chunks,t.addModule(e)}for(let r of e.modules??[]){let n=t.getModuleById(r.id);for(let i of r.dependencies){let r=(e.dependencies??[]).find(e=>e.id===i),l=r&&t.getModuleById(r.originDependency);if(!r||!l){console.warn(`The connection data ID is empty: ${i}`);continue}let a=n.addDependency(r.request,l,r.kind,r.statements.map(s));a&&(a.id=r.id,t.addDependency(a))}for(let e of r.modules??[]){let s=t.getModuleById(e);if(!s){console.warn(`Add the ordinary module ID as empty: ${e}`);continue}n.addNormalModule(s)}for(let e of r.concatenationModules??[]){let s=t.getModuleById(e);if(!s){console.warn(`The aggregation module ID is empty: ${s}`);continue}n.addConcatenationModule(s)}}for(let r of e.exports??[]){let e=new t0(r.name,r.identifier?s(r.identifier):void 0);e.id=r.id,t.addExportInfo(e)}for(let s of e.exports??[])if(s.from){let e=t._exportIdMap.get(s.id),r=t._exportIdMap.get(s.from);e&&r&&e.setFromExport(r)}for(let r of e.variables??[]){let e=t.getModuleById(r.module);if(!e){console.warn(`The module ID in the variable is empty：${r.module}`);continue}let n=new t4(r.name,e,r.usedInfo,s(r.identifier)),i=t._exportIdMap.get(r.exported??-1);i&&n.setExportInfo(i),n.id=r.id,t.addVariable(n)}for(let r of e.sideEffects??[]){let e=t.getModuleById(r.module);if(!e){console.warn(`The module ID in the side effects is empty：${r.module}`);continue}let n=new t5(r.name,e,s(r.identifier),r.originName);for(let e of(n.isNameSpace=r.isNameSpace,n.id=r.id,r.exports??[])){let s=t._exportIdMap.get(e);s&&s.addSideEffect(n)}if(r.variable){let e=t._varIdMap.get(r.variable);e&&(n._variable=e)}t.addSideEffect(n)}for(let s of e.moduleGraphModules??[]){let e=t.getModuleById(s.module);if(!e){console.warn(`The module ID in ModuleGraphModule is empty: ${s.module}`);continue}let r=new t6(e,t,s.dynamic);t.addModuleGraphModule(r),s.exports.forEach(e=>{let s=t._exportIdMap.get(e);s&&r.addExportInfo(s)}),s.sideEffects.forEach(e=>{let s=t._sideEffectIdMap.get(e);s&&r.addSideEffect(s)}),s.variables.forEach(e=>{let s=t._varIdMap.get(e);s&&r.addVariable(s)})}return t3.init(),t}clear(){this._dependenciesIdMap=new Map,this._moduleWebpackIdMap=new Map,this._moduleIdMap=new Map,this._moduleGraphModules=new Map,this._exportIdMap=new Map,this._sideEffectIdMap=new Map,this._varIdMap=new Map,this._layers=new Map}size(){return this._moduleIdMap.size}fromInstance(e){this._dependenciesIdMap=new Map(e._dependenciesIdMap),this._moduleWebpackIdMap=new Map(e._moduleWebpackIdMap),this._moduleIdMap=new Map(e._moduleIdMap),this._moduleGraphModules=new Map(e._moduleGraphModules),this._exportIdMap=new Map(e._exportIdMap),this._sideEffectIdMap=new Map(e._sideEffectIdMap),this._varIdMap=new Map(e._varIdMap),this._layers=new Map(e._layers)}getSubGraphByModule(e){let t=new Set,s=[e];t.add(e);for(let e=0;e<s.length;e++)for(let{dependency:r}of s[e].getDependencies())t.has(r)||(t.add(r),s.push(r));return s}getModules(){return Array.from(this._moduleWebpackIdMap.values())}getDependencies(){return Array.from(this._dependenciesIdMap.values())}getEntryModules(){return this.getModules().filter(e=>e.isEntry&&e.kind!==F.SDK.ModuleKind.Concatenation)}getModuleById(e){return this._moduleIdMap.get(e)}getDependencyById(e){return this._dependenciesIdMap.get(e)}getModuleByWebpackId(e){return this._moduleWebpackIdMap.get(e)}getModuleByFile(e){return this.getModules().find(t=>t.path===e)}addModule(...e){for(let t of e)!this._moduleIdMap.has(t.id)&&(this._moduleWebpackIdMap.set(t.webpackId,t),this._moduleIdMap.set(t.id,t),t.layer&&this.addLayer(t.layer))}addDependency(...e){for(let t of e)this._dependenciesIdMap.has(t.id)||(this._dependenciesIdMap.set(t.id,t),this.addModule(t.module),this.addModule(t.dependency))}removeModule(e){for(let t of(this._moduleIdMap.delete(e.id),this._moduleWebpackIdMap.delete(e.webpackId),e.getDependencies()))this.removeDependency(t),this._dependenciesIdMap.delete(t.id);for(let t of e.getImported())t.removeDependencyByModule(t)}removeDependency(e){e.module.removeDependency(e),e.dependency.removeImported(e.module),this._dependenciesIdMap.delete(e.id)}addModuleGraphModule(e){this._moduleGraphModules.has(e.module)||this._moduleGraphModules.set(e.module,e)}getModuleGraphModule(e){return this._moduleGraphModules.get(e)}getModuleGraphModules(){return Array.from(this._moduleGraphModules.values())}addExportInfo(e){this._exportIdMap.set(e.id,e)}addSideEffect(e){this._sideEffectIdMap.set(e.id,e)}addVariable(e){this._varIdMap.set(e.id,e)}addLayer(e){this._layers.get(e)||this._layers.set(e,1)}getLayers(){return this._layers}toData(e){return{dependencies:this.getDependencies().map(e=>e.toData()),modules:this.getModules().map(t=>t.toData(e?.contextPath)),moduleGraphModules:Array.from(this._moduleGraphModules.values()).map(e=>e.toData()),exports:Array.from(this._exportIdMap.values()).map(e=>e.toData()),sideEffects:Array.from(this._sideEffectIdMap.values()).map(e=>e.toData()),variables:Array.from(this._varIdMap.values()).map(e=>e.toData()),layers:Array.from(this._layers.keys())}}toCodeData(e=F.SDK.ToDataType.Normal){let t={};return this.getModules().forEach(s=>{t[s.id]=s.getSource(e)}),t}setModules(e){this._moduleIdMap=new Map(e.map(e=>[e.id,e])),this._moduleWebpackIdMap=new Map(e.map(e=>[e.webpackId,e])),this._layers=new Map(e.filter(e=>e.layer).map(e=>[e.layer,1]))}setDependencies(e){this._dependenciesIdMap=new Map(e.map(e=>[e.id,e]))}}s(76174);let t7={locale:L(),theme:R("THEME")||w.Light,pageState:C.Pending,viewMode:function(){let e={bundleAlerts:k.List,compileAlerts:k.List};try{let t=R("VIEWMODE");if(t)return JSON.parse(t)||e;return e}catch(t){return e}}(),json:{},setTheme(){},setManifest(){},setPageState(e){},setViewMode(){}},t8=(0,B.createContext)({...t7});function t9(){let{theme:e,setTheme:t}=(0,B.useContext)(t8),s=e===w.Dark;return{theme:e,setTheme:t,isDark:s,isLight:!s}}function se(){let{viewMode:e,setViewMode:t}=(0,B.useContext)(t8),{bundleAlerts:s,compileAlerts:r}=e;return{viewMode:e,setViewMode:t,setCompileAlertsViewMode(e){t({compileAlerts:e})},setBundleAlertsViewMode(e){t({bundleAlerts:e})},isCompileList:r===k.List,isBundleList:s===k.List}}function st(e){let t;return e>=1e9?`${(e/1e9).toFixed(2)} GB`:e>=1e6?`${(e/1e6).toFixed(2)} MB`:e>=1e3?`${(e/1e3).toFixed(2)} KB`:e>1?`${e} bytes`:1===e?`${e} byte`:"0 bytes"}function ss(e){return`${+e.toFixed(2)}%`}let{toFixedDigits:sr,getUnit:sn,formatCosts:si}=v;class sl{constructor(e){this.worker=e,this.timer=0,this.callbacks=new Map,this.setup()}setup(){this.worker.onmessage=e=>{let{data:t}=e;if(this.callbacks.has(t.id)){let e=this.callbacks.get(t.id);this.callbacks.delete(t.id),e(t.data)}}}createEventId(){return`${Date.now()}_${++this.timer}`}emit(e,t){var s;let r=this.createEventId();return this.callbacks.set(r,t),s={id:r,data:e},this.worker.postMessage(s),{abort:()=>this.callbacks.delete(r)}}dispose(){this.worker.terminate()}}new class{constructor(){this._workerMap=new WeakMap}detectWorker(e){if(this._workerMap.has(e))return this._workerMap.get(e);let t=new sl(e());return this._workerMap.set(e,t),t}};var sa=s(34064),so=s(40438),sd=s(67588),sc=s(45816),sh=s(80666),su=s(81733),sp=s(32268),sm=s(49274),sx=s(74701),sf=s(78434);let sg=({title:e,value:t,statisticProps:s,boxProps:r})=>(0,b.jsx)("div",{className:"statistic-card",...r,children:(0,b.jsx)(sf.Z,{title:(0,b.jsx)("div",{className:"statistic-card-title",children:e}),valueRender:()=>t,valueStyle:{fontSize:24},...s})}),sj=({baseline:e,current:t,...s})=>{let r=eE(e,t);return(0,b.jsx)(sy,{...s,...r})},sy=({percent:e,state:t,fontSize:s=14})=>{let r=+e.toFixed(2);if(r>0){let e=`${r}`;if(t===F.Client.RsdoctorClientDiffState.Up)return(0,b.jsxs)(sp.Z.Text,{strong:!0,style:{fontSize:s,color:I.Red},children:["+",e,"%"]});if(t===F.Client.RsdoctorClientDiffState.Down)return(0,b.jsxs)(sp.Z.Text,{strong:!0,style:{fontSize:s,color:I.Green},children:["-",e,"%"]})}return null},sv=({data:e,formatter:t})=>{let{percent:s,state:r,size:n}=e,{baseline:i,current:l}=n,a=t?t(i,"baseline"):st(i),o=t?t(l,"current"):st(l);return(0,b.jsx)(tr.Z,{align:"start",children:(0,b.jsxs)(tr.Z,{direction:"vertical",style:{textAlign:"left"},children:[(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{style:{fontSize:10,color:"inherit"},keyboard:!0,children:"Current"}),(0,b.jsx)(sm.Z,{title:"number"==typeof o||"string"==typeof o?`Value of Current is ${o}`:void 0,children:(0,b.jsx)(sp.Z.Text,{style:{fontSize:16,color:"inherit"},strong:!0,children:o})}),(0,b.jsx)(sy,{percent:s,state:r})]}),(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{style:{fontSize:10,color:"inherit"},keyboard:!0,children:"Baseline"}),(0,b.jsx)(sm.Z,{title:"number"==typeof a||"string"==typeof a?`Value of Baseline is ${a}`:void 0,children:(0,b.jsx)(sp.Z.Text,{style:{fontSize:14},type:"secondary",children:a})})]})]})})},sb=({titles:e,datas:t,formatter:s,showPercentInTitle:r})=>{let[n,i]=(0,B.useState)(0);return(0,b.jsx)(sg,{title:e.length>1?(0,b.jsx)(sx.Z,{defaultValue:e[n],options:r?e.map((e,s)=>{let r=t[s];return{label:(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{children:e}),(0,b.jsx)(sy,{percent:r.percent,state:r.state})]}),value:e}}):e,onChange:t=>{i(e.indexOf(t))},size:"small",style:{transition:"transform 0.3s ease"},value:e[n]||e[0]}):e[n],value:(0,b.jsx)(sv,{data:t[n],formatter:s}),statisticProps:{style:{textAlign:"left"}}})},sZ=({collapsable:e=!1,children:t,title:s,dividerStyle:r,defaultCollapsed:n=!1,...i})=>{let[l,a]=(0,B.useState)(n);return s&&e?(0,b.jsx)(su.Z,{style:{borderRadius:"12px"},...i,title:(0,b.jsxs)(tr.Z,{style:{fontSize:"inherit"},children:[(0,b.jsx)("div",{style:{cursor:"pointer"},onClick:()=>a(!l),children:l?(0,b.jsx)(sc.Z,{}):(0,b.jsx)(sh.Z,{})}),s]}),children:l?null:t}):(0,b.jsx)(su.Z,{style:{borderRadius:"12px"},title:s,...i,children:t})};var sS=s(85794),sw=s(27821),sC=e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...e,children:[(0,b.jsx)("rect",{width:16,height:16,fill:"#FFF2E8",rx:2}),(0,b.jsx)("path",{fill:"#FA541C",d:"M13.21 4.026a.5.5 0 0 0-.5-.5H3.29a.5.5 0 0 0-.5.5v1.316a.5.5 0 0 0 .5.5h9.42a.5.5 0 0 0 .5-.5V4.026ZM13.21 7.342a.5.5 0 0 0-.5-.5H3.29a.5.5 0 0 0-.5.5v1.316a.5.5 0 0 0 .5.5h9.42a.5.5 0 0 0 .5-.5V7.342ZM13.21 10.658a.5.5 0 0 0-.5-.5H3.29a.5.5 0 0 0-.5.5v1.316a.5.5 0 0 0 .5.5h9.42a.5.5 0 0 0 .5-.5v-1.316Z"})]}),sM=e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...e,children:[(0,b.jsx)("rect",{width:16,height:16,fill:"#F6FFED",rx:2}),(0,b.jsx)("path",{fill:"#52C41A",fillRule:"evenodd",d:"M4.586 6.172a.853.853 0 0 0-.853.854v5.12c0 .472.382.854.853.854h6.828a.853.853 0 0 0 .853-.854v-5.12a.853.853 0 0 0-.853-.854H9.707V7.88a1.707 1.707 0 1 1-3.414 0V6.172H4.586Z",clipRule:"evenodd"}),(0,b.jsx)("path",{fill:"#52C41A",d:"M7.147 4.466a.853.853 0 1 1 1.707 0v3.413a.853.853 0 0 1-1.707 0V4.467Z"}),(0,b.jsx)("path",{fill:"#52C41A",d:"m8 3 2.217 2.304H5.783L8 3Z"})]}),sk=e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...e,children:[(0,b.jsx)("rect",{width:16,height:16,fill:"#FFF1F0",rx:2}),(0,b.jsx)("path",{fill:"#FF5658",fillRule:"evenodd",d:"M13 8A5 5 0 1 1 3 8a5 5 0 0 1 10 0ZM9.768 6.232a.5.5 0 0 1 0 .707L8.708 8l1.06 1.06a.5.5 0 0 1-.707.708L8 8.708l-1.062 1.06a.5.5 0 0 1-.707-.707L7.293 8l-1.06-1.062a.5.5 0 0 1 .706-.707L8 7.293l1.06-1.06a.5.5 0 0 1 .708 0Z",clipRule:"evenodd"})]}),sP="box_e4dfa",s_="title_e4dfa",sD="content_e4dfa";let{Text:sI}=sp.Z,sN=({data:e})=>e.map(e=>{let{code:t,link:s,error:r}=e,{source:n,output:i}=r||{},l=n?.path?`${n?.path}:${n?.line}:${n?.column}`:null,a=i?.path?`${i?.path}:${i?.line}:${i?.column}`:`There's no source map for this error. Possible reasons are as follows:
       1. It might come from a third-party library without source map.
       2. If this is your business source code, source map should be enabled in your build config.
      `,o=tN(t,s);return(0,b.jsxs)("div",{className:"container_e4dfa",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:s_,children:"Source"}),(0,b.jsxs)("div",{className:sP,children:[(0,b.jsx)(sw.Z,{component:sC}),(0,b.jsx)(sI,{ellipsis:{tooltip:l},className:`${sD} e2e-ecma-source`,children:l})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:s_,children:"Output"}),(0,b.jsxs)("div",{className:sP,children:[(0,b.jsx)(sw.Z,{component:sM}),(0,b.jsx)(sI,{ellipsis:{tooltip:a},className:`${sD} e2e-ecma-output`,children:a})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:s_,children:"Error"}),(0,b.jsxs)("div",{className:sP,children:[(0,b.jsx)(sw.Z,{component:sk}),(0,b.jsx)(sI,{ellipsis:{tooltip:e.description},className:`${sD} e2e-ecma-error`,children:e.description})]})]}),(0,b.jsx)(sS.ZP,{onClick:o,type:"link",children:"more"})]})}),sA=e=>{let{title:t,description:s,icon:r,style:n}=e;return(0,b.jsxs)("div",{className:"container_ec279",style:n,children:[(0,b.jsxs)("div",{className:"content_ec279",children:[(0,b.jsx)("div",{className:"title_ec279",children:t}),(0,b.jsx)("div",{className:"description_ec279",children:s})]}),r]})};var sE=s(75648),sT=s(74816),sR=s(53395),sz=s(49168),sL=s(18737),sO=s(49407),sB=s(39505),sF=s(27464),s$=s(74327),sG=s(441),sK=s(53253),sW=s(16763),sH=s(63770),sV=s(28081),sU=s(30664);let sq=({upperFirst:e=!0,fontSize:t=16,text:s,hash:r})=>{let n="string"==typeof s&&e?(0,sU.Z)(s):s;return(0,b.jsx)(sp.Z.Text,{style:{fontSize:t},strong:!0,children:r?(0,b.jsx)("a",{href:r,id:r.replace(/^#/,""),style:{color:"inherit"},children:n}):n})},sY={default:"linear-gradient(to bottom, #3ea2ff 0%, #0072db 100%)",success:"linear-gradient(to bottom, #6cf42a 0%, #52C41A 100%)",warn:"linear-gradient(to bottom, #ffc100 0%, #f59025 100%)",error:"linear-gradient(to bottom, rgb(250 127 22), #FF4D4F 100%)"},sJ=({label:e,value:t,type:s="default",tooltip:r})=>{let n={height:"100%",lineHeight:"22px",width:"auto",display:"inline-block",boxSizing:"border-box",padding:"0 6px",color:"#fff",fontSize:12,textAlign:"center",verticalAlign:"middle"},i=(0,b.jsxs)("div",{style:{height:22,margin:0,padding:0,boxSizing:"border-box",borderRadius:4,fontSize:0,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[(0,b.jsx)("div",{style:{...n,borderTopLeftRadius:4,borderBottomLeftRadius:4,background:"linear-gradient(to bottom, #525252a3 0%, #1F1F1F 100%)"},children:e}),(0,b.jsx)("div",{style:{...n,borderTopRightRadius:4,borderBottomRightRadius:4,overflow:"hidden",textOverflow:"ellipsis",background:sY[s]||sY.default},children:t})]});return r?(0,b.jsx)(sm.Z,{title:!0===r?t:r,placement:"topLeft",children:i}):i};var sQ=s(64617);let sX="Load data failed, please try again",s0="retry",s1=B.memo(({title:e=sX,buttonText:t=s0,retry:s})=>(0,b.jsx)(so.Z,{description:(0,b.jsxs)(tr.Z,{direction:"vertical",children:[(0,b.jsx)(sp.Z.Text,{children:e}),(0,b.jsx)(sS.ZP,{type:"primary",onClick:()=>{s()},children:t})]})}));var s5=s(36906),s2=s(83053),s4=s(83911),s6=s(12496);let s3=e=>{let t,{manifestLoader:s=e3,api:r,children:n,body:i=null,showSkeleton:l=!0,fallbackComponent:a}=e,[o,d]=(0,B.useState)(),[c,h]=(0,B.useState)(M.Pending),[u,p]=(0,B.useState)({}),{loader:m}=tt(o);function x(e){window[F.Constants.WINDOW_RSDOCTOR_TAG]?g(e):s().then(e=>{d(e)}).catch(e=>{throw h(M.Fail),e}).then(()=>{g(e)})}let f=(0,B.useCallback)(({req:e,res:t})=>{e.api===r&&((0,s2.Z)(e.body,i)||(0,s4.Z)(e.body)&&(0,s4.Z)(i))&&!(0,s2.Z)(u,t)&&p(t),h(M.Success)},[u,r,i]);function g(e){if(!e)return;let t=(0,s6.Z)(F.SDK.ServerAPI.APIExtends);if((0,tz.Z)(t,r))return void h(M.Success);e.loadAPI(r,i).then(e=>{(0,s4.Z)(e)||(p(e),h(M.Success))}).catch(e=>{console.error(e),h(M.Fail)})}return((0,B.useEffect)(()=>{x(m)},[m,r,i]),(0,B.useEffect)(()=>{if(m)return m.onDataUpdate(r,f),()=>{m.removeOnDataUpdate(r,f)}},[m,r,i]),c===M.Pending)?l?(0,b.jsx)(sQ.Z,{active:!0}):null:c===M.Fail?a||(0,b.jsx)(s1,{retry:()=>{h(M.Pending),s(),x()}}):c===M.Updating?(0,b.jsx)(s5.Z,{spinning:!0,children:n(u)}):n(u)};function s7({Component:e,api:t,responsePropName:s,body:r,fallbackComponent:n,showSkeleton:i}){return function(l){let{body:a=r,...o}=l;return(0,b.jsx)(s3,{api:t,body:a,showSkeleton:i,fallbackComponent:n,children:t=>{let r={...o,[s]:t};return(0,b.jsx)(e,{...r})}})}}var s8={filePath:"filePath_2bb66",arrow:"arrow_2bb66"};let s9=({data:e})=>(0,b.jsx)(sO.Z,{gutter:D.BasePadding,wrap:!1,align:"top",children:(0,b.jsx)(sB.Z,{style:{height:"100%",width:"100%"},children:e.length?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(s$.Z,{style:{marginTop:"20px"},children:e.map((t,s)=>{let{dependency:r,module:n,relativePath:i}=t,{statements:l}=r,{start:a}=l?.[0]?.position?n.isPreferSource?l[0].position.source:l[0].position.transformed:{start:{line:0,column:0}},o=`${i}:${a.line}:${a.column||1}`;return(0,b.jsx)(s$.Z.Item,{style:{cursor:"default"},children:(0,b.jsxs)(sp.Z.Text,{children:[(0,b.jsxs)("div",{className:s8.filePath,children:[o,(0,b.jsx)(sp.Z.Paragraph,{copyable:{text:i},style:{position:"relative",top:"7px"}})]}),s!==e.length-1?(0,b.jsx)(sW.Z,{className:s8.arrow}):null]})},o)})})}):(0,b.jsx)(so.Z,{description:"This package no dependencies"})})}),re=s7({Component:s9,api:F.SDK.ServerAPI.API.GetPackageRelationAlertDetails,responsePropName:"data"}),rt=({data:e,getPackageRelationContentComponent:t})=>{let{level:s,code:r,packages:n}=e,i=tN(r,e.link),l=st((0,sR.Z)(n,e=>e.targetSize.sourceSize)),{xs:a,lg:o,xxl:d}=sG.ZP.useBreakpoint(),{name:c}=n.find(e=>!!e.target.name).target,h=n.map(e=>e.target.version);return(0,b.jsx)(sK.Z,{showIcon:!a,message:(0,b.jsxs)(tr.Z,{wrap:!0,split:a?null:(0,b.jsx)(sE.Z,{type:"vertical"}),align:"center",children:[(0,b.jsxs)(tr.Z,{wrap:!1,children:[(0,b.jsx)(sp.Z.Text,{code:!0,strong:!0,onClick:i,style:{cursor:"pointer"},children:(0,b.jsx)("a",{children:r})}),(0,b.jsx)(sp.Z.Text,{strong:!0,children:F.Rule.RuleErrorMap[r]?.title||e.title})]}),(0,b.jsxs)(sp.Z.Paragraph,{ellipsis:{rows:1},style:{marginBottom:0},children:[(0,b.jsx)(sp.Z.Text,{strong:!0,code:!0,children:c}),(0,b.jsxs)(sp.Z.Text,{strong:!0,children:[" ",e.packages.length]}),(0,b.jsx)(sp.Z.Text,{children:" versions was found"})]}),(0,b.jsx)(sJ,{label:"total size",value:l,type:"error",tooltip:`total size of ${e.packages.length} versions is ${l}`})]}),description:(0,b.jsx)(tr.Z,{direction:"vertical",wrap:!1,children:e.packages.map(({target:e,targetSize:t})=>{let s=st(t.sourceSize),r=t.parsedSize?st(t.parsedSize):null,n=`${e.name}@${e.version}`;return(0,b.jsxs)(tr.Z,{style:{wordBreak:"break-all"},align:"center",split:a?null:(0,b.jsx)(sE.Z,{type:"vertical"}),wrap:!0,children:[(0,b.jsxs)(tr.Z,{wrap:!1,children:[(0,b.jsx)(sp.Z.Text,{style:{marginLeft:4},children:"└"}),(0,b.jsx)(sJ,{label:e.name,value:`v${e.version}`,tooltip:n})]}),(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sJ,{label:(0,b.jsxs)("div",{color:"rgb(255, 255, 255)",children:["Source Size ",(0,b.jsx)(sH.Z,{})]}),value:s,tooltip:`The bundle size of "${n}" is ${s}, this is source size.`,type:"error"}),(0,b.jsx)(sJ,{label:"Bundled size",value:r||"CONCATENATED",tooltip:`The bundle size of "${n}" is ${s}, this is after bundled, concatenated module cannot get bundled size. `,type:"error"})]}),(0,b.jsx)(sp.Z.Paragraph,{style:{marginBottom:0,width:d?"40rem":o?"30rem":"20rem"},copyable:{text:e.root},ellipsis:{rows:1,expandable:!0,symbol:(0,b.jsx)(sV.Z,{}),tooltip:e.root},code:!0,children:e.root})]},e.version)})}),type:"warn"===s?"info":s,action:(0,b.jsxs)(b.Fragment,{children:[n&&n.length>0?(0,b.jsx)(rn,{text:"Show Relations",buttonProps:{size:"small"},drawerProps:{title:e.title,width:"60%"},children:(0,b.jsxs)(tr.Z,{direction:"vertical",className:"alert-space",children:[(0,b.jsxs)(tr.Z,{style:{marginBottom:D.BasePadding/2},children:[(0,b.jsx)(sq,{text:c,upperFirst:!1}),(0,b.jsx)(sp.Z.Text,{strong:!0,children:h.length}),(0,b.jsx)(sp.Z.Text,{children:" versions was found: "}),h.map(e=>(0,b.jsx)(sp.Z.Text,{strong:!0,code:!0,children:e},e))]}),(0,b.jsx)(sd.Z,{type:"card",size:"middle",className:"tabs-space",defaultActiveKey:h[0],items:n.map(s=>{let{target:r,targetSize:n}=s;return{label:(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{children:`${c}@${r.version}`}),(0,b.jsx)(sa.Z,{color:I.Red,children:st(n.sourceSize)})]}),key:`${r.root}${r.name}${r.version}`,children:t({data:e,package:s})}})})]})}):null,(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsx)(sS.ZP,{type:"link",onClick:i,size:"small",icon:(0,b.jsx)(sH.Z,{})})]})})},rs=({duplicatePackages:e=[],cwd:t,children:s,...r})=>(0,b.jsx)(rn,{...r,buttonStyle:{fontSize:"inherit",...r.buttonStyle},buttonProps:{type:"text",...r.buttonProps},text:(0,b.jsx)(sm.Z,{title:"Click to show the details of duplicate packages",children:(0,b.jsxs)(tr.Z,{style:{fontSize:"inherit"},children:[(0,b.jsx)(sp.Z.Text,{strong:!0,style:{fontSize:"inherit",color:"inherit",...r.textStyle},children:e.length}),(0,b.jsx)(sF.Z,{})]})}),drawerProps:{title:"Duplicate Packages Viewer",...r.drawerProps},children:(0,b.jsx)(sO.Z,{gutter:[D.BasePadding,D.BasePadding],children:e.map((e,r)=>(0,b.jsx)(sB.Z,{span:24,children:(0,b.jsx)(rt,{data:e,cwd:t,getPackageRelationContentComponent:s})},r))})}),rr=({moduleGraph:e,...t})=>(0,b.jsx)(rs,{...t,children:s=>(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetModuleCodeByModuleIds,body:{moduleIds:e.modules.map(e=>e.id)},children:r=>(0,b.jsx)(s9,{data:eL(e.modules,e.dependencies,t.cwd,s.package.dependencies,r),cwd:t.cwd})})}),rn=e=>{let[t,s]=(0,B.useState)(!1);return(0,b.jsxs)("div",{onClick:e=>e.stopPropagation(),...e.containerProps,children:[e.button?(0,b.jsx)("div",{onClick:()=>s(!t),children:e.button}):e.text?(0,b.jsx)(sS.ZP,{type:"link",...e.buttonProps,onClick:()=>s(!t),style:{padding:0,...e.buttonStyle},children:e.text}):(0,b.jsx)(sz.Z,{style:{fontSize:14,padding:0},onClick:()=>s(!t)}),(0,b.jsx)(sL.Z,{maskClosable:!0,zIndex:999,width:"60%",...e.drawerProps,open:t,onClose:()=>s(!1),destroyOnClose:!0,children:e.children})]})};var ri=e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...e,children:[(0,b.jsx)("rect",{width:16,height:16,fill:"#FFF7E6",rx:2}),(0,b.jsx)("path",{fill:"#F2793D",fillRule:"evenodd",d:"M11.377 5.186h1.488L10.973 3H5.027L3.135 5.186h1.488l.87-1.005h5.015l.869 1.005Z",clipRule:"evenodd"}),(0,b.jsx)("path",{fill:"#F2793D",fillRule:"evenodd",d:"M3.676 4.82h8.648c.299 0 .54.243.54.545v7.09a.543.543 0 0 1-.54.545H3.676a.543.543 0 0 1-.54-.545v-7.09c0-.302.241-.546.54-.546Zm2.702 1.77a.54.54 0 0 0 0 1.082h3.244a.54.54 0 1 0 0-1.081H6.378Z",clipRule:"evenodd"})]}),rl=e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...e,children:[(0,b.jsx)("rect",{width:16,height:16,fill:"#FFF7E6",rx:2}),(0,b.jsx)("path",{fill:"#F2793D",d:"M3 7V5c0-1.105 2.239-2 5-2s5 .895 5 2v2c0 1.105-2.239 2-5 2s-5-.895-5-2Z"}),(0,b.jsx)("path",{fill:"#F2793D",d:"M8 10c2.761 0 5-.895 5-2v1c0 1.105-2.239 2-5 2s-5-.895-5-2V8c0 1.105 2.239 2 5 2Z"}),(0,b.jsx)("path",{fill:"#F2793D",d:"M8 12c2.761 0 5-.895 5-2v1c0 1.105-2.239 2-5 2s-5-.895-5-2v-1c0 1.105 2.239 2 5 2Z"})]}),ra=e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...e,children:[(0,b.jsx)("rect",{width:16,height:16,fill:"#FFF7E6",rx:2}),(0,b.jsx)("g",{clipPath:"url(#total-size_svg__a)",children:(0,b.jsx)("path",{fill:"#F2793D",d:"m2.5 5.77 5.026 2.534V13.5L2.5 11.011v-5.24Zm11-.016v5.23l-1.775.881-1.508.747-1.685.854V8.254l4.968-2.5ZM8 2.5l4.902 2.472L7.999 7.45 3.04 4.961 7.998 2.5Z"})}),(0,b.jsx)("defs",{children:(0,b.jsx)("clipPath",{id:"total-size_svg__a",children:(0,b.jsx)("path",{fill:"#fff",d:"M2 2h12v12H2z"})})})]}),ro=e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...e,children:[(0,b.jsx)("rect",{width:16,height:16,fill:"#E6F7FF",rx:2}),(0,b.jsx)("g",{clipPath:"url(#version_svg__a)",children:(0,b.jsx)("path",{fill:"#3874F6",d:"M13.438 9.875a.563.563 0 0 0-.216.043h-.002l-.002.002L8 12.079l-5.217-2.16H2.78l-.002-.001a.562.562 0 0 0-.43 1.039l5.432 2.248.002.001.003.001a.559.559 0 0 0 .43 0h.003l.002-.002 5.433-2.248a.563.563 0 0 0-.216-1.082ZM2.348 6.082 7.78 8.33l.003.001.002.001a.556.556 0 0 0 .43 0h.003l.002-.002 5.433-2.248a.563.563 0 0 0 0-1.04L8.22 2.796l-.002-.001-.003-.001a.56.56 0 0 0-.43 0h-.003l-.002.002-5.433 2.248a.563.563 0 0 0 0 1.039Zm11.09 1.355a.563.563 0 0 0-.216.043l-.002.001-.002.001L8 9.642l-5.217-2.16H2.78l-.002-.002a.563.563 0 0 0-.43 1.04l5.432 2.248h.002l.003.002a.559.559 0 0 0 .43 0l.003-.001.002-.001 5.433-2.248a.563.563 0 0 0-.216-1.083Z"})}),(0,b.jsx)("defs",{children:(0,b.jsx)("clipPath",{id:"version_svg__a",children:(0,b.jsx)("path",{fill:"#fff",d:"M2 2h12v12H2z"})})})]}),rd={label:"label_621e4",labelContent:"labelContent_621e4",collapseContainer:"collapseContainer_621e4",collapseChild:"collapseChild_621e4",attribute:"attribute_621e4",drawerLabelTitle:"drawerLabelTitle_621e4",drawerLabelSize:"drawerLabelSize_621e4",extraContainer:"extraContainer_621e4",iconContainer:"iconContainer_621e4",data:"data_621e4",pkgName:"pkgName_621e4"};let{Paragraph:rc,Text:rh}=sp.Z,{innerWidth:ru}=window,rp=e=>{let{title:t,description:s,extra:r}=e;return(0,b.jsxs)("div",{className:rd.label,children:[(0,b.jsxs)("div",{className:rd.labelContent,children:[(0,b.jsx)("div",{children:t}),(0,b.jsx)("div",{children:s})]}),(0,b.jsx)("div",{children:r})]})},rm=e=>{let{data:t,extraData:s}=e,r=t.map(e=>{let{packages:t}=e,r=st((0,sR.Z)(t,e=>e.targetSize.sourceSize)),{name:n}=t.find(e=>!!e.target.name).target,i=t.map(e=>e.target.version);return{key:e.code,label:(0,b.jsx)(rp,{title:(0,b.jsx)(sa.Z,{style:{backgroundColor:"#EAEDF1",borderRadius:"2px"},children:(0,b.jsx)("span",{className:rd.pkgName,children:n})}),description:`${t.length} versions was found`,extra:(0,b.jsxs)("div",{className:rd.extraContainer,children:[(0,b.jsxs)("div",{className:rd.iconContainer,children:[(0,b.jsx)(sw.Z,{style:{fontSize:"18px"},component:ra}),(0,b.jsx)("span",{className:rd.data,children:r})]}),t&&t.length>0?(0,b.jsx)(rn,{text:"Show Relations",buttonProps:{size:"small"},drawerProps:{title:e.title,width:"60%"},children:(0,b.jsxs)(tr.Z,{direction:"vertical",className:"alert-space",style:{width:"100%"},children:[(0,b.jsxs)(tr.Z,{style:{marginBottom:D.BasePadding/2,width:"100%"},children:[(0,b.jsx)(sq,{text:(0,b.jsx)(sa.Z,{style:{backgroundColor:"#EAEDF1"},children:n}),upperFirst:!1}),(0,b.jsx)(sp.Z.Text,{strong:!0,children:i.length}),(0,b.jsx)(sp.Z.Text,{children:" versions found"})]}),(0,b.jsx)(sd.Z,{size:"middle",items:t.map(t=>{let{target:r,targetSize:n}=t;return{label:(0,b.jsxs)(tr.Z,{className:rd.drawerLabelTitle,children:[(0,b.jsxs)("div",{children:["v",r.version]}),(0,b.jsx)(sa.Z,{className:rd.drawerLabelSize,children:st(n.sourceSize)})]}),key:`${r.root}${r.name}${r.version}`,children:s.getPackageRelationContentComponent({data:e,package:t})}})})]})}):null]})}),children:(0,b.jsx)(()=>t.map((e,s)=>{let r=e.target.version,i=e.target.root,l=st(e.targetSize.sourceSize),a=e.targetSize.parsedSize?st(e.targetSize.parsedSize):null;return(0,b.jsxs)("div",{className:rd.collapseContainer,children:[(0,b.jsx)(sA,{style:{backgroundColor:"#fff"},title:(0,b.jsx)(rh,{style:{width:ru>1500?900:700},ellipsis:{tooltip:i},children:i}),description:(0,b.jsxs)("div",{className:rd.collapseChild,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:rd.attribute,children:"Version"}),(0,b.jsxs)("div",{className:rd.iconContainer,children:[(0,b.jsx)(sw.Z,{style:{fontSize:"18px"},component:ro}),(0,b.jsxs)("span",{className:rd.data,children:["v",r]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:rd.attribute,children:"Source size"}),(0,b.jsxs)("div",{className:rd.iconContainer,children:[(0,b.jsx)(sw.Z,{style:{fontSize:"18px"},component:rl}),(0,b.jsx)("span",{className:rd.data,children:l})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:rd.attribute,children:"Bundle size"}),(0,b.jsxs)("div",{className:rd.iconContainer,children:[(0,b.jsx)(sw.Z,{style:{fontSize:"18px"},component:ri}),(0,b.jsx)(sm.Z,{title:`The bundle size of "${n}" is ${l}, this is after bundled, concatenated module cannot get bundled size. `,children:(0,b.jsx)("span",{className:rd.data,children:a||"CONCATENATED"})})]})]})]}),icon:(0,b.jsx)(rc,{style:{position:"relative",top:"-10px"},copyable:{text:i}})}),s!==t.length-1?(0,b.jsx)(sE.Z,{style:{margin:"10px 0"}}):null]})}),{})}});return(0,b.jsx)(sT.Z,{style:{width:"100%"},defaultActiveKey:["E1001"],items:r})},rx=e=>{let{data:t}=e;return t.map(e=>{let{code:t,link:s,description:r}=e,n=tN(t,s);return(0,b.jsx)(sA,{style:{background:"#fff"},description:(0,b.jsx)("div",{className:"description_6eb4f",dangerouslySetInnerHTML:{__html:r||""}}),icon:(0,b.jsx)(sS.ZP,{onClick:()=>n,type:"link",children:"more"})})})};var rf={card:"card_f9725",container:"container_f9725",title:"title_f9725",labelTitle:"labelTitle_f9725",labelDescription:"labelDescription_f9725"};let{Text:rg}=sp.Z,{innerWidth:rj}=window,ry=e=>{let{title:t,description:s,extra:r}=e;return(0,b.jsxs)("div",{className:rd.label,children:[(0,b.jsxs)("div",{className:rd.labelContent,children:[(0,b.jsx)("div",{children:t}),(0,b.jsx)("div",{children:s})]}),(0,b.jsx)("div",{children:r})]})},rv=e=>{let{data:t}=e,s=t.map(e=>{let{package:t,chunks:s}=e;return{key:e.code,label:(0,b.jsx)(ry,{title:(0,b.jsx)(sa.Z,{style:{backgroundColor:"#EAEDF1",borderRadius:"2px"},children:(0,b.jsx)("span",{className:rd.pkgName,children:`${t.name}@${t.version}`})}),description:"has duplicates bundled into multiple chunks."}),children:(0,b.jsx)(()=>s.map(({chunks:e,module:t})=>(0,b.jsx)("div",{className:rd.collapseContainer,children:(0,b.jsx)(sA,{style:{backgroundColor:"#fff"},title:(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sw.Z,{style:{fontSize:"18px"},component:ra}),(0,b.jsxs)(rg,{style:{width:rj>1500?900:700},children:["Module:"," ",(0,b.jsx)(rg,{style:{fontSize:12,color:"rgba(28, 31, 35, 0.6)",fontWeight:300},children:t.path})]})]}),description:(0,b.jsx)("div",{className:rd.collapseChild,children:e.map(e=>(0,b.jsxs)("div",{style:{display:"flex"},children:[(0,b.jsx)("div",{className:rd.attribute,children:"Chunk"}),(0,b.jsx)("div",{className:rd.iconContainer,children:(0,b.jsx)("span",{className:rd.data,children:e.name})})]}))})})})),{})}});return(0,b.jsx)(sT.Z,{style:{width:"100%"},defaultActiveKey:["E1005"],items:s})},rb=({title:e,dataSource:t,extraData:s})=>{let[r,n]=(0,B.useState)("E1001"),i=[{key:"E1001",label:"Duplicate Packages",data:[]},{key:"E1002",label:"Cross Chunks Package",data:[]},{key:"E1003",label:"Loader Performance Optimization",data:[]},{key:"E1004",label:"ECMA Version Check",data:[]},{key:"E1005",label:"Default Import Check",data:[]}];t.forEach(e=>{let t=i.find(t=>t.key===e.code)?.data;t?.push(e)});let l=i.map(e=>{let t,n,i=r===e.key?{border:"1px solid #91D5FF",backgroundColor:"#E6F7FF"}:{},l=r===e.key?{color:"#1890FF"}:{};switch(e.key){case"E1001":t=(0,b.jsx)(rm,{data:e.data,extraData:s});break;case"E1002":t=(0,b.jsx)(rv,{data:e.data,extraData:s});break;case"E1003":case"E1005":t=(0,b.jsx)(rx,{data:e.data});break;case"E1004":n=(0,b.jsx)("span",{children:"No ECMA Version Check Rules were found. Please refer to 「https://rsdoctor.dev/guide/usage/rule-config」."}),t=(0,b.jsx)(sN,{data:e.data});break;default:t=null}return e.data.length||(t=(0,b.jsx)(so.Z,{description:n,image:so.Z.PRESENTED_IMAGE_SIMPLE})),{key:e.key,label:(0,b.jsx)(()=>(0,b.jsx)(sA,{style:{backgroundColor:"transparent",paddingLeft:0,paddingRight:0,width:"100%"},title:(0,b.jsx)("span",{className:rf.labelTitle,children:e.label}),description:(0,b.jsxs)("div",{className:rf.labelDescription,children:[(0,b.jsx)("span",{children:e.data.length}),(0,b.jsx)(sa.Z,{style:{fontFamily:"Menlo",borderRadius:"2px",...i},children:(0,b.jsx)("span",{style:{...l},children:e.key})})]})}),{}),children:(0,b.jsx)(sZ,{className:rf.card,type:"inner",title:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(sa.Z,{style:{fontFamily:"Menlo",fontWeight:"700",fontSize:"13px",backgroundColor:"#EAEDF1",borderRadius:"2px"},children:e.key}),(0,b.jsx)("span",{children:e.label})]}),children:t})}});return(0,b.jsx)(sZ,{style:{width:"100%",borderRadius:"12px"},children:(0,b.jsxs)("div",{className:rf.container,children:[(0,b.jsx)("div",{className:rf.title,children:e}),t.length?(0,b.jsx)(sd.Z,{onChange:n,tabBarGutter:10,type:"card",defaultActiveKey:"E1001",items:l}):(0,b.jsx)("div",{style:{minHeight:"480px",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,b.jsx)(so.Z,{description:"No Bundle Alerts Data",image:so.Z.PRESENTED_IMAGE_SIMPLE})})]})})};var rZ=s(35102);let rS=s7({api:F.SDK.ServerAPI.API.GetProjectInfo,responsePropName:"project",Component:({filter:e,project:t})=>{let{errors:s,root:r}=t,{setBundleAlertsViewMode:n,viewMode:i,setViewMode:l}=se(),{t:a}=tI(),o=e?s.filter(e):s;return(0,B.useEffect)(()=>{O()||l({bundleAlerts:s.length>=5?k.Group:k.List},!1)},[]),(0,b.jsx)(rZ.ZP,{theme:{components:{Alert:{colorInfoBg:"#e6f4ff57",colorInfoBorder:"none"}},token:{padding:16,colorText:"rgba(0, 0, 0, 0.85)"}},children:(0,b.jsx)(rb,{title:a("Bundle Alerts"),dataSource:o,extraData:{cwd:r,getPackageRelationContentComponent:e=>(0,b.jsx)(re,{body:{id:e.data.id,target:e.package.target},cwd:r})},viewMode:i.bundleAlerts,setViewMode:n,cwd:r})})}});s7({api:F.SDK.ServerAPI.API.GetProjectInfo,responsePropName:"project",Component:({filter:e,project:t})=>{let{root:s,errors:r}=t,n=(0,tC.Z)(r)?r.filter(e=>e.category===F.Rule.RuleMessageCategory.Compile&&e.code!==F.Rule.RuleMessageCodeEnumerated.Overlay):[],{setCompileAlertsViewMode:i,viewMode:l,setViewMode:a}=se(),o=e?n.filter(e):n;return(0,B.useEffect)(()=>{O()||a({compileAlerts:n.length>=5?k.Group:k.List},!1)},[]),(0,b.jsx)(rb,{title:"Compile Alerts",dataSource:o,extraData:{cwd:s,getPackageRelationContentComponent:e=>(0,b.jsx)(re,{body:{id:e.data.id,target:e.package.target},cwd:s})},viewMode:l.compileAlerts,setViewMode:i,cwd:s})}});var rw=s(63642),rC=s(92503),rM=s(3613),rk=s(72744),rP=s(39986),r_=s(25578),rD=s.n(r_),rI={container:"container_83cff",badgeContainer:"badgeContainer_83cff"};function rN(e){let t=0,s=0;e.forEach(e=>{"warn"===e.level?t++:s++});let r=0!==t&&0!==s?"problems":0===t?"errors":"warns";return{title:`${e.length} compiled ${r}`,detail:(0,b.jsxs)(sp.Z.Text,{strong:!0,style:{color:"#fff",marginBottom:0},children:[(0,b.jsx)(sp.Z.Text,{style:{color:"inherit",fontSize:16},children:"Compiled with"}),(0,b.jsxs)(sp.Z.Text,{strong:!0,style:{color:I.Red,fontSize:16},children:[" ",s," ",1===s?"error":"errors"," "]}),(0,b.jsx)(sp.Z.Text,{style:{color:"inherit",fontSize:16},children:"and"}),(0,b.jsxs)(sp.Z.Text,{strong:!0,style:{color:I.Yellow,fontSize:16},children:[" ",t," ",1===t?"warning":"warnings"]})]}),warns:t,errors:s}}s(27807);let rA=({alerts:e=[],open:t,onClose:s})=>e.length?(0,b.jsxs)(rP.Z,{visible:t,onClose:()=>s(),style:{width:"100%",height:"100%",margin:0,zIndex:1e3},closable:!1,modalRender:e=>B.cloneElement(e,{style:{background:"rgba(0, 0, 0, 0.7)",color:"#fff",height:"100%",overflow:"scroll",borderRadius:0}}),children:[(0,b.jsxs)(sO.Z,{justify:"space-between",align:"middle",children:[rN(e).detail,(0,b.jsx)(sS.ZP,{onClick:()=>s(),type:"text",style:{color:"#fff"},size:"large",icon:(0,b.jsx)(rC.Z,{})})]}),(0,b.jsx)(sO.Z,{gutter:[0,D.BasePadding],children:e.map(e=>(0,b.jsx)(sB.Z,{span:24,style:{whiteSpace:"pre-wrap",lineHeight:"16px",fontSize:14},children:(0,b.jsx)(sT.Z,{ghost:!0,style:{background:"#000"},defaultActiveKey:[e.id],expandIcon:e=>e.isActive?(0,b.jsx)(rM.Z,{style:{color:"#fff"}}):(0,b.jsx)(tn.Z,{style:{color:"#fff"}}),children:(0,b.jsx)(sT.Z.Panel,{header:(0,b.jsxs)("div",{style:{color:"#fff"},children:["warn"===e.level?(0,b.jsx)(sa.Z,{color:I.Yellow,children:"WARNING"}):(0,b.jsx)(sa.Z,{color:I.Red,children:"ERROR"}),(0,b.jsx)(rD(),{children:e.description||e.title})]}),children:(0,b.jsx)("div",{style:{color:"#fff"},children:(0,b.jsx)(rD(),{children:e.stack})})},e.id)})},e.id))})]}):null,rE=s7({api:F.SDK.ServerAPI.API.GetOverlayAlerts,Component:({alerts:e=[]})=>{if(!e.length)return null;let[t,s]=(0,B.useState)(!1);return(0,b.jsxs)("div",{className:rI.container,children:[(0,b.jsx)("div",{onClick:()=>s(!t),className:rI.badgeContainer,children:(0,b.jsx)(rw.Z,{count:e.length,size:"small",children:(0,b.jsx)(rk.Z,{style:{fontSize:15}})})}),(0,b.jsx)(rA,{alerts:e,open:t,onClose:()=>s(!1)})]})},responsePropName:"alerts",fallbackComponent:()=>null});s7({api:F.SDK.ServerAPI.API.GetOverlayAlerts,Component:({alerts:e=[],defaultOpen:t=e.length>0})=>{if(!e.length)return null;let[s,r]=(0,B.useState)(t);return(0,b.jsxs)(B.Fragment,{children:[(0,b.jsx)(sK.Z,{banner:!0,message:B.cloneElement(rN(e).detail,{style:{color:"#000"}}),icon:(0,b.jsx)(rk.Z,{}),action:(0,b.jsx)(sS.ZP,{onClick:()=>r(!0),size:"small",children:"More"})}),(0,b.jsx)(rA,{alerts:e,open:s,onClose:()=>r(!1)})]})},responsePropName:"alerts",fallbackComponent:()=>null});var rT=s(35611),rR=s(10976),rz=s(77590);function rL(e){if(!e)return"";let t=function(e){if(!e)return"";try{if(!e.startsWith("data:"))return"";let{mimeType:t}=function(e){if(!e.startsWith("data:"))throw Error("输入不是有效的 Data URL");let t=e.substring(5),s=t.indexOf(",");if(-1===s)throw Error("无效的 Data URL 格式: 缺少数据分隔符");let r=t.substring(0,s),n=t.substring(s+1),i="",l="",a=!1,o=r.split(";");o.length>0&&(i=o[0]||"text/plain");for(let e=1;e<o.length;e++){let t=o[e];"base64"===t?a=!0:t.startsWith("charset=")&&(l=t.substring(8))}return{mimeType:i,charset:l,isBase64:a,data:n}}(e);switch(t){case"text/javascript":return"javascript";case"text/html":return"html";case"text/css":return"css";case"text/plain":return"text";case"application/json":return"json";default:return""}}catch(e){return console.error("解析 data 协议文件格式失败:",e),""}}(e);if(t)return t;try{let t=(0,q.extname)(e).slice(1);switch(t){case"js":case"cjs":case"mjs":case"jsx":return"javascript";case"ts":case"tsx":return"typescript";case"md":return"markdown";default:return t}}catch(e){return""}}let rO={readOnly:!0,domReadOnly:!0,fontSize:14,tabSize:2,lineHeight:24,renderValidationDecorations:"off",hideCursorInOverviewRuler:!0,smoothScrolling:!0,wordWrap:"on",colorDecorators:!0,codeLens:!1,cursorWidth:0,minimap:{enabled:!1},contextmenu:!1,gotoLocation:{multiple:"goto",multipleDefinitions:"goto",multipleTypeDefinitions:"goto",multipleDeclarations:"goto",multipleImplementations:"goto",multipleReferences:"goto"},hover:{enabled:!1},links:!1};function rB(e){return{...structuredClone(rO),...e}}function rF(e){return e?e.startsWith("data:")?"data":e.split("/").at(-1)||"":""}function r$(e,t){let{start:s,end:r}=e,{line:n=1,column:i=0}=s;return new t(n,i+1,r?.line??n,(r?.column??9999)+1)}var rG=s(66926),rK={"code-viewer":"code-viewer_14282",embed:"embed_14282",header:"header_14282",text:"text_14282",content:"content_14282"};function rW({className:e,style:t,code:s="",lang:r,filePath:n="",defaultLine:i,ranges:l,isEmbed:a=!1,headerVisible:o=!0,isLightTheme:d=!0}){let c=(0,B.useRef)(),h=(0,B.useRef)(),u=(0,B.useMemo)(()=>r||rL(n)||"plaintext",[r,n]),[p,m]=(0,B.useState)(!0),x=(0,B.useMemo)(()=>rB({wordWrap:p?"on":"off"}),[p]),f=(0,B.useCallback)((e,t)=>{c.current=e,h.current=t,function(e,t,s){if(!s||0===s.length)return;let r=s.map(e=>({range:r$(e,t.Range),options:{inlineClassName:"file-inline-decoration"}}));e.deltaDecorations([],r),setTimeout(()=>{e.revealLine(r[0].range.startLineNumber)})}(e,t,l),(0,rz.Z)(i)&&setTimeout(()=>{e.revealLine(i)})},[]);return(0,B.useEffect)(()=>()=>{c.current?.setModel(null)},[]),(0,b.jsxs)("div",{className:(0,rR.Z)("monaco-component","code-viewer",rK["code-viewer"],a&&rK.embed,e),style:t,children:[o&&!!n&&(0,b.jsxs)("div",{className:rK.header,children:[(0,b.jsx)("div",{children:rF(n)}),(0,b.jsx)("div",{style:{flex:1}}),(0,b.jsx)("div",{children:(0,b.jsx)(rG.Z,{className:rK.text,title:"side-by-side",checked:p,onChange:e=>{m(e.target.checked)},children:"word-wrap"})})]}),(0,b.jsx)("div",{className:(0,rR.Z)(rK.content,"editor-wrap"),children:(0,b.jsx)(rT.ML,{theme:d?"vs-light":"vs-dark",language:u,value:s,options:x,onMount:f})})]})}var rH={"diff-viewer":"diff-viewer_cb123",embed:"embed_cb123",header:"header_cb123",text:"text_cb123",content:"content_cb123"};let rV={...structuredClone(rO),readOnly:!0,originalEditable:!1,renderSideBySide:!0,renderSideBySideInlineBreakpoint:1,renderIndicators:!0,definitionLinkOpensInPeek:!1,domReadOnly:!0,minimap:{enabled:!1},diffWordWrap:"on",folding:!1,lineNumbersMinChars:3,renderLineHighlight:"none",matchBrackets:"never",diffAlgorithm:"advanced",ignoreTrimWhitespace:!0,renderOverviewRuler:!0,renderLineHighlightOnlyWhenFocus:!0,smoothScrolling:!0,letterSpacing:.5};function rU({className:e,style:t,original:s="",modified:r="",originalFilePath:n="",modifiedFilePath:i="",originalLang:l,modifiedLang:a,isEmbed:o=!1,isLightTheme:d=!0,headerVisible:c=!0}){let[h,u]=(0,B.useState)(!0),p=(0,B.useRef)(),m=(0,B.useMemo)(()=>l||rL(n)||"plaintext",[l,n]),x=(0,B.useMemo)(()=>a||rL(i)||"plaintext",[a,i]),f=(0,B.useMemo)(()=>{var e;return e={renderSideBySide:h},{...structuredClone(rV),...e}},[h]),g=(0,B.useCallback)(e=>{p.current=e},[]);return(0,B.useEffect)(()=>()=>{p.current?.setModel(null)},[]),(0,b.jsxs)("div",{className:(0,rR.Z)("monaco-component","diff-viewer",rH["diff-viewer"],o&&rH.embed,e),style:t,children:[c&&(0,b.jsxs)("div",{className:rH.header,children:[(0,b.jsx)("div",{children:rF(n)}),(0,b.jsx)("div",{style:{flex:1}}),(0,b.jsx)("div",{children:(0,b.jsx)(rG.Z,{className:rH.text,title:"side-by-side",checked:h,onChange:e=>{u(e.target.checked)},children:"side-by-side"})})]}),(0,b.jsx)("div",{className:(0,rR.Z)(rH.content,"editor-wrap"),children:(0,b.jsx)(rT.SV,{theme:d?"vs-light":"vs-dark",originalLanguage:m,modifiedLanguage:x,original:s,modified:r,width:"100%",options:f,onMount:g})})]})}var rq=s(739),rY=s(65334),rJ=s(79182),rQ=s(23865),rX=s(44703),r0=s(97304),r1=s(67983),r5=s(33005),r2=s(99359),r4=s(28977),r6=s.n(r4),r3=s(16633);let r7=["#F2793D","#F28B24","#F2A200","#F5CC00","#F5E000","#A3D900","#66CC00","#0AC419","#0AC496","#0AC7D1","#00A8E0","#1471F5","#4060FF","#7559FF","#884DFF","#A526FF","#BA39E5","#C700D9","#D900B5","#E50099","#E52E6B","#F24957","#30B2F2","#00BF70","#5959FF","#9F40FF","#528BFF"];var r8=((p=r8||{})[p.Bootstrap=0]="Bootstrap",p[p.Compile=1]="Compile",p[p.Done=2]="Done",p[p.Minify=3]="Minify",p[p.Loader=4]="Loader",p[p.Normal=5]="Normal",p);let r9=(0,B.memo)(({loaderData:e,pluginsData:t,formatterFn:s,chartType:r=r8.Normal,exts:n=null})=>{let i=[],l=[],[a,o]=(0,B.useState)({});return rY.D([rX.N,r0.N,r1.N,r5.N,r2.N]),(0,B.useEffect)(()=>{if(!e)return;let t=[];e.forEach(e=>{t.unshift(e.n+" total"),t.unshift(e.n)}),e.forEach(function(e,s){if(i.push({name:e.n+" total",value:[t.indexOf(e.n+" total"),e.s,e.e,e.e-e.s],itemStyle:{normal:{color:r7[Math.floor(27*Math.random())],opacity:.25}}}),e?.c)for(let s=0;s<e?.c?.length;s++)i.push({name:e.n,value:[t.indexOf(e.n),e.c[s].s,e.c[s].e,e.c[s].e-e.c[s].s],itemStyle:{normal:{color:r7[Math.floor(27*Math.random())],opacity:.25}},ext:e.c[s].ext})}),l=t.map((e,t)=>t%2!=0?e.replace(" total",""):"")},[e]),(0,B.useEffect)(()=>{if(!t)return;let e=(0,r3.Z)(t,e=>e.pid);Object.keys(e).reverse().forEach(function(t,s){e[t].forEach((e,t)=>{i.push({name:String(e.pid),value:[s,e.args.s,e.args.e,e.args.e-e.args.s],itemStyle:{normal:{color:r7[Math.floor(27*Math.random())],opacity:.25}},ext:e})}),l.push(String(t.charAt(0).toUpperCase()+t.slice(1)))})},[t]),(0,B.useEffect)(()=>{o({tooltip:{formatter:e=>s(e)},dataZoom:[{type:"slider",filterMode:"weakFilter",showDataShadow:!1,top:-10},{type:"inside",filterMode:"weakFilter"}],grid:{top:10,left:0,bottom:10,right:0,height:l.length>(r===r8.Loader?6:3)?"auto":60*l.length,containLabel:!0},xAxis:{interval:n?.endTimestamp&&n?.startTimestamp?Math.floor((n.endTimestamp-n.startTimestamp)/8):null,position:"top",splitLine:{show:!0},scale:!0,axisLine:{show:!1},axisLabel:{formatter:e=>r6()(e).format("HH:mm:ss:SSS")}},yAxis:{type:"category",splitLine:{show:!1},axisLabel:{inside:!0,lineHeight:20,width:100,fontSize:12,color:"#000",verticalAlign:"bottom"},axisLine:{show:!1},axisTick:{show:!1},data:l},series:[{type:"custom",renderItem:function(e,t){let s=t.value(0),n=t.coord([t.value(1),s]),i=t.coord([t.value(2),s]),l=.3*t.size([0,1])[1],a=rJ.clipRectByRect({x:n[0],y:r===r8.Loader?n[1]-(s%2!=0?0:2*l):n[1],width:i[0]-n[0]||5,height:l},{x:e.coordSys.x,y:e.coordSys.y,width:e.coordSys.width,height:e.coordSys.height});return a&&{type:"rect",transition:["shape"],shape:a,style:t.style(),enterFrom:{style:{opacity:0},x:0}}},itemStyle:{opacity:.8},encode:{x:[1,2],y:0},data:i}]})},[e,t,n]),(0,b.jsx)(rq.default,{option:a,echarts:rQ,style:{width:"100%",minHeight:r===r8.Loader?"500px":r===r8.Minify?"100px":"200px",maxHeight:r===r8.Minify?"100px":"1000px",border:"1px solid #eee",borderRadius:"10px"}})});var ne=s(32620);let nt=({icon:e,label:t,labelStyle:s={},placeholder:r,onChange:n,style:i,className:l,width:a,delay:o=300})=>{let d,[c,h]=(0,B.useState)(""),u={width:120,...s},p=(0,B.useRef)(null);return(0,B.useEffect)(()=>{n(c)},[c]),(0,b.jsxs)(ne.Z.Group,{compact:!0,style:i,className:l,children:[t||e?(0,b.jsxs)(sS.ZP,{style:u,onClick:()=>{p&&p.current&&p.current.focus()},children:[e||null,(0,b.jsx)(sp.Z.Text,{children:t})]}):null,(0,b.jsx)(ne.Z,{ref:p,allowClear:!0,defaultValue:c,style:{width:a?a-120:250},placeholder:r,onChange:e=>{d&&clearTimeout(d);let t=e.target.value.trim();d=setTimeout(()=>{h(t)},o)}})]})};var ns=s(75420),nr=s(73609),nn=s(71818),ni=s(71204),nl=s(29667);let na=()=>{let[e,t]=(0,B.useState)(""),[s,r]=(0,B.useState)([]);return((0,B.useEffect)(()=>{e3().then(({name:e,series:s})=>{e&&t(e),s&&s.length>0&&r(s)})},[]),e.length<=0||s.length<=0)?(0,b.jsx)(b.Fragment,{}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(sE.Z,{type:"vertical",style:{margin:"0 24px"}}),(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sw.Z,{style:{fontSize:"18px"},component:ra}),(0,b.jsx)(sp.Z,{children:"Compiler"}),(0,b.jsx)(nl.Z,{className:"builder-selector",defaultValue:e,bordered:!1,style:{minWidth:100},onChange:e=>{let t=s.find(t=>t.name===e);t&&(t.origin?location.href=function(e){let t=eX()(location.href,!0),s=eX()(e,!0);return(0,e0.Z)(t.hash,F.Client.RsdoctorClientRoutes.Uploader)&&t.set("hash",F.Client.RsdoctorClientRoutes.Overall),t.set("origin",e),t.set("protocol",s.protocol),t.set("host",s.host),t.set("port",s.port),t.toString()}(t.origin):console.error("No RsdoctorManifestSeriesData.origin"))},children:s.map((e,t)=>(0,b.jsx)(nl.Z.Option,{value:e.name,className:"builder-selector-option-item",children:e.name},t))})]})]})};var no=s(67969),nd=s(66862),nc=s(42444),nh=s(62814),nu=s(45447),np=s(29708);let nm=F.Client.RsdoctorClientRoutes.Overall;var nx=e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:13,height:12,fill:"none",viewBox:"0 0 13 12",...e,children:[(0,b.jsx)("rect",{width:12,height:9.333,x:.396,y:.167,fill:"#0079FF",rx:1}),(0,b.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M3.563 3.5c.276 0 .5.214.5.478v3.044a.49.49 0 0 1-.5.478.49.49 0 0 1-.5-.478V3.978a.49.49 0 0 1 .5-.478ZM6.396 1.833c.276 0 .5.214.5.479v4.71a.49.49 0 0 1-.5.478.49.49 0 0 1-.5-.478v-4.71a.49.49 0 0 1 .5-.479ZM9.23 4.833c.275 0 .5.214.5.479v1.71a.49.49 0 0 1-.5.478.49.49 0 0 1-.5-.478v-1.71a.49.49 0 0 1 .5-.479Z",clipRule:"evenodd"}),(0,b.jsx)("rect",{width:6,height:1.333,x:3.396,y:10.5,fill:"#0079FF",fillOpacity:.5,rx:.667})]}),nf=e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:13,height:12,fill:"none",viewBox:"0 0 13 12",...e,children:[(0,b.jsx)("rect",{width:12,height:9.333,x:.396,y:.167,fill:"#0079FF",rx:1}),(0,b.jsx)("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",d:"M4.023 6.212 2.676 5.014l1.347-1.199M8.752 6.212l1.347-1.198-1.347-1.199M5.742 7.014l1.362-4"}),(0,b.jsx)("rect",{width:6,height:1.333,x:3.396,y:10.5,fill:"#0079FF",fillOpacity:.5,rx:.667})]}),ng=e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:14,fill:"none",viewBox:"0 0 12 14",...e,children:[(0,b.jsx)("path",{fill:"#0079FF",fillRule:"evenodd",d:"M6.329.788A1 1 0 0 0 5.35.8L.466 3.62l5.36 2.83 5.327-3.044L6.329.787Zm-.993 12.777V7.322L.063 4.54v5.404a1 1 0 0 0 .5.866l4.773 2.756Z",clipRule:"evenodd"}),(0,b.jsx)("path",{fill:"#0079FF",fillOpacity:.5,fillRule:"evenodd",d:"M5.354.8H5.35L.546 3.576a1.01 1.01 0 0 1 .017-.01L5.336.81 5.354.8Zm-.018 12.765V7.322L.063 4.54l5.273 2.783v6.243Zm1-6.254 5.265-3.009c.006.043.009.086.009.13v5.511a1 1 0 0 1-.5.866l-4.774 2.756V7.311Z",clipRule:"evenodd"})]}),nj=s(8804);let ny=[{title:"FAQ",link:"https://rsdoctor.dev/guide/more/faq"},{title:"Introduction",link:"https://rsdoctor.dev/guide/start/intro"},{title:"Bundle Alerts",link:"https://rsdoctor.dev/guide/usage/bundle-alerts"},{title:"Bundle Overall",link:"https://rsdoctor.dev/guide/usage/bundle-overall"},{title:"Bundle Analysis",link:"https://rsdoctor.dev/guide/usage/bundle-size"},{title:"Compilation Alerts",link:"https://rsdoctor.dev/guide/usage/compile-alerts"},{title:"Compile Overall",link:"https://rsdoctor.dev/guide/usage/compile-overall"},{title:"Loaders Analysis",link:"https://rsdoctor.dev/guide/usage/loaders-analysis"},{title:"Loaders Timeline",link:"https://rsdoctor.dev/guide/usage/loaders-timeline"},{title:"Plugin Analysis",link:"https://rsdoctor.dev/guide/usage/plugins-analysis"}],nv=()=>{let{t:e}=tI();return(0,b.jsx)(sZ,{style:{width:"100%",borderRadius:"12px"},children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"title_a3408",children:[(0,b.jsx)("span",{children:e("Help Center")}),(0,b.jsxs)(sS.ZP,{style:{display:"flex",alignItems:"center",padding:0},type:"link",onClick:()=>{window.open("https://rsdoctor.dev/index","_blank")},children:[(0,b.jsx)("span",{style:{marginRight:"3px"},children:"More"}),(0,b.jsx)(tn.Z,{style:{fontSize:"10px"}})]})]}),(0,b.jsx)("div",{className:"container_a3408",children:ny.map(({title:t,link:s},r)=>(0,b.jsx)("div",{className:"content_a3408",style:{marginBottom:r<ny.length-2?"16px":0},onClick:()=>window.open(s,"_blank"),children:e(t)}))})]})})};var nb=s(47467),nZ=s(61710),nS={card:"card_3bba1"},nw=e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...e,children:[(0,b.jsx)("rect",{width:16,height:16,fill:"#E6F7FF",rx:2}),(0,b.jsx)("path",{fill:"#3874F6",d:"M13.353 4.51c.094.095.147.221.147.354V14.5a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5v-13A.5.5 0 0 1 3 1h6.636c.133 0 .26.053.355.147l3.362 3.364Zm-1.006.584-2.94-2.94v2.94h2.94Z"})]}),nC={errorNumber:"errorNumber_14ee6",warningNumber:"warningNumber_14ee6",successNumber:"successNumber_14ee6",errorText:"errorText_14ee6",warningText:"warningText_14ee6",successText:"successText_14ee6",errorButton:"errorButton_14ee6",warningButton:"warningButton_14ee6",successButton:"successButton_14ee6",container:"container_14ee6",icon:"icon_14ee6",description:"description_14ee6",data:"data_14ee6",common:"common_14ee6",warning:"warning_14ee6"};let nM=({theme:e,number:t,description:s})=>(0,b.jsxs)("div",{className:`${nC.container} ${nC[e]}`,children:[(0,b.jsx)(sw.Z,{style:{fontSize:"18px",margin:"0 5px"},component:"common"===e?nw:ra}),(0,b.jsx)("span",{className:nC.description,children:s}),(0,b.jsx)("span",{className:nC.data,children:t})]});var nk={title:"title_74282",column:"column_74282",description:"description_74282",unit:"unit_74282",treeContainer:"treeContainer_74282",line:"line_74282",treeTitle:"treeTitle_74282",tag:"tag_74282",label:"label_74282"};let{DirectoryTree:nP}=nb.Z,n_=e=>{let t=[];e.files.length&&(t=e.files.map(e=>{let t=e.path.split("/");return{fileName:t.pop(),defaultDir:t.join("/")||"output",size:e.size,initial:e.initial}}));let s=[];return t.forEach(e=>{let t=s.find(t=>t.title===e.defaultDir),r=t||{title:e.defaultDir,key:e.defaultDir,icon:(0,b.jsx)(ti.Z,{}),children:[]},n=tf(e.fileName);t||s.push(r),r.children.push({title:(0,b.jsxs)("div",{className:nk.treeContainer,children:[(0,b.jsx)("div",{className:nk.treeTitle,children:e.fileName}),(0,b.jsx)("div",{className:nk.line}),(0,b.jsx)(sa.Z,{className:nk.tag,color:"green",children:st(e.size)}),e.initial?(0,b.jsx)(sa.Z,{className:nk.tag,color:"cyan",children:"initial"}):null]}),key:e.fileName,isLeaf:!0,icon:n})}),{treeData:s}},nD=e=>{let{treeData:t}=n_(e);return(0,b.jsx)(b.Fragment,{children:e.files.length?(0,b.jsx)(rn,{buttonProps:{size:"small"},buttonStyle:{fontSize:"inherit"},drawerProps:{title:"Files"},text:(0,b.jsx)("span",{children:e.count}),children:(0,b.jsx)(nP,{defaultExpandAll:!0,selectable:!1,treeData:t,rootStyle:{minHeight:"800px",border:"1px solid rgba(235, 237, 241)"}})}):e.count})},nI=({res:e,view:t})=>{let s=[{key:"js-files-count",label:"JS files",children:(0,b.jsx)("span",{className:`${nk.description} ${nk.column}`,children:nD(e.js.total)})},{key:"css-files-count",label:"CSS files",children:(0,b.jsx)("span",{className:`${nk.description} ${nk.column}`,children:nD(e.css.total)})},{key:"font-files-count",label:"Font files",children:(0,b.jsx)("span",{className:`${nk.description} ${nk.column}`,children:nD(e.fonts.total)})},{key:"html-files-count",label:"HTML files",children:(0,b.jsx)("span",{className:nk.description,children:nD(e.html.total)})},{key:"image-files-count",label:"Image files",children:(0,b.jsx)("span",{className:nk.description,children:nD(e.imgs.total)})},{key:"media-files-count",label:"Media files",children:(0,b.jsx)("span",{className:nk.description,children:nD(e.media.total)})}],[r,n]=st(e.js.total.size).split(" "),[i,l]=st(e.css.total.size).split(" "),[a,o]=st(e.fonts.total.size).split(" "),[d,c]=st(e.html.total.size).split(" "),[h,u]=st(e.imgs.total.size).split(" "),[p,m]=st(e.media.total.size).split(" "),x=[{key:"js-files-size",label:(0,b.jsx)("span",{className:nk.label,children:"JS size"}),children:(0,b.jsxs)("div",{className:nk.column,children:[(0,b.jsx)("span",{className:nk.description,children:r}),(0,b.jsx)("span",{className:nk.unit,children:n})]})},{key:"css-files-size",label:(0,b.jsx)("span",{className:nk.label,children:"CSS size"}),children:(0,b.jsxs)("div",{className:nk.column,children:[(0,b.jsx)("span",{className:nk.description,children:i}),(0,b.jsx)("span",{className:nk.unit,children:l})]})},{key:"font-files-size",label:(0,b.jsx)("span",{className:nk.label,children:"Font size"}),children:(0,b.jsxs)("div",{className:nk.column,children:[(0,b.jsx)("span",{className:nk.description,children:a}),(0,b.jsx)("span",{className:nk.unit,children:o})]})},{key:"html-files-size",label:(0,b.jsx)("span",{className:nk.label,children:"HTML size"}),children:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:nk.description,children:d}),(0,b.jsx)("span",{className:nk.unit,children:c})]})},{key:"image-files-size",label:(0,b.jsx)("span",{className:nk.label,children:"Image size"}),children:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:nk.description,children:h}),(0,b.jsx)("span",{className:nk.unit,children:u})]})},{key:"media-files-size",label:(0,b.jsx)("span",{className:nk.label,children:"Media size"}),children:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:nk.description,children:p}),(0,b.jsx)("span",{className:nk.unit,children:m})]})}];return(0,b.jsx)(nZ.Z,{layout:"vertical",className:"bundleOverall_17e15",size:"small",column:3,colon:!1,items:"files"===t?s:x})},nN=()=>{let[e,t]=(0,B.useState)("size"),s=(0,t_.s0)(),{t:r}=tI(),n=e=>{t(e)};return(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetAssetsSummary,body:{withFileContent:!1},children:t=>{let i=st(t.all.total.size);return(0,b.jsx)(sZ,{className:nS.card,style:{height:"316px"},children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:nk.title,children:[(0,b.jsx)("span",{children:r("Bundle Overall")}),(0,b.jsx)(sS.ZP,{type:"link",style:{padding:"0px"},onClick:()=>{s(F.Client.RsdoctorClientRoutes.BundleSize)},children:(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,b.jsx)("span",{style:{marginRight:"8px",fontSize:"13px"},children:"View Bundler Size"}),(0,b.jsx)(tn.Z,{style:{fontSize:"10px"}})]})})]}),(0,b.jsx)(sx.Z,{options:["Size","Files"],onChange:e=>n(e.toLocaleLowerCase()),size:"small",style:{marginBottom:8,fontSize:"14px"}}),(0,b.jsx)(nM,{theme:"files"===e?"common":"warning",number:"files"===e?t.all.total.count:i,description:`Total ${e}`}),(0,b.jsx)(nI,{view:e,res:t})]})})}})};var nA=s(43483),nE=s(39481),nT=s(12533),nR=((m=nR||{}).BEGIN="B",m.END="E",m.COMPLETE="X",m.INSTANT="I",m.MARK="R",m);function nz(e){return function e(t){return t.reduce((t,s)=>{if(s.c){let r=e(s.c);t.push({name:s.n,ph:nR.BEGIN,pid:s.p,ts:s.s,args:s},...r,{name:s.n,ph:nR.END,pid:s.p,ts:s.e,args:s})}else t.push({name:s.n,ph:nR.BEGIN,pid:s.p,ts:s.s,args:s}),t.push({name:s.n,ph:nR.END,pid:s.p,ts:s.e,args:s});return t},[])}(Object.entries(e.sort((e,t)=>e.s-t.s).reduce((e,t)=>{let s=e[t.p];return s?function(e,t){let s=[e];for(;s.length>0;){let e,r=s.shift()||[];if(0===r.length)return;let n=r[r.length-1];if(n.e<=t.s)return r.push(t);for(let t=r.length-1;t>=0;t--){let{c:s}=r[t];s&&(e=s)}e?s.push(e):n.c=[t]}}(s,t):e[t.p]=[t],e},{})).reduce((e,[t,s])=>(e.push(...s),e),[]))}function nL(e){let{ext:t}=e.data;return`
  <div class="loader-tooltip-container">
    <div class="loader-tooltip-title">[${t.args.p}] ${t.args.n}</div>
    <li class="loader-tooltip-item">
      <span>hook</span>
      <span>${t.args.p}</span>
    </li>
    <li class="loader-tooltip-item">
      <span>tap name</span>
      <span>${t.args.n}</span>
    </li>
    <li class="loader-tooltip-item">
      <span>start</span>
      <span>${r6()(t.args.s).format("YYYY/MM/DD HH:mm:ss")}</span>
    </li>
    <li class="loader-tooltip-item">
      <span>end</span>
      <span>${r6()(t.args.e).format("YYYY/MM/DD HH:mm:ss")}</span>
    </li>
    <li class="loader-tooltip-item">
      <span>duration</span>
      <span>${si(t.args.e-t.args.s)}</span>
    </li>
  </div>
      `.trim()}let nO=({plugins:e,defaultDatas:t=[],type:s})=>{let{isDark:r}=t9(),n=(0,B.useRef)(null),[i,l]=(0,B.useState)([]);return(0,B.useEffect)(()=>{let s=[];e.forEach(e=>{e.data.forEach(t=>{s.push({p:e.hook,n:`${e.tapName}`,s:t.startAt,e:t.endAt})})}),l([...nz(t),...nz(s)])},[]),(0,b.jsx)("div",{className:["loader-chart-container",r?"loader-chart-container_dark":""].join(" ").trim(),ref:n,style:{width:"100%"},children:(0,b.jsx)(r9,{pluginsData:i,formatterFn:nL,chartType:s})})},nB=()=>(0,b.jsx)(sK.Z,{message:(0,b.jsxs)(sp.Z.Text,{children:[(0,b.jsx)(sp.Z.Text,{children:"make sure that you have turn on "}),(0,b.jsxs)(sp.Z.Text,{children:[" ","in configuration for the Rsdoctor plugin."]})]}),type:"info",showIcon:!0}),nF=({summary:e})=>{let{costs:t=[]}=e||{};return t.find(e=>e.name===$.Bootstrap)?(0,b.jsx)(rn,{containerProps:{style:{display:"inline"}},drawerProps:{title:'Chart of the "Bootstrap -> BeforeCompile" stage'},text:(0,b.jsx)(tr.Z,{children:"detail"}),children:(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetPluginData,body:{hooks:["environment","afterEnvironment","entryOption","afterPlugins","afterResolvers","initialize","beforeRun","run","watchRun","normalModuleFactory","contextModuleFactory","beforeCompile"]},children:e=>e&&e.length?(0,b.jsx)(nO,{plugins:e,type:r8.Bootstrap}):(0,b.jsx)(nB,{})})}):null};var n$=s(87143);let nG=({dataSource:e})=>(0,b.jsx)(n$.Z,{dataSource:e,rowKey:e=>`${e.tapName}_${e.hook}`,columns:[{title:"Plugin Tap Name",render:(e,t)=>t.tapName},{title:"Hook",render:(e,t)=>t.hook},{title:"calls",render:(e,t)=>(0,b.jsx)(sm.Z,{title:`"${t.hook}" has been called ${t.data.length} times by "${t.tapName}"`,children:t.data.length}),sorter:(e,t)=>e.data.length-t.data.length},{title:"duration(total)",render:(e,t)=>si((0,sR.Z)(t.data,e=>e.costs)),sorter:(e,t)=>(0,sR.Z)(e.data,e=>e.costs)-(0,sR.Z)(t.data,e=>e.costs),defaultSortOrder:"descend"}]}),nK=({summary:e})=>{let{costs:t=[]}=e||{},s=t.find(e=>e.name===$.Done),r='of the "AfterCompile -> Done" stage';return s?(0,b.jsx)(rn,{containerProps:{style:{display:"inline"}},drawerProps:{title:`Details ${r}`},text:(0,b.jsx)(tr.Z,{children:"detail"}),children:(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetPluginData,body:{hooks:["afterCompile","shouldEmit","emit","afterEmit","assetEmitted","done"]},children:e=>e&&e.length?(0,b.jsxs)(tr.Z,{direction:"vertical",style:{width:"100%"},children:[(0,b.jsx)(sZ,{title:`Plugin DataSource of ${r}`,collapsable:!0,children:(0,b.jsx)(nG,{dataSource:e})}),(0,b.jsx)(sE.Z,{}),(0,b.jsx)(sZ,{title:`Chart ${r}`,children:(0,b.jsx)(nO,{plugins:e,type:r8.Done})})]}):(0,b.jsx)(nB,{})})}):null},nW=({summary:e})=>{let{costs:t=[]}=e||{};return t.find(e=>e.name===$.Minify)?(0,b.jsx)(rn,{containerProps:{style:{display:"inline"}},drawerProps:{title:'Details of the "Minify" stage'},text:(0,b.jsx)(tr.Z,{children:"detail"}),children:(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetPluginData,body:{hooks:["processAssets","optimizeChunkAssets"]},children:e=>e&&e.length?(0,b.jsxs)(tr.Z,{direction:"vertical",style:{width:"100%"},children:[(0,b.jsx)(sZ,{title:'Plugin DataSource of the "Minify"',collapsable:!0,children:(0,b.jsx)(nG,{dataSource:e})}),(0,b.jsx)(sE.Z,{}),(0,b.jsx)(sZ,{title:'Chart of the "Minify"',children:(0,b.jsx)(nO,{plugins:e,type:r8.Minify})})]}):(0,b.jsx)(nB,{})})}):null};var nH={progress:"progress_61324",title:"title_61324"};let nV=({children:e,name:t,showDivider:s=!0})=>(0,b.jsxs)(sp.Z.Text,{style:{color:"inherit"},children:[(0,b.jsx)(sp.Z.Text,{style:{color:"inherit"},children:t}),s?(0,b.jsx)(sE.Z,{type:"vertical"}):null,e]}),nU=({summary:e})=>{let{t}=tI();if(!e?.costs?.length)return null;let s=Math.max(...e.costs.map(e=>e.costs));return(0,b.jsx)(sZ,{className:nS.card,children:(0,b.jsx)("div",{children:(0,b.jsxs)(tr.Z,{style:{wordBreak:"break-all",width:"100%",marginTop:"0"},size:20,direction:"vertical",children:[(0,b.jsx)("div",{className:nH.title,children:t("Compile Overall")}),e.costs.map(t=>{let{name:r,costs:n}=t,i=(0,b.jsx)(nA.Z,{className:nH.progress,percent:100*n/s,status:"normal",format:()=>si(n)});switch(r){case $.Bootstrap:return(0,b.jsxs)(nV,{name:"Bootstrap ~ BeforeCompile",children:[(0,b.jsx)(nF,{summary:e}),i]},r);case $.Compile:return(0,b.jsx)(nV,{name:"Compile",showDivider:!1,children:i},r);case $.Done:return(0,b.jsxs)(nV,{name:"AfterCompile ~ Done",children:[(0,b.jsx)(nK,{summary:e}),i]},r);case $.Minify:return(0,b.jsxs)(nV,{name:"Minify",children:[(0,b.jsx)(nW,{summary:e}),i]},r);default:return null}})]})})})};var nq=s(70655),nY=s(55297),nJ=s(92960),nQ=s(40026),nX=s(76884),n0=s(4775),n1=s(15778),n5=s(90205),n2=s.n(n5),n4={title:"title_78c11"};let n6=s7({Component:({defaultKeys:e,configs:t})=>{let s=function(e=[]){return(0,tC.Z)(e)?e.find(e=>"webpack"===e.name||"rspack"===e.name):null}(t||[]);if(!s)return null;let{config:r,version:n,name:i}=s,l=Object.keys(r),[a,o]=(0,B.useState)(e||l);return(0,b.jsxs)(rn,{text:(0,b.jsxs)("div",{className:n4.title,children:[(0,b.jsx)("span",{style:{marginRight:"8px",fontSize:"13px"},children:"View Bundler Config"}),(0,b.jsx)(tn.Z,{style:{fontSize:"10px"}})]}),children:[(0,b.jsxs)(sO.Z,{children:[(0,b.jsx)(sq,{text:"Bundler Config Viewer"}),(0,b.jsx)(sE.Z,{}),(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{children:"Properties: "}),(0,b.jsx)(nl.Z,{dropdownStyle:{zIndex:999},mode:"multiple",allowClear:!0,value:a.length===l.length?[]:a,style:{width:350},popupMatchSelectWidth:!0,placeholder:"Show Selected Properties Only.",onChange:e=>{o(e)},children:l.map(e=>(0,b.jsx)(nl.Z.Option,{label:e,value:e,children:e},e))})]}),(0,b.jsx)(sE.Z,{})]}),(0,b.jsx)(n2(),{name:n&&"unknown"!==n?`${i}@${n}`:"webpack.config",theme:"monokai",src:0===a.length?r:(0,n1.Z)(r,a),displayDataTypes:!1,displayObjectSize:!1,style:{overflowX:"auto"}})]})},api:F.SDK.ServerAPI.API.LoadDataByKey,responsePropName:"configs",body:{key:"configs"},showSkeleton:!1}),n3=({configs:e=[],cwd:t,envinfo:s,alerts:r=[]})=>{let{t:n}=tI(),i=(0,n0.Z)(r,e=>"warn"===e.level).length,l=r.length-i,a=[...Object.keys(s).map(e=>{let t=/Version$/,r=t.test(e);return{key:e,label:r?e.replace(t,""):e,children:s?s[e]:void 0}}),...e.filter(e=>!!e.version).map(e=>{let{name:t,version:s}=e;return{key:t,label:t,children:s}}),{key:"cwd",label:"cwd",children:t}];return(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetAssetsSummary,body:{withFileContent:!1},children:e=>{let t=st(e.all.total.size),s=e.all.total.count,[r,o]=t.split(" "),d=[{title:"Errors",description:(0,b.jsx)("span",{style:{color:"#FF4D4F"},children:l}),icon:(0,b.jsx)(nq.C,{style:{background:"#FF4D4F"},shape:"circle",icon:(0,b.jsx)(nY.Z,{style:{fontSize:"18px"}})})},{title:"Warnings",description:(0,b.jsx)("span",{style:{color:"#FAAD14"},children:i}),icon:(0,b.jsx)(nq.C,{style:{background:"#FAAD14"},shape:"circle",icon:(0,b.jsx)(nJ.Z,{style:{fontSize:"18px"}})})},{title:"Total Files",description:(0,b.jsx)("span",{children:s}),icon:(0,b.jsx)(nq.C,{style:{background:"#3874F6"},shape:"circle",icon:(0,b.jsx)(nQ.Z,{style:{fontSize:"18px"}})})},{title:"Total Size",description:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{style:{fontSize:"20px"},children:r}),(0,b.jsx)("span",{style:{fontSize:"13px",marginLeft:"5px"},children:o})]}),icon:(0,b.jsx)(nq.C,{style:{background:"rgba(226, 129, 73)"},shape:"circle",icon:(0,b.jsx)(nX.Z,{style:{fontSize:"18px"}})})}];return(0,b.jsx)(sZ,{className:nS.card,children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"title_57654",children:[(0,b.jsx)("span",{className:"left_57654",children:n("Project Overall")}),(0,b.jsx)(n6,{})]}),(0,b.jsx)("div",{className:"overview_57654",children:d.map((e,t)=>(0,b.jsx)(sA,{title:e.title,description:(0,b.jsx)("span",{children:e.description}),icon:e.icon},t))}),(0,b.jsx)(nZ.Z,{className:"projectOverall_17e15",items:a})]})})}})},n7=({children:e})=>(0,b.jsx)(nj.Z,{vertical:!0,className:"layout_43377",children:e.map(e=>(0,b.jsx)("div",{className:"row_43377",children:e}))}),n8=s7({api:F.SDK.ServerAPI.API.GetProjectInfo,responsePropName:"project",Component:({project:e})=>{let{summary:t,configs:s,root:r,envinfo:n,errors:i}=e;return(0,b.jsx)("div",{className:"overall_43377",children:(0,b.jsxs)(nj.Z,{style:{width:"100%"},children:[(0,b.jsx)("div",{style:{flex:3,marginRight:"16px",maxWidth:"75%"},children:(0,b.jsxs)(n7,{children:[(0,b.jsx)(n3,{configs:s,cwd:r,envinfo:n,alerts:i}),(0,b.jsx)(rS,{})]})}),(0,b.jsx)("div",{style:{flex:1},children:(0,b.jsxs)(n7,{children:[(0,b.jsx)(nN,{errors:i,cwd:r}),(0,b.jsx)(nU,{summary:t}),(0,b.jsx)(nv,{})]})})]})})}});var n9=s(23379),ie=s(1785),it=s(92929),is=s(76729),ir=s(83287),ii={text:"text_76ee0"};let il=({text:e,keyword:t,...s})=>{if(!t||-1===e.indexOf(t))return ia({text:e,rest:s});let r=[],n=e;for(;n.length>0;){let e=n.indexOf(t);if(e>-1)0!==e&&r.push(ia({text:n,els:r})),r.push(ia({text:n,els:r,marked:!0})),n=n.slice(e+t.length);else{r.push(ia({text:n,els:r,marked:!0}));break}}return(0,b.jsx)(sp.Z.Text,{className:ii.text,...s,children:r})},ia=({text:e,els:t,marked:s=!1,rest:r})=>{if(!e)return null;let n=e.length;if(n>40){let t=Math.floor(18.5),i=Math.ceil(18.5);return(0,b.jsx)(ir.Z,{content:e,placement:"left",children:(0,b.jsx)("div",{children:(0,b.jsxs)(sp.Z.Text,{className:ii.text,mark:!!s,...r,children:[e.slice(0,t),"...",e.slice(n-i)]})})})}return(0,b.jsx)(ir.Z,{content:e,children:(0,b.jsx)("div",{children:(0,b.jsx)(sp.Z.Text,{className:ii.text,...r,children:e},t?t.length:0)})})};var io=s(4166),id=s(47241);let ic=(0,B.createContext)({setModuleJumpList(e){},moduleJumpList:[]});var ih=s(92382),iu=s(91668),ip=s(34738),im=s(56434);let ix="file-tree-com",ig=e=>{let{treeData:t,needJumpto:s=!1,defaultOpened:r=!1,defaultOpenFather:n=0}=e,{required:i,handlers:l}=(0,im.Du)({id:`${ix}-tree`,data:t||[],defaultOpened:r,multipleSelect:!1,refreshAsyncNodes:!0}),a=(0,B.useCallback)(({node:e,onToggle:t})=>{n&&e.data.level<n&&e.setOpened(!0);let r=tf(e.data.name);return(0,b.jsx)("div",{className:`${ix}-titles-box`,children:(0,b.jsx)("div",{className:`${ix}-titles`,children:(0,b.jsx)(tr.Z,{direction:"vertical",children:(0,b.jsx)("div",{className:`${ix}-node-title`,children:(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)("div",{onClick:t,children:(0,b.jsxs)(tr.Z,{children:[!e.options.opened&&e.data.children?.length?(0,b.jsx)(ih.Z,{style:{color:"lightblue"}}):(0,b.jsx)(iu.Z,{style:{color:"lightblue"}}),r,(0,b.jsx)(ir.Z,{content:(0,b.jsx)(b.Fragment,{children:e.data.__RESOURCEPATH__?(0,b.jsx)(sp.Z.Text,{code:!0,children:e.data.__RESOURCEPATH__},`${e.data.name}-popover-path`):(0,b.jsx)(b.Fragment,{})}),title:"INFO",trigger:"hover",children:(0,b.jsx)(sp.Z.Text,{children:e.data.name})},`${e.data.name}popover`)]})}),(0,b.jsx)(tr.Z,{children:s&&(0,b.jsx)(ic.Consumer,{children:({moduleJumpList:t,setModuleJumpList:s})=>(0,b.jsx)(ip.Z,{onClick:()=>{let r=[...t];r.push(+e.id),s(r)}})})})]})})})})},e.data.name)},[]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(im.ZP,{...i,...l,horizontalLineStyles:{stroke:"#c4c4c4",strokeWidth:2,strokeDasharray:"1 1"},verticalLineStyles:{stroke:"#c4c4c4",strokeWidth:2,strokeDasharray:"1 1"},draggable:!1,depthGap:14,gapMode:"padding",disableLines:!1,disableTransitions:!0,disableHorizontalLines:!1,disableVerticalLines:!1,verticalLineTopOffset:0,verticalLineOffset:5,renderNode:a})})};F.Client.RsdoctorClientRoutes.ModuleAnalyze;let ij="module-analyze";var iy=s(95698),iv=s(86938),ib=(0,B.memo)(({dependencies:e,cwd:t,module:s})=>{let r=(0,B.useMemo)(()=>{let t=s.dependencies.map(t=>{let s=(0,iy.Z)(e,e=>e.id===t);if(s)return{__RESOURCEPATH__:s.resolvedRequest||"",id:s.dependency,key:s.resolvedRequest,name:e1(s.resolvedRequest)||"",level:1,kind:s.kind,concatModules:void 0}});return(0,iv.Z)(t)},[s]);return(0,b.jsx)(sO.Z,{justify:"start",align:"middle",children:(0,b.jsx)(sB.Z,{span:24,children:r.length?(0,b.jsx)(ig,{treeData:r,needJumpto:!0,cwd:t}):(0,b.jsx)(so.Z,{})})})});let iZ=(e,t)=>{if(e?.imported?.length){let s=e.imported.map(e=>(0,iy.Z)(t,t=>t.id===Number(e)));return(0,iv.Z)(s)}return[]},iS=e=>{let{curModule:t,modules:s,dependencies:r,cwd:n,activeTabKey:i,selectedChunk:l=""}=e,[a,o]=(0,B.useState)([]),{data:d}=(0,B.useMemo)(()=>a&&a?.length?{data:(0,iv.Z)(a?.map((e,r)=>({key:`0-${r}`,name:e1(e.path),__RESOURCEPATH__:e.path,id:e.id,level:1,chunks:e.chunks,size:st(e.size.parsedSize),kind:e.kind,concatModules:e.concatenationModules,fatherPath:e1(t.path),dependencies:e.dependencies,getChildren:()=>(function e(t,s,r){let n=iZ(t,s);return n?.map((n,i)=>({key:`0-${i}`,name:e1(n.path),__RESOURCEPATH__:n.path,id:n.id,level:1,size:st(n.size.parsedSize),kind:n.kind,chunks:n.chunks,concatModules:n.concatenationModules,fatherPath:e1(r.path),dependencies:n.dependencies,getChildren:()=>e(n,s,t),children:n.imported}))})(e,s,t),children:e.imported})))}:{filterData:[],data:[]},[a,t]);return(0,B.useEffect)(()=>{o(iZ(t,s))},[t,s]),(0,b.jsx)(b.Fragment,{children:i===ik[ik.Reasons]?(0,b.jsx)(b.Fragment,{children:a?(0,b.jsx)(ig,{cwd:n,treeData:d,needCode:!0,needShowAllTree:!0,needJumpto:!0,selectedChunk:l}):(0,b.jsx)(so.Z,{className:`${ij}-empty`})}):(0,b.jsx)("div",{className:`${ij}-file-tree`,style:{padding:D.BasePadding/2},children:(0,b.jsx)(sB.Z,{span:24,style:{marginTop:D.BasePadding/2},children:t?(0,b.jsx)(ib,{module:t,dependencies:r,cwd:n}):(0,b.jsx)(so.Z,{className:`${ij}-empty`})})})})};var iw=s(3255),iC=s(50417),iM=s(19892),ik=((x=ik||{})[x.Reasons=0]="Reasons",x[x.Dependencies=1]="Dependencies",x);let iP=[{key:ik[0],label:ik[0]},{key:ik[1],label:ik[1]}],i_=({modules:e,cwd:t,moduleId:s,show:r,setShow:n})=>{let[i,l]=(0,B.useState)(""),[a,o]=(0,B.useState)(ik[0]);return(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetModuleDetails,body:{moduleId:+s},children:({module:s,dependencies:l})=>(0,b.jsx)(sL.Z,{title:(0,b.jsxs)("div",{className:"module-analyze-box",children:[(0,b.jsx)(sp.Z.Text,{children:e1(s.path)}),(0,b.jsx)(sp.Z.Text,{style:{fontSize:12,color:"rgba(0, 0, 0, 0.45)"},children:`Current Module: ${s.path}`})]}),open:r,maskClosable:!0,width:.8*N,onClose:()=>n(!1),children:(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetAllChunkGraph,body:{},children:r=>(0,b.jsx)(ic.Consumer,{children:({moduleJumpList:r,setModuleJumpList:n})=>(0,b.jsx)(su.Z,{style:{minHeight:400},tabList:iP,activeTabKey:a,tabProps:{size:"small",style:{fontSize:12}},onTabChange:e=>o(e),styles:{title:{paddingTop:0}},title:(0,b.jsxs)(tr.Z,{style:{padding:"10px 0px"},children:[(0,b.jsx)(iw.Z,{onClick:()=>{n([...r.slice(0,-1)])}}),(0,b.jsx)(sp.Z.Text,{children:"Current Module Imported Reasons Tree"}),(0,b.jsx)(ir.Z,{content:(0,b.jsx)("div",{children:(0,b.jsxs)("div",{children:[(0,b.jsx)(rw.Z,{status:"success",text:" "}),(0,b.jsx)(iC.Z,{}),(0,b.jsx)(sp.Z.Text,{children:": Jump button, click to jump to the Module dependency analysis page of this module."})]})}),title:"Usage",children:(0,b.jsx)(iM.Z,{})})]}),children:(0,b.jsx)(sO.Z,{justify:"start",align:"middle",children:(0,b.jsx)(sB.Z,{span:24,children:(0,b.jsx)(iS,{curModule:s,modules:e,dependencies:l,cwd:t,selectedChunk:i,activeTabKey:a})})})})})})})})};var iD={assets:"assets_0b14c",assetBox:"assetBox_0b14c",fileText:"fileText_0b14c","bundle-tree":"bundle-tree_0b14c",box:"box_0b14c",keyword:"keyword_0b14c",divider:"divider_0b14c",dividerDiv:"dividerDiv_0b14c",assetsTag:"assetsTag_0b14c",bundle:"bundle_0b14c","bundle-size-card":"bundle-size-card_0b14c","ant-tabs-tab":"ant-tabs-tab_0b14c",modal:"modal_0b14c","search-btn":"search-btn_0b14c","search-modal-list":"search-modal-list_0b14c"};let{DirectoryTree:iI}=nb.Z,iN=[],iA={source:"source code",transformed:"Transformed Code (After compile)",parsedSource:"Bundled Code (After bundle and tree-shaking)"},iE={margin:"none",marginInlineEnd:0},iT=()=>(0,b.jsx)(so.Z,{description:`Do not have the module code.
  (1) If you use the brief mode, there will not have any codes to show.
  (2) If you use lite mode, there will not have source codes.`}),iR=({data:e})=>{let[t,s]=(0,B.useState)(""),{t:r}=tI(),n={source:"Source Code",transformed:`Transformed Code(${r("After Compile")})`,parsedSource:`Bundled Code(${r("After Bundled")})`};if(!e)return null;let{path:i}=e;return(0,b.jsx)(rn,{text:"",buttonProps:{size:"small",icon:(0,b.jsx)(ir.Z,{content:"Open the Codes Box",children:(0,b.jsx)(n9.Z,{})}),type:"default"},buttonStyle:{padding:"0 4px"},drawerProps:{destroyOnClose:!0,title:`Code of "${i}"`},children:(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetModuleCodeByModuleId,body:{moduleId:e.id},children:e=>(0,b.jsx)(b.Fragment,{children:e.source||e.parsedSource||e.transformed?(0,b.jsx)(su.Z,{className:"code-size-card",style:{width:"100%"},tabList:Object.keys((0,id.Z)(e,e=>!e)).map(e=>({tab:e})).map(e=>({...e,tab:n[e.tab],key:e.tab})),defaultActiveTabKey:e.parsedSource?"parsedSource":"source",onTabChange:e=>s(e),tabBarExtraContent:(0,b.jsx)(ir.Z,{placement:"bottom",title:(0,b.jsx)(sp.Z.Title,{level:5,children:"Explain"}),content:(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:30},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(sp.Z.Text,{strong:!0,children:"Source: "}),(0,b.jsx)(sp.Z.Text,{children:iA.source})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(sp.Z.Text,{strong:!0,children:"Transformed:"}),(0,b.jsx)(sp.Z.Text,{children:iA.transformed})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(sp.Z.Text,{strong:!0,children:"Bundled Source:"}),(0,b.jsx)(sp.Z.Text,{children:iA.parsedSource})]}),(0,b.jsx)("br",{}),(0,b.jsx)(sp.Z.Text,{strong:!0,children:"More"}),(0,b.jsx)(sp.Z.Text,{children:r("CodeModeExplain")})]})}),trigger:"hover",children:(0,b.jsx)("a",{href:"#",children:"Explain"})}),styles:{body:{padding:0,overflow:"hidden"}},children:e.parsedSource||e.source||e.transformed?(0,b.jsx)(rW,{isEmbed:!0,code:t?e[t]:e.parsedSource?e.parsedSource:e.source,filePath:i}):(0,b.jsx)(iT,{})}):(0,b.jsx)(iT,{})})})})},iz=({id:e,show:t,setShow:s,cwd:r})=>e?(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetAllModuleGraph,body:{},children:n=>(0,b.jsx)(i_,{cwd:r,moduleId:e,modules:n,show:t,setShow:s})}):null,iL="__RESOURCEPATH__",iO=({modules:e,chunks:t,filteredModules:s})=>{let{sourceSize:r,parsedSize:n,filteredParsedSize:i,filteredSourceSize:l}=(0,B.useMemo)(()=>({sourceSize:(0,sR.Z)(e,e=>e.size.sourceSize),parsedSize:(0,sR.Z)(e,e=>e.size.parsedSize),filteredSourceSize:(0,sR.Z)(s,e=>e.size.sourceSize),filteredParsedSize:(0,sR.Z)(s,e=>e.size.parsedSize)}),[e,s]);return(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sm.Z,{title:`total modules count is ${e.length}, the filtered modules count is ${s.length}`,children:(0,b.jsxs)(tr.Z,{children:[(0,b.jsxs)(sp.Z.Text,{type:"secondary",style:{fontSize:12,fontWeight:400},children:["Modules: ",s.length," / ",e.length]}),(0,b.jsx)(sH.Z,{})]})}),(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsx)(sm.Z,{title:(0,b.jsxs)(tr.Z,{direction:"vertical",children:[(0,b.jsxs)(sp.Z.Text,{style:{color:"inherit"},children:["Total modules bundled size: ",st(n)]}),(0,b.jsxs)(sp.Z.Text,{style:{color:"inherit"},children:["Total modules source size: ",st(r)]}),(0,b.jsxs)(sp.Z.Text,{style:{color:"inherit"},children:["Filtered modules bundled size: ",st(i)]}),(0,b.jsxs)(sp.Z.Text,{style:{color:"inherit"},children:["Filtered modules source size: ",st(l)]})]}),children:(0,b.jsxs)(tr.Z,{children:[(0,b.jsxs)(sp.Z.Text,{type:"secondary",style:{fontSize:12,fontWeight:400},children:["Modules Size:",i===n?st(n):`${st(i)} / ${st(n)}`]}),(0,b.jsx)(sH.Z,{})]})}),(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsx)(sm.Z,{title:(0,b.jsxs)(tr.Z,{direction:"vertical",children:[(0,b.jsxs)(sp.Z.Text,{style:{color:"inherit"},children:["this asset includes ",t.length," chunks:"]}),t.map(e=>(0,b.jsx)(sJ,{label:"chunk",value:e.name},e.name))]}),children:(0,b.jsxs)(tr.Z,{children:[(0,b.jsxs)(sp.Z.Text,{type:"secondary",style:{fontSize:12,fontWeight:400},children:["Chunks: ",t.length]}),(0,b.jsx)(sH.Z,{})]})})]})},iB=({asset:e,chunks:t,modules:s,moduleSizeLimit:r,height:n,root:i})=>{let[l,a]=(0,B.useState)(""),[o,d]=(0,B.useState)(!1),[c,h]=(0,B.useState)([]),[u,p]=(0,B.useState)(!1),m=(0,B.useMemo)(()=>{let e=s.slice();if(l){let t=RegExp(l,"i");e=e.filter(e=>t.test(e.path))}return r&&(e=e.filter(e=>e.size.parsedSize>=r)),e},[s,l,r]),x=(0,B.useMemo)(()=>tb({files:m.map(e=>e.path).filter(Boolean),inlinedResourcePathKey:iL,fileTitle(e,t){let r=m.find(t=>t.path===e);if(!r)return t;let{parsedSize:n=0,sourceSize:i=0}=r.size,l=r.kind===F.SDK.ModuleKind.Concatenation,a=!l&&0===n&&s.filter(e=>e!==r&&e.modules&&e.modules.indexOf(r.id)>-1);return(0,b.jsxs)("div",{className:iD["bundle-tree"],children:[(0,b.jsxs)("div",{className:iD.box,children:[(0,b.jsx)("div",{className:iD.keywords,children:(0,b.jsx)(il,{ellipsis:!0,text:t,keyword:""})}),(0,b.jsx)("div",{className:iD.dividerDiv,children:(0,b.jsx)(sE.Z,{className:iD.divider,dashed:!0})})]}),(0,b.jsxs)(tr.Z,{children:[0!==n?(0,b.jsx)(sm.Z,{title:(0,b.jsxs)(tr.Z,{direction:"vertical",children:[(0,b.jsx)(sa.Z,{color:"orange",children:`Bundled Size: ${st(n)}`}),(0,b.jsx)(sa.Z,{color:"volcano",children:`Source Size: ${st(i)}`})]}),color:"white",children:(0,b.jsx)(sa.Z,{color:"purple",style:iE,children:`Bundled Size: ${st(n)}`})}):0!==i?(0,b.jsx)(sa.Z,{color:"geekblue",children:`Source Size: ${st(i)}`}):null,l?(0,b.jsx)(sm.Z,{title:(0,b.jsx)(tr.Z,{children:(0,b.jsxs)(sp.Z.Text,{style:{color:"inherit"},children:["this is a concatenated module, it contains"," ",r.modules?.length," modules"]})}),children:(0,b.jsx)(sa.Z,{color:"green",style:iE,children:"concatenated"})}):null,a&&a.length?(0,b.jsx)(sm.Z,{title:(0,b.jsxs)(tr.Z,{direction:"vertical",children:[(0,b.jsx)(sp.Z.Text,{style:{color:"inherit"},children:"this is a concatenated module, it is be contained in these modules below:"}),a.map(({id:e,path:t})=>{if(t.startsWith("data:text/javascript;"))return(0,b.jsx)(sp.Z.Paragraph,{ellipsis:{rows:4},style:{color:"inherit",maxWidth:"100%"},code:!0,children:t},e);let s=(0,q.relative)((0,q.dirname)(r.path),t);return s.startsWith("javascript;charset=utf-8;base64,")?(0,b.jsx)(sp.Z.Text,{style:{color:"inherit",maxWidth:"100%"},code:!0,children:"."===s[0]?s:`./${s}`},e):(0,b.jsx)(sp.Z.Text,{style:{color:"inherit"},code:!0,children:"."===s[0]?s:`./${s}`},e)})]}),children:(0,b.jsx)(sa.Z,{color:"green",children:"concatenated"})}):null,(0,b.jsx)(ir.Z,{content:"Open the Module Graph Box",children:(0,b.jsx)(ie.Z,{onClick:()=>{h([r.id]),p(!0)}})}),(0,b.jsx)(iR,{data:r})]})]})},dirTitle(e,t){let r=function e(t,s){return t.children&&t.children.forEach(t=>{t.isLeaf?s.push(t[iL]):e(t,s)}),s}(e,[]);if(r.length){let e=r.map(e=>s.find(t=>t.path===e)),n=(0,sR.Z)(e,e=>e.size?.parsedSize||0),i=(0,sR.Z)(e,e=>e.size?.sourceSize||0);return(0,b.jsxs)("div",{className:iD["bundle-tree"],children:[(0,b.jsxs)("div",{className:iD.box,children:[(0,b.jsx)("div",{className:iD.keywords,children:(0,b.jsx)(il,{ellipsis:!0,text:t,keyword:""})}),(0,b.jsx)("div",{className:iD.dividerDiv,children:(0,b.jsx)(sE.Z,{className:iD.divider,dashed:!0})})]}),(0,b.jsx)(tr.Z,{children:n>0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(sa.Z,{style:iE,color:"orange",children:`Bundled: ${st(n)}`}),(0,b.jsx)(sa.Z,{style:iE,color:"lime",children:`Source: ${st(i)}`})]}):(0,b.jsx)(sa.Z,{style:iE,color:"lime",children:`Source: ${st(i)}`})})]})}return t},page:"bundle"}),[m]);return(0,B.useEffect)(()=>{a(""),d(!1)},[e]),(0,B.useEffect)(()=>{d(!1)},[l]),(0,b.jsx)(ic.Provider,{value:{moduleJumpList:c,setModuleJumpList:h},children:(0,b.jsxs)(su.Z,{className:iD.bundle,title:`Modules of "${e.path}"`,bodyStyle:{minHeight:n},size:"small",children:[s.length?(0,b.jsxs)(sO.Z,{children:[(0,b.jsx)(sB.Z,{span:24,children:(0,b.jsx)(iO,{modules:s,chunks:t,filteredModules:m})}),(0,b.jsx)(sB.Z,{span:24,children:(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(nt,{placeholder:"search module by keyword",onChange:e=>a(e)},e.path),(0,b.jsx)(sS.ZP,{onClick:()=>d(!0),size:"small",icon:(0,b.jsx)(io.Z,{})})]})}),(0,b.jsx)(sB.Z,{span:24,style:{marginTop:D.BasePadding},children:m.length?(0,b.jsx)(iI,{selectable:!1,defaultExpandAll:o||m.length<=20,onExpand:e=>{iN=e},defaultExpandParent:!0,defaultExpandedKeys:iN?.length?iN:1===x.length?[x[0].key]:[],treeData:x,rootStyle:{maxHeight:"500px",overflow:"auto",border:"1px solid rgba(235, 237, 241)",padding:"14px 20px"}},`tree_${l}_${o}_${e.path}`):(0,b.jsx)(so.Z,{description:(0,b.jsx)(sp.Z.Text,{strong:!0,children:`"${l}" can't match any modules`})})})]}):(0,b.jsx)(so.Z,{description:(0,b.jsx)(sp.Z.Text,{strong:!0,children:`"${e.path}" doesn't have any modules`})}),(0,b.jsx)(iz,{id:c?.length?c[c.length-1]:"",show:u,setShow:p,cwd:i})]})})};var iF=s(34136),i$="dataContainer_8372e",iG="title_8372e",iK="description_8372e";let{DirectoryTree:iW}=nb.Z,iH=({files:e,total:t,showProgress:s=!1,type:r})=>{let n=r.toLocaleLowerCase(),i=(0,B.useMemo)(()=>(0,sR.Z)(e,e=>e.size),[e]);return(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetAssetsSummary,body:{withFileContent:!1},children:r=>{let l=n.includes("image")?"imgs":n,{treeData:a}=n_(r[l].total);return(0,b.jsxs)(tr.Z,{style:{height:100},align:"center",children:[(0,b.jsx)(nA.Z,{type:"circle",percent:+(i/t*100).toFixed(2),strokeColor:{"0%":"#108ee9","100%":"#108ee9"},strokeWidth:12,format:e=>(0,b.jsxs)("div",{className:"percentContainer_8372e",children:[(0,b.jsxs)("span",{style:{marginTop:"10px"},children:[e,"%"]}),(0,b.jsxs)("span",{className:"percentDescription_8372e",children:["total ",l]})]})}),(0,b.jsxs)("div",{style:{marginLeft:"10px"},children:[(0,b.jsxs)("div",{className:i$,children:[(0,b.jsx)("div",{className:iG,children:"Size"}),(0,b.jsx)("div",{className:iK,children:st(i)})]}),(0,b.jsx)(rn,{buttonProps:{size:"small"},buttonStyle:{fontSize:"inherit"},drawerProps:{title:"Files"},text:(0,b.jsx)(tr.Z,{style:{textAlign:s?"left":"center"},align:"end",children:(0,b.jsx)(tr.Z,{direction:"vertical",children:(0,b.jsx)("div",{className:i$,children:(0,b.jsxs)("div",{className:iG,children:[(0,b.jsx)("span",{style:{marginRight:"5px"},children:"Files"}),(0,b.jsx)(tn.Z,{})]})})})}),children:a.length?(0,b.jsx)(iW,{defaultExpandAll:!0,selectable:!1,treeData:a,rootStyle:{minHeight:"800px",border:"1px solid rgba(235, 237, 241)"}}):(0,b.jsx)("div",{style:{position:"relative",top:"50%",transform:"translateY(-50%)"},children:(0,b.jsx)(so.Z,{style:{height:"100%"}})})}),(0,b.jsx)("div",{className:iK,children:e.length})]})]})}})},{DirectoryTree:iV}=nb.Z,{useToken:iU}=to.Z,{innerWidth:iq}=window,iY=({showProgress:e=!1,data:t,total:s,tagBgColor:r,type:n})=>{let{token:i}=iU(),l=r||i.colorPrimaryBorderHover;return(0,b.jsx)(iH,{type:n,files:t.files,total:s,showProgress:e,tagBgColor:l})},iJ=({titles:e,datas:t,bgColor:s,type:r})=>{let[n,i]=(0,B.useState)(0),l=r||e[n]||e[0];return(0,b.jsx)(sg,{title:(0,b.jsxs)("div",{className:"cardTitle_5cd6a",children:[(0,b.jsx)("div",{className:"title_5cd6a",children:l}),e.length>1?(0,b.jsx)(sx.Z,{defaultValue:e[n],options:e,onChange:t=>{i(e.indexOf(t))},size:"small",style:{transition:"transform 0.3s ease"},value:e[n]||e[0]}):null]}),value:t.map((e,t)=>(0,B.createElement)(iY,{type:l,...e,key:t,tagBgColor:s?.tagBgColor}))[n],boxProps:{style:{background:s?.bgColor,width:iq>1300?"80%":"95%"}}})},iQ=({errors:e,summary:t})=>{let s=tR(e),[r,n]=st(t.all.total.size).split(" "),i=[(0,b.jsx)(iJ,{type:"JS",titles:["Total","Initial"],datas:[{data:t.js.total,total:t.all.total.size,showProgress:!0},{data:t.js.initial,total:t.all.total.size,showProgress:!0}]}),(0,b.jsx)(iJ,{type:"CSS",titles:["Total","Initial"],datas:[{data:t.css.total,total:t.all.total.size,showProgress:!0},{data:t.css.initial,total:t.all.total.size,showProgress:!0}]}),(0,b.jsx)(iJ,{titles:["Images","Fonts","Media"],datas:[{data:t.imgs.total,total:t.all.total.size,showProgress:!0},{data:t.fonts.total,total:t.all.total.size,showProgress:!0},{data:t.media.total,total:t.all.total.size,showProgress:!0}]}),(0,b.jsx)(iJ,{type:"HTML",titles:["HTML Files"],datas:[{data:t.html.total,total:t.all.total.size,showProgress:!0}]})];return(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetAssetsSummary,body:{withFileContent:!1},children:e=>{let{treeData:l}=n_(e.all.total);return(0,b.jsxs)("div",{className:"container_5cd6a",children:[(0,b.jsxs)("div",{className:"summary_5cd6a",children:[(0,b.jsx)(sA,{title:(0,b.jsx)(rn,{buttonProps:{size:"small"},buttonStyle:{fontSize:"inherit"},drawerProps:{title:"Files"},text:(0,b.jsxs)("div",{style:{color:"#000000a6"},children:[(0,b.jsx)("span",{style:{marginRight:"5px"},children:"Total Files"}),(0,b.jsx)(tn.Z,{})]}),children:(0,b.jsx)(iV,{defaultExpandAll:!0,selectable:!1,treeData:l,rootStyle:{minHeight:"800px",border:"1px solid rgba(235, 237, 241)"}})}),description:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"description_5cd6a",children:r}),(0,b.jsx)("span",{className:"unit_5cd6a",children:n}),(0,b.jsxs)("div",{className:"totalNumber_5cd6a",children:[(0,b.jsx)("span",{style:{marginRight:"7px"},children:"Number of files"}),(0,b.jsx)("span",{style:{fontWeight:500},children:t.all.total.count})]})]}),icon:(0,b.jsx)(nq.C,{style:{background:"#3874F6"},shape:"circle",icon:(0,b.jsx)(nQ.Z,{style:{fontSize:"18px"}})}),style:{marginBottom:"12px",minWidth:"210px"}}),(0,b.jsx)(sA,{style:{minWidth:"210px"},title:(0,b.jsx)("div",{style:{margin:"4px 0"},children:(0,b.jsx)("span",{style:{marginRight:"5px"},children:"Duplicate Packages"})}),description:s.length,icon:(0,b.jsx)(nq.C,{style:{background:"#13C2C2"},shape:"circle",icon:(0,b.jsx)(iF.Z,{style:{fontSize:"18px"}})})})]}),(0,b.jsx)(sE.Z,{style:{height:"200px"},type:"vertical"}),(0,b.jsx)("div",{className:"chartsContainer_5cd6a",children:i.map((e,t)=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"chart_5cd6a",children:e},t),t!==i.length-1?(0,b.jsx)(sE.Z,{style:{height:"200px"},type:"vertical"}):null]}))})]})}})};var iX=s(29581),i0=s(63457);let{Search:i1}=ne.Z,i5=()=>{let[e,t]=(0,B.useState)(!1),[s,r]=(0,B.useState)(""),[n,i]=(0,B.useState)(""),l=(0,B.useCallback)((...e)=>{let[t,s]=e;r(t)},[]),a=()=>{t(!1)},o=()=>{t(!1)};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(sS.ZP,{className:iD["search-btn"],color:"cyan",onClick:()=>{t(!0)},children:"Search Module"}),(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetSearchModules,body:{moduleName:String(s)},children:t=>{let r=Object.keys(t)[0];return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(iX.Z,{className:iD.modal,title:"Search Modules",onOk:a,onCancel:o,open:e,width:"65rem",footer:"",children:[(0,b.jsx)(i1,{placeholder:"input search module name",allowClear:!0,onSearch:l,style:{width:500}}),r?(0,b.jsx)(sd.Z,{defaultActiveKey:r,tabPosition:"top",onChange:e=>i(e),items:Object.keys(t).map((e,i)=>({label:t[e],key:e,children:i2(s,n||r)}))}):(0,b.jsx)(so.Z,{description:"No modules found."})]})})}})]})},i2=(e,t)=>(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetSearchModuleInChunk,body:{moduleName:String(e),chunk:t},children:t=>(0,b.jsx)(b.Fragment,{children:t?.length!==0?(0,b.jsx)(i0.Z,{className:iD["search-modal-list"],loading:!t.length,itemLayout:"horizontal",pagination:{position:"bottom",align:"center"},dataSource:t,renderItem:t=>{let s=t.relativePath.split(e);return(0,b.jsx)(i0.Z.Item,{children:(0,b.jsx)(sQ.Z,{avatar:!0,title:!1,loading:!t.path,active:!0,children:(0,b.jsx)(i0.Z.Item.Meta,{description:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(sp.Z.Text,{code:!0,children:"Module:"}),s.map((t,r)=>r<s.length-1?(0,b.jsxs)(sp.Z.Text,{style:{fontWeight:200},children:[t,(0,b.jsx)(sp.Z.Text,{strong:!0,style:{fontWeight:600},children:e})]}):(0,b.jsx)(sp.Z.Text,{style:{fontWeight:200},children:t}))]})})})})}}):(0,b.jsx)(so.Z,{})})}),{Option:i4}=nl.Z,i6=[{key:"tree",label:(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{children:"Tree Graph"}),(0,b.jsx)(sm.Z,{overlayStyle:{maxWidth:380},overlayInnerStyle:{marginLeft:16,padding:10},color:"white",title:(0,b.jsxs)(tr.Z,{direction:"vertical",color:"white",size:"middle",children:[(0,b.jsx)(sO.Z,{children:(0,b.jsxs)(sB.Z,{children:[(0,b.jsx)(sa.Z,{color:"cyan",style:{margin:0},children:"initial"}),(0,b.jsx)(sp.Z.Text,{style:{marginLeft:4},children:"Identify whether the chunk is an initial chunk."})]})}),(0,b.jsx)(sO.Z,{children:(0,b.jsxs)(sB.Z,{children:[(0,b.jsx)(sa.Z,{color:"green",style:{margin:0},children:"concatenated"}),(0,b.jsx)(sp.Z.Text,{style:{marginLeft:4},children:"Identify whether the module is a concatenated module"}),(0,b.jsx)(sm.Z,{overlayStyle:{maxWidth:408},placement:"bottom",color:"white",title:(0,b.jsx)(tr.Z,{direction:"vertical",color:"white",children:(0,b.jsx)(sO.Z,{children:(0,b.jsxs)(sB.Z,{children:[(0,b.jsx)(sp.Z.Text,{strong:!0,children:"Concatenated Module"}),(0,b.jsx)(sp.Z.Text,{children:': A performance optimization where multiple modules are merged (or "hoisted") into a single scope instead of wrapping each module in separate function closures. This reduces the bundle size and improves runtime performance by minimizing function call overhead.'})]})})}),children:(0,b.jsx)(sH.Z,{style:{color:"rgba(0,0,0,.45)",marginLeft:4}})}),(0,b.jsx)(sp.Z.Text,{children:"."})]})}),(0,b.jsx)(sO.Z,{children:(0,b.jsxs)(sB.Z,{children:[(0,b.jsx)(sS.ZP,{size:"small",icon:(0,b.jsx)(n9.Z,{})}),(0,b.jsx)(sp.Z.Text,{style:{marginLeft:4},children:"Open the code."})]})}),(0,b.jsx)(sO.Z,{children:(0,b.jsxs)(sB.Z,{children:[(0,b.jsx)(sS.ZP,{size:"small",icon:(0,b.jsx)(ie.Z,{})}),(0,b.jsx)(sp.Z.Text,{style:{marginLeft:4},children:"View the module dependency, that is, module reasons in stats.json."})]})}),(0,b.jsx)(sO.Z,{children:(0,b.jsxs)(sB.Z,{children:[(0,b.jsx)(sa.Z,{color:"purple",children:"Bundled: 15.77 KB"}),(0,b.jsx)(sp.Z.Text,{children:"The final size of the output files after processing, bundling, and optimization. This is what is delivered to the browser."})]})}),(0,b.jsx)(sO.Z,{children:(0,b.jsxs)(sB.Z,{children:[(0,b.jsx)(sa.Z,{color:"orange",children:"Source: 60.46 KB"}),(0,b.jsx)(sp.Z.Text,{children:"The original size of your source code files before any processing or transformations. This is the raw size of your code as you wrote it."})]})})]}),children:(0,b.jsx)(sH.Z,{style:{color:"rgba(0,0,0,.45)"}})})]})},{key:"tile",label:"Tile Graph"}],i3=({errors:e,cwd:t,summary:s,entryPoints:r})=>{let[n,i]=(0,B.useState)([]),[l,a]=(0,B.useState)(0),[o,d]=(0,B.useState)(""),[c,h]=(0,B.useState)(0),[u,p]=(0,B.useState)(!1),[m,x]=(0,B.useState)(""),[f,g]=(0,B.useState)(""),[j,y]=(0,B.useState)(null),[v,Z]=(0,B.useState)("tree"),{showCode:S,codeDrawerComponent:w}=function(e){let[t,s]=(0,B.useState)(""),[r,n]=(0,B.useState)(""),[i,l]=(0,B.useState)(""),[a,o]=(0,B.useState)(!1),[d,c]=(0,B.useState)(),[h,u]=(0,B.useState)();return{showCode(e){s(e.code||""),n(e.lang||""),l(e.filePath||""),c(e.defaultLine),u(e.ranges),o(!0)},codeDrawerComponent:(0,b.jsx)(sL.Z,{maskClosable:!0,zIndex:999,width:"70%",destroyOnClose:!0,title:`Code of "${i}"`,open:a,onClose:()=>o(!1),children:t?(0,b.jsx)(rW,{code:t,lang:r,filePath:i,defaultLine:d,ranges:h}):(0,b.jsx)(so.Z,{description:e||"No Code"})})}}("Do not have the codes of assets. If you use the lite or brief mode, there will have codes."),{t:C}=tI(),M=s.all.total.files,k=(0,B.useCallback)(e=>t=>{"module"===e?x(t):"chunk"===e&&g(t)},[]),P=e=>(0,b.jsxs)(nl.Z,{defaultValue:"kb",onChange:k(e),children:[(0,b.jsx)(i4,{value:"kb",children:"KB"}),(0,b.jsx)(i4,{value:"mb",children:"MB"})]}),_=(0,B.useCallback)((0,is.Z)(e=>{a("mb"===m?1024*e*1024:1024*e)},300),[]),I=(0,B.useCallback)((0,is.Z)(e=>{h("mb"===f?1024*e*1024:1024*e)},300),[]),N=(0,B.useMemo)(()=>{let e=M.slice();return o&&(e=e.filter(e=>e.path.indexOf(o)>-1)),c>0&&(e=e.filter(e=>e.size>=c)),n.length&&(e=e.filter(e=>!!n.some(t=>(0,tz.Z)(t.assets,e.path)))),e.sort((e,t)=>{let s=+(e.path.indexOf("/")>-1);return(t.path.indexOf("/")>-1)-s})},[M,n,o,c]);(0,B.useEffect)(()=>{s.all.total.files.forEach(e=>{"js"===function(e){let t=e.split(".");return t.length>1?t.pop():""}(e.path)&&y(e.path)})},[s.all.total.files]);let A=(0,B.useMemo)(()=>tb({files:N.map(e=>e.path).filter(Boolean),fileTitle(e,t){let{size:s,initial:r,path:n,content:i}=N.find(t=>t.path===e);return(0,b.jsxs)("div",{className:iD.assetBox,onClick:()=>{y(n)},children:[(0,b.jsx)(il,{text:t,keyword:"",className:iD.fileText}),(0,b.jsxs)(tr.Z,{size:"small",className:iD.assetsTag,children:[(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsx)(sp.Z.Text,{style:{color:"#4FD233"},children:st(s)}),(0,b.jsx)(sE.Z,{type:"vertical"}),r?(0,b.jsx)(sp.Z.Text,{style:{color:"#009A9E"},children:"initial"}):null,(0,b.jsx)(sz.Z,{style:{fontSize:14,padding:0},onClick:()=>S({code:i,filePath:n})})]})]})}}),[N]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bundle-size-card",children:[(0,b.jsx)(iQ,{cwd:t,errors:e,summary:s}),(0,b.jsxs)(su.Z,{className:"bundle-size=card",tabList:i6,activeTabKey:v,onTabChange:e=>Z(e),hidden:"tree"===v,tabProps:{size:"middle"},children:[(0,b.jsx)(sO.Z,{children:(0,b.jsx)(sp.Z.Text,{code:!0,children:"From: webpack-bundle-analyzer"})}),(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetTileReportHtml,body:{},children:e=>e&&"tile"===v?(0,b.jsx)("iframe",{srcDoc:e,width:"100%",height:800,style:{border:"none"}}):(0,b.jsx)(so.Z,{description:(0,b.jsxs)("div",{children:["Tile graph is disabled,"," ",(0,b.jsx)("a",{href:"https://rsdoctor.dev/config/options/options#generatetilegraph",children:"see the documentation to learn how to enable."})]})})})]}),(0,b.jsx)(su.Z,{hidden:"tile"===v,tabList:i6,activeTabKey:v,onTabChange:e=>Z(e),tabProps:{size:"middle"},children:(0,b.jsxs)(tr.Z,{direction:"vertical",children:[(0,b.jsxs)(sO.Z,{align:"middle",gutter:[D.BasePadding,D.BasePadding],children:[r&&r.length?(0,b.jsx)(sB.Z,{children:(0,b.jsx)(nl.Z,{mode:"multiple",value:n.map(e=>e.name),style:{minWidth:230,width:"auto",maxWidth:300},placeholder:"filter assets by entry point",onChange:e=>{i(e.map(e=>r.find(t=>t.name===e)).filter(Boolean))},allowClear:!0,onClear:()=>{i([])},children:r.map(e=>(0,b.jsx)(nl.Z.Option,{value:e.name,children:(0,b.jsx)(tr.Z,{children:(0,b.jsx)(sJ,{label:e.name,value:st(e.size),tooltip:e.name})})},e.name))})}):null,(0,b.jsx)(sB.Z,{children:(0,b.jsx)(nt,{placeholder:"search asset by keyword",onChange:e=>{d(e),p(!1)}})}),(0,b.jsx)(sB.Z,{span:6,children:(0,b.jsx)(it.Z,{min:0,style:{width:"95%"},addonBefore:(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{style:{fontSize:14,color:"inherit"},children:"Asset Size"}),(0,b.jsx)(sm.Z,{title:C("filter the output assets which size is greater than the input value"),style:{marginLeft:3},children:(0,b.jsx)(sH.Z,{style:{color:"rgba(0,0,0,.45)"}})})]}),onChange:e=>I(Number(e)),addonAfter:P("chunk")})}),(0,b.jsx)(sB.Z,{span:6,children:(0,b.jsx)(it.Z,{min:0,style:{width:"95%"},addonBefore:(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{style:{fontSize:14,color:"inherit"},children:"Module Size"}),(0,b.jsx)(sm.Z,{title:C("filter the modules which size is greater than the input value"),style:{marginLeft:3},children:(0,b.jsx)(sH.Z,{style:{color:"rgba(0,0,0,.45)"}})})]}),onChange:e=>{_(Number(e))},addonAfter:P("module")})})]}),(0,b.jsx)(sO.Z,{children:(0,b.jsx)(i5,{})}),(0,b.jsx)(sO.Z,{align:"middle",gutter:[D.BasePadding,D.BasePadding],children:(0,b.jsx)(sB.Z,{span:24,children:N.length?(0,b.jsxs)(sO.Z,{gutter:D.BasePadding,children:[(0,b.jsx)(sB.Z,{span:6,children:(0,b.jsx)(su.Z,{title:(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{children:C("Output Assets List")}),(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsx)(sm.Z,{title:`total assets count is ${M.length}, the filtered assets count is ${N.length}`,children:(0,b.jsxs)(sp.Z.Text,{type:"secondary",style:{fontSize:12,fontWeight:400},children:[N.length," / ",M.length]})}),(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsx)(sp.Z.Text,{type:"secondary",style:{fontSize:12,fontWeight:400},children:st((0,sR.Z)(N,e=>e.size))})]}),size:"small",bodyStyle:{overflow:"scroll",height:600},children:(0,b.jsx)(tg,{className:iD.assets,treeData:A,autoExpandParent:!0,defaultExpandAll:u||N.length<=20},`tree_${o}_${u}`)})}),(0,b.jsx)(sB.Z,{span:18,children:j?(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetAssetDetails,body:{assetPath:j},children:e=>(0,b.jsx)(iB,{asset:e.asset,chunks:e.chunks,modules:e.modules,height:600,moduleSizeLimit:l,root:t})}):(0,b.jsx)(su.Z,{bodyStyle:{height:600},children:(0,b.jsx)(so.Z,{description:(0,b.jsx)(sp.Z.Text,{strong:!0,children:"Click the file path on the left to show the modules of the asset"})})})})]}):(0,b.jsx)(so.Z,{})})})]})})]}),w]})},i7=s7({api:F.SDK.ServerAPI.API.GetProjectInfo,responsePropName:"project",Component:e=>{let{root:t,errors:s}=e.project;return(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetAssetsSummary,body:{withFileContent:!0},children:e=>(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetEntryPoints,children:r=>(0,b.jsx)(i3,{cwd:t,errors:s,summary:e,entryPoints:r})})})}}),i8="BundleSize",i9=F.Client.RsdoctorClientRoutes.BundleSize,le=()=>(0,b.jsx)(sO.Z,{children:(0,b.jsx)(sB.Z,{span:24,style:{marginBottom:D.BasePadding},children:(0,b.jsx)(i7,{})})});var lt=s(29997),ls=s(80160);let lr=({style:e,onChange:t,loaderNames:s})=>{let[r,n]=(0,B.useState)([]);return(0,b.jsxs)(ne.Z.Group,{compact:!0,style:e,children:[(0,b.jsxs)(sS.ZP,{style:{width:120},children:[(0,b.jsx)(lt.Z,{}),(0,b.jsx)(sp.Z.Text,{children:"Loaders"})]}),(0,b.jsx)(nl.Z,{mode:"multiple",allowClear:!0,defaultValue:r,className:"loader-select",style:{width:300},popupMatchSelectWidth:300,placeholder:"select loaders",onChange:e=>{n(e),t(e)},children:s.map(e=>(0,b.jsx)(nl.Z.Option,{label:e,value:e,children:e},e))})]})},ln=({onChange:e,layers:t})=>{let[s,r]=(0,B.useState)("");return(0,b.jsxs)(ne.Z.Group,{compact:!0,children:[(0,b.jsxs)(sS.ZP,{style:{width:120},children:[(0,b.jsx)(lt.Z,{}),(0,b.jsx)(sp.Z.Text,{children:"Layers"})]}),(0,b.jsx)(nl.Z,{allowClear:!0,className:"layer-select",style:{width:150},defaultValue:s,placeholder:"select layer",onChange:t=>{r(t),e(t)},children:t?.length?t?.map(e=>(0,b.jsx)(nl.Z.Option,{label:e,value:e,children:e},e)):(0,b.jsx)(b.Fragment,{})})]})},li=({onChange:e,loaderNames:t})=>{let[s,r]=(0,B.useState)([]),[n,i]=(0,B.useState)(""),[l,a]=(0,B.useState)("");return(0,B.useEffect)(()=>{e({loaders:s,filename:n,layer:l})},[s,n,l]),(0,b.jsxs)(sO.Z,{style:{marginBottom:D.BasePadding,marginLeft:10},children:[(0,b.jsx)(sB.Z,{children:(0,b.jsx)(lr,{loaderNames:t,style:{marginRight:D.BasePadding},onChange:e=>{r(e)}})}),(0,b.jsx)(sB.Z,{children:(0,b.jsx)(nt,{icon:(0,b.jsx)(ls.Z,{}),style:{marginRight:D.BasePadding},label:"Filename",placeholder:"search filename by keyword",onChange:e=>{i(e)}})}),(0,b.jsx)(sB.Z,{children:(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetLayers,children:e=>e.length?(0,b.jsx)(ln,{layers:e,onChange:e=>{a(e)}}):(0,b.jsx)(b.Fragment,{})})})]})},ll=0,la=0,lo=({loaders:e,cwd:t})=>{let{isDark:s}=t9(),r=(0,B.useRef)(null),[n,i]=(0,B.useState)([]),l=function(e,t){let[s,r]=(0,B.useState)(e);return(0,B.useEffect)(()=>{let t=setTimeout(()=>r(e),200);return()=>clearTimeout(t)},[e,200]),s}(n,200),a=(0,B.useMemo)(()=>(0,r3.Z)(e,e=>e.loader),[e]),o=(0,B.useCallback)(s=>{let{name:r,data:n}=s,i=r.replace(" total","");if(n?.ext){var l;return l=n.ext,`
  <div class="loader-tooltip-container">
    <div class="loader-tooltip-title">${l.loader}</div>
    <li class="loader-tooltip-item">
      <span>isPitch</span>
      <span>${l.isPitch}</span>
    </li>
    ${l.layer&&"undefined"!==l.layer?`<li class="loader-tooltip-item">
        <span>layer</span>
        <span>${l.layer}</span>
      </li>`:""}
    <li class="loader-tooltip-item">
      <span>duration</span>
      <span class="loader-tooltip-text-bold">${si(l.costs)}</span>
    </li>
    <li class="loader-tooltip-item">
      <span>filepath</span>
      <span>${l.resource}</span>
    </li>
    <li class="loader-tooltip-item">
      <span>start</span>
      <span class="loader-tooltip-text-bold">${r6()(l.startAt).format("YYYY/MM/DD HH:mm:ss")}</span>
    </li>
    <li class="loader-tooltip-item">
      <span>end</span>
      <span class="loader-tooltip-text-bold">${r6()(l.endAt).format("YYYY/MM/DD HH:mm:ss")}</span>
    </li>
  </div>
  `.trim()}return function(e,t,s){let r=t=>t.loader===e,n=t.filter(r),i=n.map(e=>e.resource),l=i.filter(e=>e.includes("/node_modules/")),a=i.filter(e=>!e.startsWith(s)),o=(0,nE.Z)(n,e=>e.startAt).startAt,d=(0,nT.Z)(n,e=>e.endAt).endAt,c=es(r,t);return`
<div class="loader-tooltip-container">
  <div class="loader-tooltip-title">${e}</div>
  <li class="loader-tooltip-item">
    <span>files</span>
    <span class="loader-tooltip-text-bold">${i.length}</span>
  </li>
  <li class="loader-tooltip-item">
    <span>files(node_modules)</span>
    <span class="loader-tooltip-text-bold">${l.length}</span>
  </li>
  <li class="loader-tooltip-item">
    <span>files(outside the cwd)</span>
    <span class="loader-tooltip-text-bold">${a.length}</span>
  </li>
  <li class="loader-tooltip-item">
    <span>duration(estimated)</span>
    <span class="loader-tooltip-text-bold">${si(c)}</span>
  </li>
  <li class="loader-tooltip-item">
    <span>start(min)</span>
    <span>${r6()(o).format("YYYY/MM/DD HH:mm:ss")}</span>
  </li>
  <li class="loader-tooltip-item">
    <span>end(max)</span>
    <span>${r6()(d).format("YYYY/MM/DD HH:mm:ss")}</span>
  </li>
  </div>
    `.trim()}(i,e,t)},[]);return(0,B.useEffect)(()=>{i(Object.keys(a).map(e=>{let s=a[e]||[],{start:r,end:n}=tL(s);return(r<ll||0===ll)&&(ll=r),(n>la||0===la)&&(la=n),{p:e,n:e,s:r,e:n,c:s.map(s=>({p:e,n:tZ(s.resource,t),s:s.startAt,e:s.endAt,ext:s}))}}))},[a]),(0,b.jsx)(b.Fragment,{children:n?.length?(0,b.jsx)("div",{className:["loader-chart-container",s?"loader-chart-container_dark":""].join(" ").trim(),ref:r,style:{width:"100%"},children:(0,b.jsx)(r9,{loaderData:l,formatterFn:o,chartType:r8.Loader,exts:{startTimestamp:ll,endTimestamp:la}})}):(0,b.jsx)(so.Z,{})})},ld=s7({api:F.SDK.ServerAPI.API.GetProjectInfo,responsePropName:"project",Component:({project:e})=>{let{root:t}=e,[s,r]=(0,B.useState)({filename:"",loaders:[],layer:""}),[n,i]=(0,B.useState)(0);return(0,b.jsxs)(tr.Z,{direction:"vertical",style:{width:"100%"},children:[(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetLoaderNames,children:e=>(0,b.jsx)(li,{onChange:r,loaderNames:e})}),(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetLoaderChartData,children:e=>{let r=e.filter(e=>tB(e.resource,e.loader,s.filename,s.loaders,e.layer,s?.layer));return 0===n?(0,b.jsx)(lo,{loaders:r,cwd:t}):(0,b.jsx)(b.Fragment,{})}})]})}}),lc=F.Client.RsdoctorClientRoutes.WebpackLoaderOverall,lh=()=>(0,b.jsx)(sZ,{title:"Loader Timeline",extra:(0,b.jsx)(n6,{defaultKeys:["module"]}),children:(0,b.jsx)(ld,{})});var lu=s(1613),lp=e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:10,height:12,fill:"none",viewBox:"0 0 10 12",...e,children:[(0,b.jsx)("path",{fill:"#FAAD14",fillRule:"evenodd",d:"M3.151 7.98h-1.85a.925.925 0 0 1-.924-.925V1.508c0-.511.414-.925.925-.925h7.396c.511 0 .925.414.925.925v5.547c0 .51-.414.924-.925.924H6.85V6.13a1.85 1.85 0 0 0-3.698 0v1.85Z",clipRule:"evenodd"}),(0,b.jsx)("path",{fill:"#FAAD14",d:"M4.076 9.829a.925.925 0 0 0 1.849 0V6.13a.925.925 0 0 0-1.85 0V9.83Z"}),(0,b.jsx)("path",{fill:"#FAAD14",d:"M5 11.416 7.402 8.92H2.598L5 11.416Z"})]}),lm=e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...e,children:[(0,b.jsx)("rect",{width:16,height:16,fill:"#F6FFED",rx:2}),(0,b.jsx)("path",{fill:"#52C41A",fillRule:"evenodd",d:"M4.302 6.02a.925.925 0 0 0-.925.925v5.547c0 .51.414.925.925.925h7.396c.511 0 .925-.414.925-.925V6.945a.925.925 0 0 0-.925-.925H4.302Zm5.547 0H6.151v1.85a1.85 1.85 0 0 0 3.698 0V6.02Z",clipRule:"evenodd"}),(0,b.jsx)("path",{fill:"#52C41A",d:"M7.076 4.171a.925.925 0 0 1 1.849 0V7.87a.925.925 0 0 1-1.85 0V4.171Z"}),(0,b.jsx)("path",{fill:"#52C41A",d:"m8 2.583 2.402 2.497H5.598L8 2.583Z"})]}),lx=e=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none",viewBox:"0 0 14 14",...e,children:(0,b.jsx)("path",{fill:"#2994FF",d:"M7 10.736 1.7 6.589a.125.125 0 0 0-.201.098v1.208c0 .077.036.15.095.197l5.097 3.989a.5.5 0 0 0 .617 0l5.095-3.99a.248.248 0 0 0 .096-.196V6.687a.125.125 0 0 0-.202-.098L7 10.736Zm0-4.75L1.7 1.839a.125.125 0 0 0-.201.098v1.208c0 .077.036.15.095.197L6.692 7.33a.5.5 0 0 0 .617 0l5.095-3.99a.248.248 0 0 0 .096-.196V1.937a.125.125 0 0 0-.202-.098L7 5.986Z"})});let lf=+Date.now().toString().slice(-4)+1e3,lg=({cwd:e,url:t,loc:s,windowId:r=lf,label:n,disabled:i,code:l=!1})=>{let a=Y().resolve(e,function(e){let t=e.split(" "),s="";return 1===t.length?[s]=t:[s]=t.filter(e=>Y().isAbsolute(e)||(0,ts.Z)(e,"./")),s||e}(t)),{line:o,columnStart:d}=function(e){if(!e)return{line:1,column:1};let[t,s=""]=e.split(":"),[r=1,n]=s.split("-");return{line:t,columnStart:r,columnEnd:n||r}}(s);return(0,b.jsxs)("span",{style:{wordBreak:"break-all"},children:[(0,b.jsx)(sp.Z.Text,{copyable:{text:a},children:(0,b.jsxs)(sp.Z.Text,{code:l,onClick:()=>{i||function({file:e,line:t=1,column:s=1,windowId:r}){let n={windowId:r},i=Object.keys(n).map(e=>{let t=n[e];return(0,s4.Z)(t)||""===t?null:`${e}=${t}`}).filter(Boolean).join("&"),l=`vscode://file/${e}:${t}:${s}`;i&&(l+=`?${i}`),window.open(l)}({file:a,line:o,column:d,windowId:r})},style:{cursor:i?"revert":"pointer"},children:[n||e1(t),s?`:${s}`:""]})}),(0,b.jsx)("div",{style:{display:"inline-block"}})]})};var lj={loaderAnalysis:"loaderAnalysis_85b73",dividerDiv:"dividerDiv_85b73",divider:"divider_85b73",box:"box_85b73",keyword:"keyword_85b73",textBox:"textBox_85b73",text:"text_85b73",space:"space_85b73",executions:"executions_85b73",timeline:"timeline_85b73",loader:"loader_85b73",selected:"selected_85b73"};let ly=({loader:e,resource:t,cwd:s})=>(0,b.jsx)(sZ,{title:"Loader Details",style:{border:"none"},extra:(0,b.jsx)(sa.Z,{icon:(0,b.jsx)(lu.Z,{}),color:"default",children:r6()(e.startAt).format("YYYY-MM-DD HH:mm:ss")}),children:(0,b.jsxs)(tr.Z,{direction:"vertical",style:{width:"100%"},children:[e.isPitch?(0,b.jsx)(sp.Z.Text,{code:!0,children:"pitch"}):null,(0,b.jsxs)(i0.Z,{size:"large",bordered:!0,children:[(0,b.jsxs)(i0.Z.Item,{children:[(0,b.jsx)(sp.Z.Text,{strong:!0,children:"File Path"}),(0,b.jsx)("div",{children:tZ(t.path,s)})]}),(0,b.jsxs)(i0.Z.Item,{children:[(0,b.jsx)(sp.Z.Text,{strong:!0,children:"Resource Path"}),(0,b.jsx)(lg,{cwd:s,url:t.path,loc:"",disabled:!0})]}),(0,b.jsxs)(i0.Z.Item,{children:[(0,b.jsx)(sp.Z.Text,{strong:!0,children:"Resource Query"}),(0,b.jsx)("div",{children:t.queryRaw||"-"})]}),(0,b.jsxs)(i0.Z.Item,{children:[(0,b.jsx)(sp.Z.Text,{strong:!0,children:"Duration"}),(0,b.jsx)("div",{children:si(e.costs)})]}),(0,b.jsxs)(i0.Z.Item,{children:[(0,b.jsx)(sp.Z.Text,{strong:!0,children:"Loader"}),(0,b.jsx)("div",{children:(0,b.jsx)(sp.Z.Text,{code:!0,children:e.loader})})]}),(0,b.jsxs)(i0.Z.Item,{children:[(0,b.jsx)(sp.Z.Text,{strong:!0,children:"Loader Index"}),(0,b.jsx)("div",{children:`${e.loaderIndex}`})]}),(0,b.jsxs)(i0.Z.Item,{children:[(0,b.jsx)(sp.Z.Text,{strong:!0,children:"Loader Path"}),(0,b.jsx)(lg,{cwd:s,url:e.path,loc:"",disabled:!0})]}),(0,b.jsxs)(i0.Z.Item,{children:[(0,b.jsx)("div",{style:{width:180},children:(0,b.jsx)(sp.Z.Text,{strong:!0,children:"Options"})}),(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsx)(sp.Z.Paragraph,{ellipsis:{rows:2,expandable:!0,symbol:"more"},copyable:!0,children:JSON.stringify(e.options||"-")})]})]})]})}),lv=({data:e,cwd:t,index:s})=>{let{loaders:r,resource:n}=e,[i,l]=(0,B.useState)(s||0),{theme:a}=t9(),o="light"===a,d=r[i],c=d.input||"",h=d.errors&&d.errors.length,[u,p]=(0,B.useState)("loaderDetails"),m=(0,B.useCallback)(e=>{p(e)},[]);return(0,b.jsxs)(sO.Z,{className:lj.executions,style:{height:"100%"},children:[(0,b.jsx)(sB.Z,{span:5,style:{borderRight:o?"1px solid #f0f0f0":void 0,padding:D.BasePadding},children:(0,b.jsxs)(tr.Z,{direction:"vertical",style:{width:"100%"},children:[(0,b.jsx)(sq,{text:"Executions"}),(0,b.jsx)(s$.Z,{mode:"left",style:{marginTop:D.BasePadding},children:r.map((e,t,s)=>{let{loader:r,isPitch:n}=e,a=si(e.costs);return(0,b.jsxs)(s$.Z.Item,{dot:n?(0,b.jsx)(sa.Z,{style:{marginLeft:1,fontWeight:500},children:"pitch"}):(0,b.jsx)(lu.Z,{}),style:{paddingBottom:10,textAlign:"center"},children:[(0,b.jsx)(sO.Z,{align:"middle",justify:"space-between",gutter:[0,10],children:(0,b.jsx)(sB.Z,{span:24,className:lj.timeline,children:(0,b.jsx)(sm.Z,{title:r,trigger:"hover",children:(0,b.jsxs)("div",{className:`${lj.box} ${i===t?lj.selected:""}`,onClick:()=>{l(t)},style:{textAlign:"left"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(sp.Z.Text,{style:{color:"#000"},children:a.match(/[0-9]+/g)})," ",(0,b.jsx)(sp.Z.Text,{style:{color:"rgba(0,0,0,0.45)"},children:a.match(/[a-zA-Z]+/g)})]}),(0,b.jsx)(sp.Z.Text,{style:{color:"rgba(0,0,0,0.65)"},className:lj.loader,children:r})]})})})}),t===s.length-1?null:(0,b.jsx)("div",{style:{paddingTop:10},children:(0,b.jsx)(lx,{})})]},t)})})]})}),(0,b.jsx)(sB.Z,{span:19,style:{height:"100%"},children:(0,b.jsx)(sd.Z,{type:"card",defaultActiveKey:"loaderDetails",activeKey:u,items:[{label:"Loader Props",key:"loaderProps",children:(0,b.jsx)(ly,{loader:d,resource:n,cwd:t})},{label:"Loader Details",key:"loaderDetails",children:(0,b.jsx)("div",{style:{height:"100%"},children:h?(0,b.jsxs)(sB.Z,{span:24,style:{height:"53%",minHeight:400},children:[(0,b.jsx)("div",{style:{padding:D.BasePadding,borderTop:`1px solid ${o?"#f0f0f0":"rgba(253, 253, 253, 0.12)"}`,borderBottom:`1px solid ${o?"#f0f0f0":"rgba(253, 253, 253, 0.12)"}`},children:(0,b.jsx)(sq,{text:`the error stack of [${d.loader}] ${d.isPitch?"pitch":""}`})}),(0,b.jsx)("div",{style:{height:"90%"},children:(0,b.jsx)(rW,{code:d.errors[0].message,lang:"javascript"})})]}):(0,b.jsxs)(sB.Z,{span:24,style:{height:"53%",minHeight:400},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:D.BasePadding,borderBottom:`1px solid ${o?"#f0f0f0":"rgba(253, 253, 253, 0.12)"}`},children:[(0,b.jsx)(sq,{text:(0,b.jsxs)(b.Fragment,{children:[`the result of [${d.loader}] ${d.isPitch?"pitch":""}`,!d.isPitch&&(0,b.jsxs)("span",{style:{fontWeight:400},children:["(",(0,b.jsx)(lp,{style:{verticalAlign:"middle",margin:"0 2px"}}),"Input ⟷",(0,b.jsx)(lm,{style:{verticalAlign:"middle",position:"relative",top:-2}}),"Output)"]})]})}),(0,b.jsx)("div",{style:{flex:1}})]}),d.isPitch?d.result?(0,b.jsx)("div",{style:{height:"90%"},children:(0,b.jsx)(rW,{isEmbed:!0,code:d.result,filePath:n.path})}):(0,b.jsx)(so.Z,{description:"No loader result. If you use the Brief Mode, there will not have loader results."}):(0,b.jsx)("div",{style:{minHeight:"700px"},children:(0,b.jsx)("div",{style:{height:"40rem",overflow:"hidden"},children:d.result||c?(0,b.jsx)(rU,{isEmbed:!0,original:c,modified:d.result||"",originalFilePath:n.path,modifiedFilePath:n.path}):(0,b.jsx)(so.Z,{description:"No loader result. If you use the Brief Mode, there will not have loader results."})})})]})})}],onChange:m})})]})},lb=e=>{let{cwd:t,filetree:s}=e,[r,n]=(0,B.useState)(!1),[i,l]=(0,B.useState)(""),[a,o]=(0,B.useState)(0),[d,c]=(0,B.useState)(null),h=(0,B.useMemo)(()=>s.filter(t=>t.loaders.some(s=>tB(t.path,s.loader,e.filename,e.loaders,t.layer,e?.layer))),[e.filename,e.loaders,e.layer]),u="__RESOURCEPATH__",p=(0,B.useMemo)(()=>tb({files:h.map(e=>e.path),cwd:t,fileTitle(e,t){let{loaders:r,layer:i}=s.find(t=>t.path===e),a=[];return r.forEach((e,t)=>t>3&&a.push(e)),(0,b.jsxs)("div",{style:{wordBreak:"break-all",display:"flex",cursor:"pointer"},onClick:()=>{o(0),l(e),n(!0)},children:[(0,b.jsx)("div",{className:lj.box,children:(0,b.jsx)("div",{className:lj.keywords,children:(0,b.jsx)(il,{text:t.replace(/\[.*?\]/g,""),keyword:""})})}),(0,b.jsx)("div",{className:lj.dividerDiv,style:{flex:1},children:(0,b.jsx)(sE.Z,{className:lj.divider,dashed:!0})}),i&&(0,b.jsx)(sa.Z,{color:"cyan",bordered:!1,children:i}),(0,b.jsxs)(tr.Z,{children:[r.slice(0,3).map((t,s)=>{let r=t.errors&&t.errors.length,i=`${e}_${t.loader}_${s}`;if(s<=3)return(0,b.jsx)(sm.Z,{title:t.path,children:(0,b.jsxs)(sp.Z.Text,{className:lj.textBox,style:{color:r?"#f50":"inherit"},onClick:t=>{t.stopPropagation(),l(e),o(s),n(!0)},children:[(0,b.jsx)(sp.Z.Text,{className:lj.text,ellipsis:!0,children:t.loader.match(/([^/]+-loader)/g)?.[0]||t.loader}),(0,b.jsx)(sE.Z,{type:"vertical"}),r?(0,b.jsx)(rC.Z,{}):(0,b.jsx)(sp.Z.Text,{className:lj.text,children:si(t.costs)})]})},i)}),a?.length?(0,b.jsx)(ir.Z,{content:(0,b.jsx)(i0.Z,{dataSource:a,renderItem:(t,s)=>{let r=t.errors&&t.errors.length,i=`${e}_${t.loader}_${s+3}`;return(0,b.jsx)(i0.Z.Item,{children:(0,b.jsx)(sm.Z,{title:t.path,children:(0,b.jsx)("div",{style:{paddingBottom:5},children:(0,b.jsxs)(sp.Z.Text,{className:lj.textBox,style:{color:r?"#f50":"inherit"},onClick:t=>{t.stopPropagation(),l(e),o(s),n(!0)},children:[(0,b.jsx)(sp.Z.Text,{className:lj.text,ellipsis:!0,children:t.loader.match(/([^/]+-loader)/g)?.[0]||t.loader}),(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsx)(sp.Z.Text,{className:lj.text,children:si(t.costs)})]})})},i)})}}),children:(0,b.jsx)("div",{className:lj.textBox,children:(0,b.jsx)(sp.Z.Text,{children:"\xb7\xb7\xb7"})})}):(0,b.jsx)(b.Fragment,{})]})]})},dirTitle:(e,t)=>(0,b.jsx)("div",{style:{display:"flex",cursor:"pointer"},children:(0,b.jsx)(il,{text:t,keyword:""})})}),[h]);return(0,b.jsxs)(sO.Z,{style:{width:"100%",marginLeft:0},gutter:D.BasePadding,children:[(0,b.jsx)(sB.Z,{span:24,children:(0,b.jsxs)(su.Z,{title:(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{strong:!0,children:"Files"}),(0,b.jsxs)(sp.Z.Text,{style:{fontSize:12,fontWeight:400,color:"#1C1F2399",opacity:.6},children:["Total Files: ",h.length]})]}),bodyStyle:{overflow:"auto",maxHeight:800,minHeight:"40rem",padding:14},children:[(0,b.jsx)(tg,{defaultExpandedKeys:ty(p,h.length>=100?3:4,e=>!((0,e$.Z)(e,u).indexOf("/node_modules/")>-1)),treeData:p,onSelect:(e,t)=>{t.node.isLeaf||c(t.node)},selectedKeys:d?[d.key]:void 0,expandAction:"click"},`${e.loaders.join("|")}_${e.filename}`),(0,b.jsx)(sL.Z,{open:r,onClose:()=>n(!1),maskClosable:!0,width:N,zIndex:999,bodyStyle:{padding:0},children:r?(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetLoaderFileDetails,body:{path:i},children:e=>(0,b.jsx)(lv,{data:e,cwd:t,index:a})}):null})]})}),(0,b.jsx)(sL.Z,{open:!!d,onClose:()=>c(null),maskClosable:!0,width:N,zIndex:999,bodyStyle:{padding:0},children:d&&(0,b.jsx)(sO.Z,{children:(0,b.jsx)(sB.Z,{span:24,children:(0,b.jsx)(su.Z,{title:(0,b.jsx)(sm.Z,{title:B.cloneElement(d.title,{style:{color:"#fff"}}),children:(0,b.jsxs)(sp.Z.Text,{children:["Statistics of",d.title]})}),children:(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetLoaderFolderStatistics,body:{folder:d[u]},children:e=>(0,b.jsx)(n$.Z,{style:{width:"100%",maxHeight:800,height:"40rem",overflowY:"scroll",wordBreak:"break-all"},pagination:!1,bordered:!0,rowKey:e=>e.loader,columns:[{title:"Loader Name",dataIndex:"loader"},{title:"Files",dataIndex:"files"},{title:"Total Duration",dataIndex:"costs",render:e=>(0,b.jsx)(sp.Z.Text,{strong:!0,children:si(e)}),sorter:(e,t)=>e.costs-t.costs,defaultSortOrder:"descend",sortDirections:["descend","ascend"]}],dataSource:e})})})})})})]})},lZ=s7({api:F.SDK.ServerAPI.API.LoadDataByKey,body:{key:"root"},responsePropName:"cwd",Component:({cwd:e})=>{let[t,s]=(0,B.useState)({filename:"",loaders:[],layer:""});return(0,b.jsx)(t8.Consumer,{children:r=>(0,b.jsx)(rZ.ZP,{locale:tG(r.locale),theme:{token:{padding:16,fontSize:14}},children:(0,b.jsxs)("div",{className:lj.loaderAnalysis,children:[(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetLoaderNames,children:e=>(0,b.jsx)(li,{onChange:e=>s(e),loaderNames:e})}),(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetLoaderFileTree,children:s=>(0,b.jsx)(lb,{filename:t.filename,filetree:s,loaders:t.loaders,layer:t.layer,cwd:e})})]})})})}}),lS=F.Client.RsdoctorClientRoutes.WebpackLoaderAnalysis,{useToken:lw}=to.Z,lC=()=>{let{token:e}=lw();return(0,b.jsx)(sZ,{title:"Loader Analysis",extra:(0,b.jsx)(n6,{defaultKeys:["module","resolve"]}),bodyStyle:{paddingTop:e.padding,height:800},children:(0,b.jsx)(lZ,{})})};var lM=s(75589),lk=s(64935);let lP=F.Client.RsdoctorClientRoutes.WebpackPlugins,l_=()=>{let[e,t]=(0,B.useState)([]),[s,r]=(0,B.useState)([]);return(0,b.jsx)("div",{children:(0,b.jsx)(su.Z,{title:"Plugins Overall",bodyStyle:{paddingTop:D.BasePadding/3},extra:(0,b.jsx)(n6,{defaultKeys:["plugins"]}),children:(0,b.jsxs)(tr.Z,{direction:"vertical",style:{width:"100%",padding:"0 30px"},children:[(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetPluginSummary,children:({hooks:e,tapNames:s})=>(0,b.jsxs)(tr.Z,{style:{marginBottom:D.BasePadding/2},children:[(0,b.jsxs)(ne.Z.Group,{compact:!0,children:[(0,b.jsxs)(sS.ZP,{children:[(0,b.jsx)(lM.Z,{}),(0,b.jsx)(sp.Z.Text,{children:"Plugin Tap Names"})]}),(0,b.jsx)(nl.Z,{mode:"multiple",allowClear:!0,className:"plugin-select",style:{width:300},popupMatchSelectWidth:!0,onChange:e=>{t(e)},children:s.map(e=>(0,b.jsx)(nl.Z.Option,{label:e,value:e,children:e},e))})]}),(0,b.jsxs)(ne.Z.Group,{compact:!0,children:[(0,b.jsxs)(sS.ZP,{children:[(0,b.jsx)(lk.Z,{}),(0,b.jsx)(sp.Z.Text,{children:"Hooks"})]}),(0,b.jsx)(nl.Z,{mode:"multiple",allowClear:!0,className:"plugin-select",style:{width:300},popupMatchSelectWidth:!0,onChange:e=>{r(e)},children:e.map(e=>(0,b.jsx)(nl.Z.Option,{label:e,value:e,children:e},e))})]})]})}),(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetPluginData,body:{hooks:s,tapNames:e},children:e=>(0,b.jsx)(nG,{dataSource:e})})]})})})};var lD=s(12993),lI=s(87541),lN=s(32719);let lA=({filepath:e,before:t,after:s,resolvers:r})=>{let[n,i]=(0,B.useState)(!1);return(0,b.jsxs)(B.Fragment,{children:[(0,b.jsx)(sB.Z,{flex:1,children:(0,b.jsx)(su.Z,{title:"Resolve Diff Viewer",styles:{body:{padding:0,overflow:"hidden"}},children:(0,b.jsx)(rU,{style:{height:785},isEmbed:!0,originalFilePath:e,modifiedFilePath:e,original:t,modified:s})})}),(0,b.jsx)(sB.Z,{span:n?2:7,children:(0,b.jsx)(su.Z,{title:n?"...":"Resolve Details",extra:(0,b.jsx)(sS.ZP,{onClick:()=>i(!n),size:"small",icon:n?(0,b.jsx)(lD.Z,{}):(0,b.jsx)(lI.Z,{})}),style:n?{width:80}:void 0,children:n?null:(0,b.jsx)(n$.Z,{style:{width:"100%",height:735,overflowY:"scroll",wordBreak:"break-all"},size:"small",pagination:!1,bordered:!0,rowKey:e=>e.request,columns:[{title:"Source Code",width:200,render:(e,t)=>(0,b.jsx)(sp.Z.Text,{copyable:!0,children:(0,b.jsx)(sp.Z.Text,{code:!0,strong:!0,children:t.request})})},{title:"Duration",width:80,render:(e,t)=>(0,b.jsx)(sp.Z.Text,{strong:!0,children:si(t.costs)}),sorter:(e,t)=>e.costs-t.costs,sortDirections:["descend","ascend"]},{title:"Resolve Result",render:(e,t)=>t.result?(0,b.jsx)(sp.Z.Text,{copyable:!0,children:t.result}):(0,b.jsx)(rC.Z,{style:{color:"#f50"}})}],dataSource:r})})})]})},lE=e=>{let{resolver:t,cwd:s}=e,[r,n]=(0,B.useState)(""),i="/node_modules/",l=(0,B.useMemo)(()=>(0,lN.Z)(t,e=>e.issuerPath).filter(Boolean),[t]),a=(0,B.useMemo)(()=>l.filter(t=>!e.filename||t.indexOf(e.filename)>-1),[e.filename,l]),o=a.length&&a.every(e=>e.indexOf(i)>-1),d=(0,B.useMemo)(()=>tb({files:a.length?a:l,cwd:s,fileTitle:(e,t)=>(0,b.jsx)("div",{onClick:()=>n(e),children:t})}),[e.filename]);return(0,b.jsxs)(sO.Z,{justify:"start",align:"top",wrap:!1,gutter:D.BasePadding,children:[(0,b.jsx)(sB.Z,{span:7,children:(0,b.jsx)(su.Z,{title:"Files",children:(0,b.jsx)(tg,{style:{width:"100%",height:735,overflow:"scroll"},treeData:d,defaultExpandedKeys:ty(d,o?1:4,o?void 0:e=>{let t=(0,e$.Z)(e,"__RESOURCEPATH__").indexOf(i)>-1;return!!(a.length&&a.every(e=>e.indexOf(i)>-1))||!t})},`tree_${e.filename}`)})}),r&&(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetResolverFileDetails,body:{filepath:r},children:e=>(0,b.jsx)(lA,{...e})})]})},lT=s7({api:F.SDK.ServerAPI.API.GetProjectInfo,responsePropName:"project",Component:({project:e})=>{let{root:t}=e,[s,r]=(0,B.useState)("");return(0,b.jsxs)("div",{style:{width:"100%"},children:[(0,b.jsx)(tr.Z,{style:{marginTop:D.BasePadding,marginBottom:D.BasePadding},children:(0,b.jsx)(nt,{icon:(0,b.jsx)(ls.Z,{}),label:"Filename",placeholder:"search filename by keyword",onChange:e=>r(e)})}),(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetResolverFileTree,children:e=>(0,b.jsx)(lE,{filename:s,resolver:e,cwd:t})})]})}}),lR=F.Client.RsdoctorClientRoutes.ModuleResolve,lz=()=>(0,b.jsx)("div",{children:(0,b.jsx)(su.Z,{title:"Webpack Resolver Analysis",extra:(0,b.jsx)(n6,{defaultKeys:["resolve","resolveLoader"]}),bodyStyle:{paddingTop:0},children:(0,b.jsx)(lT,{})})});var lL=s(12653);let lO=F.Client.RsdoctorClientRoutes.RuleIndex,lB=()=>{let e=tA()[F.Rule.RsdoctorRuleClientConstant.UrlQueryForErrorCode]||"",[t,s]=(0,B.useState)(F.Rule.RuleErrorMap[e]),r=(0,s6.Z)(F.Rule.RuleErrorMap);return(0,B.useEffect)(()=>{window.scrollTo({top:0})},[]),(0,b.jsxs)(sO.Z,{gutter:D.BasePadding/2,children:[(0,b.jsx)(sB.Z,{span:8,children:(0,b.jsx)(su.Z,{title:(0,b.jsx)(sq,{text:"list of the error codes."}),bordered:!0,children:(0,b.jsx)(tr.Z,{direction:"vertical",children:r.map((e,r)=>(0,b.jsxs)(tr.Z,{style:{marginTop:0===r?0:D.BasePadding/2,cursor:"pointer"},onClick:()=>s(e),align:"center",children:[(0,b.jsx)(rw.Z,{status:"default"}),(0,b.jsx)(sp.Z.Text,{code:!0,children:(0,b.jsx)("a",{children:e.code})}),(0,b.jsx)(sp.Z.Text,{style:{color:t&&t.code===e.code?"#1890ff":void 0},children:e.title})]},e.code))})})}),(0,b.jsx)(sB.Z,{span:16,children:t?(0,b.jsx)(su.Z,{title:(0,b.jsxs)(sO.Z,{justify:"space-between",children:[(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{code:!0,children:t.code}),(0,b.jsx)(sp.Z.Text,{children:t.title})]}),(0,b.jsx)("div",{children:(0,b.jsx)(sa.Z,{children:t.category})})]}),bodyStyle:{paddingTop:0},bordered:!0,children:(0,b.jsx)(sp.Z.Paragraph,{children:"markdown"===t.type?(0,b.jsx)(lL.UG,{children:t.description}):(0,b.jsx)(sp.Z.Text,{children:t.description})})}):(0,b.jsx)(su.Z,{title:"This page lists all the error codes emitted by the Rsdoctor.",bordered:!0,children:(0,b.jsx)(sp.Z.Text,{children:"click the error code in left bar to show more details."})})})]})};var lF=s(81678),l$=s(25516);class lG{constructor(e,t,s,r){e>s||e===s&&t>r?(this.startLineNumber=s,this.startColumn=r,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=s,this.endColumn=r)}isEmpty(){return lG.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return lG.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber)&&!(t.lineNumber>e.endLineNumber)&&(t.lineNumber!==e.startLineNumber||!(t.column<e.startColumn))&&(t.lineNumber!==e.endLineNumber||!(t.column>e.endColumn))}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber)&&!(t.lineNumber>e.endLineNumber)&&(t.lineNumber!==e.startLineNumber||!(t.column<=e.startColumn))&&(t.lineNumber!==e.endLineNumber||!(t.column>=e.endColumn))}containsRange(e){return lG.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber)&&!(t.endLineNumber<e.startLineNumber)&&!(t.startLineNumber>e.endLineNumber)&&!(t.endLineNumber>e.endLineNumber)&&(t.startLineNumber!==e.startLineNumber||!(t.startColumn<e.startColumn))&&(t.endLineNumber!==e.endLineNumber||!(t.endColumn>e.endColumn))}strictContainsRange(e){return lG.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber)&&!(t.endLineNumber<e.startLineNumber)&&!(t.startLineNumber>e.endLineNumber)&&!(t.endLineNumber>e.endLineNumber)&&(t.startLineNumber!==e.startLineNumber||!(t.startColumn<=e.startColumn))&&(t.endLineNumber!==e.endLineNumber||!(t.endColumn>=e.endColumn))}plusRange(e){return lG.plusRange(this,e)}static plusRange(e,t){let s,r,n,i;return t.startLineNumber<e.startLineNumber?(s=t.startLineNumber,r=t.startColumn):t.startLineNumber===e.startLineNumber?(s=t.startLineNumber,r=Math.min(t.startColumn,e.startColumn)):(s=e.startLineNumber,r=e.startColumn),t.endLineNumber>e.endLineNumber?(n=t.endLineNumber,i=t.endColumn):t.endLineNumber===e.endLineNumber?(n=t.endLineNumber,i=Math.max(t.endColumn,e.endColumn)):(n=e.endLineNumber,i=e.endColumn),new lG(s,r,n,i)}intersectRanges(e){return lG.intersectRanges(this,e)}static intersectRanges(e,t){let s=e.startLineNumber,r=e.startColumn,n=e.endLineNumber,i=e.endColumn,l=t.startLineNumber,a=t.startColumn,o=t.endLineNumber,d=t.endColumn;return(s<l?(s=l,r=a):s===l&&(r=Math.max(r,a)),n>o?(n=o,i=d):n===o&&(i=Math.min(i,d)),s>n||s===n&&r>i)?null:new lG(s,r,n,i)}equalsRange(e){return lG.equalsRange(this,e)}static equalsRange(e,t){return!e&&!t||!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return lG.getEndPosition(this)}static getEndPosition(e){return new lK(e.endLineNumber,e.endColumn)}getStartPosition(){return lG.getStartPosition(this)}static getStartPosition(e){return new lK(e.startLineNumber,e.startColumn)}toString(){return`[${this.startLineNumber},${this.startColumn} -> ${this.endLineNumber},${this.endColumn}]`}setEndPosition(e,t){return new lG(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new lG(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return lG.collapseToStart(this)}static collapseToStart(e){return new lG(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}collapseToEnd(){return lG.collapseToEnd(this)}static collapseToEnd(e){return new lG(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)}delta(e){return new lG(this.startLineNumber+e,this.startColumn,this.endLineNumber+e,this.endColumn)}static fromPositions(e,t=e){return new lG(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new lG(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber)&&(e.endLineNumber!==t.startLineNumber||!(e.endColumn<t.startColumn))&&!(t.endLineNumber<e.startLineNumber)&&(t.endLineNumber!==e.startLineNumber||!(t.endColumn<e.startColumn))}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber)&&(e.endLineNumber!==t.startLineNumber||!(e.endColumn<=t.startColumn))&&!(t.endLineNumber<e.startLineNumber)&&(t.endLineNumber!==e.startLineNumber||!(t.endColumn<=e.startColumn))}static compareRangesUsingStarts(e,t){if(e&&t){let s=0|e.startLineNumber,r=0|t.startLineNumber;if(s===r){let s=0|e.startColumn,r=0|t.startColumn;if(s===r){let s=0|e.endLineNumber,r=0|t.endLineNumber;return s===r?(0|e.endColumn)-(0|t.endColumn):s-r}return s-r}return s-r}return!!e-!!t}static compareRangesUsingEnds(e,t){if(e.endLineNumber===t.endLineNumber)return e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn;return e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}}class lK{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new lK(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return lK.equals(this,e)}static equals(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return lK.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column}isBeforeOrEqual(e){return lK.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column}static compare(e,t){let s=0|e.lineNumber,r=0|t.lineNumber;return s===r?(0|e.column)-(0|t.column):s-r}clone(){return new lK(this.lineNumber,this.column)}toString(){return`(${this.lineNumber},${this.column})`}static lift(e){return new lK(e.lineNumber,e.column)}static isIPosition(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}var lW=s(55755);let lH=rB();function lV(e){let{module:t,moduleGraph:s,ranges:r,toLine:n,setEditorData:i,source:l}=e,a=(0,B.useRef)(),o=(0,B.useRef)([]),d=(0,B.useRef)([]),c=(0,B.useRef)(),h=(0,B.useRef)(!1),[u,p]=(0,B.useState)("");return((0,B.useEffect)(()=>{let{isPreferSource:e}=t;h.current=!0,p(l.source||e?l.source:l.transformed),setTimeout(()=>{d.current=a.current?.getModel()?.deltaDecorations(d.current,function(e,t){let s=t.getModuleGraphModule(e).getOwnExports(),r=s.map(e=>e.variable).filter(e=>!!e);if(0===s.length&&0===r.length)return[];let{isPreferSource:n}=e;return r.map(e=>{let t=n?e.identifier.position.source:e.identifier.position.transformed,s=t&&r$(t,lG);if(t&&s)return{range:s,options:{stickiness:1,inlineClassName:"tree-shaking-statement-declaration-identifier",isWholeLine:!1,showIfCollapsed:!0,hoverMessage:{supportHtml:!0,supportThemeIcons:!0,isTrusted:!0,value:function(e){let t=e.getExportInfo();if(!t)return"Can not find SideEffect info.";let s=t.getSideEffects();if(0===s.length)return"Have no sideEffect.";let r=`Used **${s.length}** times:

<div data-code="tree-shaking-hover">
<li>`;for(let e of s){var n,i;if(!e)continue;let{identifier:t,module:s}=e;if(!s)continue;let{id:l,isPreferSource:a}=s,o=t.getLineCode();r+=`
<ol>
      ${n=a?t.position.source:t.position.transformed,i=function(e,t){let{path:s,isPreferSource:r}=t,n=r?e.position.source.start:e.position.transformed.start,i=`:${n.line??1}:${n.column??0}`;return s.length<=30?`${s}${i}`:`...${s.substring(s.length-30)}${i}`}(t,s),`<a data-href="data-module=${l}&data-range=${encodeURIComponent(JSON.stringify(n))}">${i}</a>`}
      ${o?`<pre>${(0,l$.Z)(o)}</pre>`:""}
      </ol>`}return r+"\n</li></div>"}(e)}}}}).filter(e=>!!e)}(t,s))??[]},200)},[t,l]),(0,B.useEffect)(()=>{function e(){let e=a.current?.getModel();e&&(o.current=e.deltaDecorations(o.current,r.map(e=>({range:r$(e,lG),options:{stickiness:1,inlineClassName:"tree-shaking-statement-side-effect",isWholeLine:!1,showIfCollapsed:!0}}))),a.current&&"number"==typeof n&&c.current!==n&&(c.current=n,a.current.revealLine(n,0)))}h?setTimeout(e,300):e(),h.current=!1},[r,n]),(0,B.useEffect)(()=>{let e=e=>{let t=function(e){if("a"!==e.tagName.toLocaleLowerCase())return;let t=e.getAttribute("data-href")??"",s={module:-1,range:{start:{line:1,column:0},end:{line:1,column:0}}};for(let e of t.split("&")){let[t,r]=e.split("=");if("data-module"===t){s.module=Number.parseInt(r,10);continue}"data-range"===t&&(s.range=JSON.parse(decodeURIComponent(r)))}return s}(e.target);if(t){let e=s.getModuleById(t.module);e&&i(e,[t.range],t.range.start.line)}};return document.body.addEventListener("click",e),()=>{document.body.removeEventListener("click",e)}},[]),t)?(0,b.jsx)(su.Z,{title:(0,b.jsx)(sm.Z,{title:t.path,children:(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{children:Y().basename(t.path)}),(0,b.jsx)(sH.Z,{})]})}),className:"tree-shaking-editor",children:(0,b.jsx)(rT.ZP,{theme:"vs-dark",language:rL(t.path),value:u,loading:(0,b.jsx)(lW.Z,{style:{fontSize:30}}),options:lH,onMount:e=>{a.current=e}})}):(0,b.jsx)("div",{children:"请选择要查看的模块"})}function lU(){return(0,b.jsx)(su.Z,{title:"Tree Shaking Analysis",bodyStyle:{paddingTop:0},className:"tree-shaking-page",children:(0,b.jsx)(so.Z,{style:{marginTop:30}})})}var lq=s(94788),lY=s(41857),lJ=s.n(lY);function lQ(e,t){if(!e)return(0,b.jsx)("div",{children:"Can not find declaration."});let{module:s}=e,r=s.isPreferSource?e.position.source:e.position.transformed;return(0,b.jsx)(sm.Z,{title:`${s.path}, line ${r.start.line}`,children:(0,b.jsx)(sS.ZP,{type:"link",onClick:()=>t(s,[r],r.start.line),children:"Move To"})})}function lX(e){let[t,s]=(0,B.useState)(""),[r,n]=(0,B.useState)(""),i=(0,B.useRef)(null),l=(e,t,r)=>{t(),s(e[0]),n(r)},a=e=>{e(),s("")};return{filterDropdown:({setSelectedKeys:t,selectedKeys:s,confirm:r,clearFilters:n,close:o})=>(0,b.jsxs)("div",{style:{padding:8},onKeyDown:e=>e.stopPropagation(),children:[(0,b.jsx)(ne.Z,{ref:i,placeholder:`Search ${e}`,value:s[0],onChange:e=>t(e.target.value?[e.target.value]:[]),onPressEnter:()=>l(s,r,e),style:{marginBottom:8,display:"block"}}),(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sS.ZP,{type:"primary",onClick:()=>l(s,r,e),icon:(0,b.jsx)(lq.Z,{}),size:"small",style:{width:90},children:"Search"}),(0,b.jsx)(sS.ZP,{onClick:()=>n&&a(n),size:"small",style:{width:90},children:"Reset"}),(0,b.jsx)(sS.ZP,{type:"link",size:"small",onClick:o,children:"close"})]})]}),filterIcon:e=>(0,b.jsx)(lq.Z,{style:{color:e?"#1890ff":void 0}}),onFilter:(t,s)=>s[e].toString().toLowerCase().includes(t.toLowerCase()),render:s=>r===e?(0,b.jsx)(lJ(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[t],autoEscape:!0,textToHighlight:s?s.toString():""}):s}}let l0=({module:e,moduleGraph:t,setEditorData:s})=>{let r=(0,B.useMemo)(()=>t.getModuleGraphModule(e).getSideEffects(),[e]),n=r.map(({variable:t,name:s,identifier:r},n)=>({key:n,name:s,identifier:e.isPreferSource?r.position.source:r.position.transformed,declaration:t?.identifier})).sort((e,t)=>e.name===t.name?e.identifier.start.line>t.identifier.start.line?1:-1:e.name>t.name?1:-1).reduce((e,t)=>{let s=e[e.length-1];return s&&s.name===t.name?(s.children||(s.children=[]),s.children.push(t)):e.push(t),e},[]),i=[{title:"Name",dataIndex:"name",key:"name",align:"center",...lX("name")},{title:"SideEffect",dataIndex:"identifier",key:"identifier",align:"center",render:t=>(0,b.jsx)(sm.Z,{title:`Current File line ${t.start.line}`,children:(0,b.jsx)(sS.ZP,{type:"link",onClick:()=>s(e,[t],t.start.line),children:"Move To"})})},{title:"Declaration",dataIndex:"declaration",key:"declaration",align:"center",render:e=>lQ(e,s)}],l=(0,b.jsx)(B.Fragment,{children:(0,b.jsxs)(tr.Z,{style:{fontWeight:400},children:["Import",(0,b.jsx)(sp.Z.Text,{strong:!0,children:n.length}),"variables",(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsx)(sp.Z.Text,{strong:!0,children:r.length}),"sideEffects"]})});return(0,b.jsx)(sZ,{style:{marginBottom:10},title:l,className:"tree-shaking-export-table",children:(0,b.jsx)(n$.Z,{size:"small",dataSource:n,columns:i,pagination:!1,scroll:{y:600}})})},l1=({module:e,moduleGraph:t,setEditorData:s})=>{let r=(0,B.useMemo)(()=>t.getModuleGraphModule(e).getExports(),[e]),n=r.filter(e=>0===e.getSideEffects().length),i=(0,b.jsxs)(B.Fragment,{children:[(0,b.jsxs)(tr.Z,{style:{fontWeight:400},children:["Export",(0,b.jsx)(sp.Z.Text,{strong:!0,children:r.length})]}),r.length>0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsxs)(sp.Z.Text,{style:{fontWeight:400},code:!0,children:[(0,b.jsx)(sp.Z.Text,{children:"Unused"}),(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsx)(sp.Z.Text,{strong:!0,children:n.length})]}),(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsxs)(sp.Z.Text,{style:{fontWeight:400},code:!0,children:[(0,b.jsx)(sp.Z.Text,{children:"Used"}),(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsx)(sp.Z.Text,{strong:!0,children:r.length-n.length})]})]}):""]}),l=r.map((e,t)=>{let{variable:s}=e;return{key:t,name:e.name,declaration:s?.identifier,used:e.getSideEffects().map(({module:e,identifier:t})=>{let s=e?.isPreferSource?t.position.source:t.position.transformed;if(e&&s)return{module:e,range:s}}).filter(e5)}}),a=[{title:"Name",dataIndex:"name",key:"name",align:"center",...lX("name")},{title:"Declaration",dataIndex:"declaration",key:"declaration",align:"center",render:e=>lQ(e,s)},{title:"Info",dataIndex:"used",key:"used",align:"center",sorter:(e,t)=>e.used.length-t.used.length,sortDirections:["descend","ascend"],render:e=>(0,b.jsxs)("span",{children:["Used ",e.length," times"]})}];return(0,b.jsx)(sZ,{title:i,className:"tree-shaking-export-table",children:(0,b.jsx)(n$.Z,{size:"small",dataSource:l,columns:a,pagination:!1,scroll:{y:600},expandable:{expandedRowRender:e=>(0,b.jsxs)("div",{className:"tree-shaking-side-effect-list",children:[(0,b.jsx)(sp.Z.Text,{children:"List of SideEffect:"}),e.used.map(({module:e,range:t})=>(0,b.jsx)(sm.Z,{title:`${e.path}:${t.start.line}`,children:(0,b.jsx)(sS.ZP,{className:"tree-shaking-side-effect-list-item",type:"link",onClick:()=>{s(e,[t],t.start.line)},children:`${function(e){let t="",s=e;for(let e=0;e<3;e++)t=t?`${Y().basename(s)}/${t}`:Y().basename(s),s=Y().dirname(s);return`...${t}`}(e.path)}:${t.start.line}`})},e.id))]}),rowExpandable:e=>e.used.length>0}})})},l5=e=>"side-effect"===e.kind?(0,b.jsx)(l0,{...e}):(0,b.jsx)(l1,{...e}),l2=F.Client.RsdoctorClientRoutes.TreeShaking,l4=function(e,t,s){let r=e();return function(){let[n,i]=(0,B.useState)(),[l,a]=(0,B.useState)(C.Pending),[o,d]=(0,B.useState)({}),{loader:c}=tt(n);function h(e){return e.then(e=>{i(e)}).catch(()=>{a(C.Fail)})}function u(e){e&&Promise.all(t.map(([t])=>e.loadData(t))).then(e=>{d(e.reduce((e,s,r)=>{let[n,i]=t[r];return e[i]=s,e},{})),a(C.Success)}).catch(e=>{console.error(e),a(C.Fail)})}return((0,B.useEffect)(()=>{h(r).then(()=>{u(c)})},[c]),l===C.Pending)?(0,b.jsx)(sQ.Z,{active:!0}):l===C.Fail?(0,b.jsx)(s1,{retry:()=>{a(C.Pending),r.then(()=>{u(c)}).catch(()=>{h(e())})}}):(0,b.jsx)(s,{...o})}}(e3,[["moduleGraph","data"],["root","cwd"]],({data:e,cwd:t})=>{var s;let r=(0,B.useMemo)(()=>t3.fromData(e),[e]);if(0===r.size())return(0,b.jsx)(lU,{});let[n,i]=(0,B.useState)(""),[l,a]=(0,B.useState)(1),[o,d]=(0,B.useState)([]),[c,h]=(0,B.useState)("side-effect"),u=(0,B.useMemo)(()=>r.getModules().filter(e=>e.kind===F.SDK.ModuleKind.Normal&&Y().basename(e.path).includes(n)),[n]),p=(0,B.useMemo)(()=>u.find(e=>e.isEntry),[]),[m,x]=(0,B.useState)(p||u?.length&&u?.[0]),f=(s=e=>{g(u.find(t=>t.path===e),[])},(0,B.useMemo)(()=>tb({files:u.map(e=>e.path),cwd:t,fileTitle(e,t){let n=r.getModules().find(t=>t.path===e&&t.kind===tQ.kind.Normal),i=r.getModuleGraphModule(n),l=i.getExports().filter(e=>0===e.getSideEffects().length);return(0,b.jsxs)(tr.Z,{style:{wordBreak:"break-all"},children:[(0,b.jsx)(il,{text:t,keyword:e,onClick:()=>s(e)}),i.dynamic?(0,b.jsx)(sa.Z,{color:"cyan",children:"dynamic"}):"",l.length>0?(0,b.jsxs)(sa.Z,{color:"green",children:[l.length," Unused"]}):""]})}}),[n,m])),g=(e,t,s)=>{x(e),d(t.slice()),eF(s)&&a(s)};return(0,b.jsxs)(su.Z,{title:"Tree Shaking Analysis",bodyStyle:{paddingTop:0},className:"tree-shaking-page",children:[(0,b.jsxs)(sO.Z,{justify:"space-between",align:"middle",style:{marginBottom:D.BasePadding,marginTop:D.BasePadding},children:[(0,b.jsx)(nt,{icon:(0,b.jsx)(ls.Z,{}),width:400,label:"FileName",placeholder:"search filename by keyword",style:{width:"auto"},onChange:e=>i(e)}),(0,b.jsxs)(lF.ZP.Group,{value:c,onChange:({target:e})=>h(e.value),children:[(0,b.jsx)(lF.ZP.Button,{value:"side-effect",children:"SideEffects"}),(0,b.jsx)(lF.ZP.Button,{value:"export",children:"Export Variables"})]})]}),(0,b.jsxs)(sO.Z,{justify:"space-between",align:"top",wrap:!1,gutter:[D.BasePadding,D.BasePadding],children:[(0,b.jsx)(sB.Z,{span:7,children:(0,b.jsx)(su.Z,{title:`Total Files: ${u.length}`,className:"tree-shaking-files-box",children:(0,b.jsx)(tg,{style:{height:"80%"},className:"tree-shaking-files",selectedKeys:m?[m.path]:[],defaultExpandedKeys:ty(f,3,e=>!((0,e$.Z)(e,"__RESOURCEPATH__").indexOf("/node_modules/")>-1)),treeData:f,expandAction:"click"})})}),(0,b.jsx)(sB.Z,{span:9,children:(0,b.jsx)(s3,{api:F.SDK.ServerAPI.API.GetModuleCodeByModuleId,body:{moduleId:m.id},children:e=>(0,b.jsx)(lV,{module:m,moduleGraph:r,ranges:o,toLine:l,setEditorData:g,source:e})})}),(0,b.jsx)(sB.Z,{flex:1,children:(0,b.jsx)(l5,{kind:c,setEditorData:g,module:m,moduleGraph:r})})]})]})});var l6=s(46623),l3=s(54556),l7=s(23813),l8=s(17115);let l9=({file:e,data:t})=>{let[s,r]=(0,B.useState)(t[0].group),n=t.find(e=>e.group===s);return(0,b.jsxs)(sO.Z,{wrap:!0,gutter:[D.BasePadding,D.BasePadding],style:{height:"100%",alignContent:"flex-start"},children:[t.length>1?(0,b.jsx)(sB.Z,{span:24,children:(0,b.jsx)(sx.Z,{value:s,options:t.map(e=>e.group),onChange:e=>r(e)})}):null,n?(0,b.jsxs)(B.Fragment,{children:[(0,b.jsx)(sB.Z,{span:24,children:(0,b.jsxs)(sp.Z.Text,{strong:!0,children:[n.baselineTitle||"Baseline"," ⟷"," ",n.currentTitle||"Current"]})}),(0,b.jsx)(sB.Z,{span:24,children:(0,b.jsx)(rU,{originalFilePath:e,modifiedFilePath:e,original:n.baseline||"",modified:n.current||""})})]},s):null]})},ae=({text:e="View Changes",...t})=>(0,b.jsx)(rn,{text:e,buttonProps:{size:"small",icon:(0,b.jsx)(l8.Z,{})},drawerProps:{destroyOnClose:!0,title:`Content diff for "${t.file}"`},children:(0,b.jsx)(l9,{...t})});var at=((f=at||{}).New="New",f.Changed="Changed",f.Deleted="Deleted",f.NotChanged="Not Changed",f),as=((g=as||{}).Name="Sorted by Name",g.Size="Sorted by Size",g.Delta="Sorted by Delta",g);let ar=(e,t,s,r)=>(0,b.jsx)(b.Fragment,{children:t-e==0?(0,b.jsx)(b.Fragment,{}):(0,b.jsxs)(sp.Z.Text,{strong:!0,style:{color:s===F.Client.RsdoctorClientDiffState.Up?I.Red:I.Green,...r},children:[s===F.Client.RsdoctorClientDiffState.Up?"+":"-",st(Math.abs(t-e))]})}),an=/[a-fA-F0-9]{20,}/,ai=(e,t,s)=>{let r=(e,s)=>(e.current?.size[t]||0)-(e.baseline?.size[t]||0)-(s.current?.size[t]||0)+(s.baseline?.size[t]||0),n=s?(e,t)=>r(e,t):(s,r)=>(s[e]?.size[t]||0)-(r[e]?.size[t]||0);return{width:200,sorter:(e,t)=>n(e,t),render:(s,r)=>{if(!r[e])return"-";let n=r[e].size[t];return(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{children:st(n)}),"current"===e?ar(r.baseline?.size[t]||0,n,(r.baseline?.size[t]||0)>n?F.Client.RsdoctorClientDiffState.Down:F.Client.RsdoctorClientDiffState.Up):null]})}}},al=(e,t,s)=>{let[r,n]=(0,B.useState)(!1),i="baseline"===e;return{title:()=>{let r=i?t:s,n=(0,sU.Z)(e),l=eE(t,s);return(0,b.jsxs)("div",{children:[(0,b.jsx)(sp.Z.Text,{children:n}),(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsx)(sm.Z,{title:(0,b.jsxs)(tr.Z,{direction:"vertical",children:[(0,b.jsxs)(sp.Z.Text,{style:{color:"inherit"},children:[n," modules is ",r]}),i?null:(0,b.jsxs)(sp.Z.Text,{style:{color:"inherit"},children:["Percent is ",ss(l.percent)]})]}),children:(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{type:"secondary",style:{fontSize:10,fontWeight:400},children:r}),(0,b.jsx)(sH.Z,{})]})})]})},children:[{title:"Source Size",...ai(e,"sourceSize",r)},{title:"Parsed Size",defaultSortOrder:i?void 0:"descend",...ai(e,"parsedSize",r)}],filterSearch:!0,filters:[{text:"Show Changed",value:at.NotChanged},{text:"Show All",value:"All"}],onFilter:(e,t)=>(e===at.NotChanged?n(!0):n(!1),e!==at.NotChanged||ao(t)!==e)}},aa=({data:e,baseline:t,current:s})=>{let{modules:r}=t.moduleGraph,{modules:n}=s.moduleGraph,{chunks:i}=t.chunkGraph,{chunks:l}=s.chunkGraph,a=t.root,o=s.root,[d,c]=(0,B.useState)(""),h=(0,B.useRef)(null),u=(e,t)=>{t(),c(e[0])},p=e=>{e(),c("")},m="__is_baseline__",x=(0,B.useMemo)(()=>e.baseline?eC(e.baseline,i,r).map(e=>({...e,[m]:!0})).filter(e=>!e.concatenationModules?.length):[],[e,t]),f=(0,B.useMemo)(()=>e.current?eC(e.current,l,n).map(e=>({...e,[m]:!1})).filter(e=>!e.concatenationModules?.length):[],[e,s]),g=e=>tS(e.path,e.__is_baseline__?a:o),j=(0,B.useMemo)(()=>{let e=[...x,...f],t=new Map;return e.forEach(e=>{let s=e.webpackId?.replace(an,"")||e.path?.replace(an,""),r=t.get(s);r||(r={path:s}),e[m]?r.baseline=e:r.current=e,t.set(s,r)}),[...t.values()]},[x,f,d]),{bModulesCount:y,cModulesCount:v,totalCount:Z}=(0,B.useMemo)(()=>{let e=e=>g(e).alias.indexOf(d)>-1,t=j.filter(e=>e.baseline),s=j.filter(e=>e.current),r=j.length;return d&&(t=t.filter(e),s=s.filter(e),r=j.filter(e).length),{bModulesCount:t.length,cModulesCount:s.length,totalCount:r}},[j,d]);return(0,b.jsx)(n$.Z,{dataSource:j,rowKey:e=>e.path,size:"small",pagination:{size:"small"},bordered:!0,scroll:{x:1500},columns:[{fixed:"left",title:()=>(0,b.jsxs)("div",{children:[(0,b.jsxs)(sp.Z.Text,{children:["Modules of ",`"${e.alias}"`]}),(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsxs)(sm.Z,{title:(0,b.jsxs)(tr.Z,{direction:"vertical",children:[(0,b.jsxs)(sp.Z.Text,{style:{color:"inherit"},children:["filtered modules: ",Z]}),(0,b.jsxs)(sp.Z.Text,{style:{color:"inherit"},children:["total modules: ",j.length]})]}),children:[(0,b.jsxs)(sp.Z.Text,{type:"secondary",style:{fontSize:10,fontWeight:400,marginRight:4},children:[Z,"/",j.length]}),(0,b.jsx)(sH.Z,{})]})]}),filterDropdown:({setSelectedKeys:e,selectedKeys:t,confirm:s,clearFilters:r})=>(0,b.jsxs)("div",{style:{padding:8},onKeyDown:e=>e.stopPropagation(),children:[(0,b.jsx)(ne.Z,{ref:h,placeholder:"Search by file name",value:t[0],onChange:t=>e(t.target.value?[t.target.value]:[]),onPressEnter:()=>u(t,s),style:{marginBottom:8,display:"block"}}),(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sS.ZP,{type:"primary",onClick:()=>u(t,s),icon:(0,b.jsx)(lq.Z,{}),size:"small",style:{width:90},children:"Search"}),(0,b.jsx)(sS.ZP,{onClick:()=>{r&&p(r),e([]),u([],s)},size:"small",style:{width:90},children:"Reset"})]})]}),filterSearch:!0,filterIcon:e=>(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{type:d?void 0:"secondary",style:{fontWeight:400},children:d||"Search by file name"}),(0,b.jsx)(lq.Z,{style:{color:e?I.Blue:void 0}})]}),onFilterDropdownOpenChange:e=>{e&&setTimeout(()=>h.current?.focus(),100)},onFilter:(e,t)=>g(t).alias.indexOf(e)>-1,render:(e,t)=>{let{alias:s,inNodeModules:r}=g(t);return(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sm.Z,{title:t.path,children:(0,b.jsx)(sp.Z.Text,{copyable:{text:t.path},children:s})}),r?(0,b.jsx)(sa.Z,{color:"warning",children:"node_modules"}):null,(0,b.jsx)(ad,{type:ao(t)})]})}},al("current",y,v),al("baseline",y,v),{title:"Actions",width:200,render:(e,r)=>(0,b.jsx)(tr.Z,{direction:"vertical",style:{maxWidth:170},children:(0,b.jsx)(ae,{text:"View Changes",file:r.path,data:[{baseline:t.moduleCodeMap[r.baseline?.id]?.source,current:s.moduleCodeMap[r.current?.id]?.source,group:"Source"},{baseline:t.moduleCodeMap[r.baseline?.id]?.transformed,current:s.moduleCodeMap[r.current?.id]?.transformed,group:"Transformed Source"},{baseline:t.moduleCodeMap[r.baseline?.id]?.parsedSource,current:s.moduleCodeMap[r.current?.id]?.parsedSource,group:"Parsed Source"}]})})}]})};function ao(e){if(e.baseline&&!e.current)return at.Deleted;if(!e.baseline&&e.current)return at.New;if(e.baseline&&e.current)return e.baseline.size.sourceSize===e.current.size.sourceSize&&e.baseline.size.parsedSize===e.current.size.parsedSize?at.NotChanged:at.Changed;throw Error("Update Type not match")}let ad=({type:e})=>e===at.NotChanged?(0,b.jsx)(sm.Z,{title:"It hasn't changed between Baseline and Current",children:(0,b.jsx)(sa.Z,{color:"success",children:"Not Changed"})}):e===at.Changed?(0,b.jsx)(sm.Z,{title:"It has been changed between Baseline and Current",children:(0,b.jsx)(sa.Z,{color:"warning",children:"Changed"})}):e===at.New?(0,b.jsx)(sm.Z,{title:"It is created in Current",children:(0,b.jsx)(sa.Z,{color:"error",children:"New"})}):e===at.Deleted?(0,b.jsx)(sm.Z,{title:"It has been deleted in Current",children:(0,b.jsx)(sa.Z,{color:"error",children:"Deleted"})}):null,ac=({baseline:e,current:t})=>{let s=(0,B.useMemo)(()=>tT(e.moduleGraph.modules),[e]),r=(0,B.useMemo)(()=>tT(t.moduleGraph.modules),[t]),n=e.chunkGraph.chunks,i=t.chunkGraph.chunks,l=e.root,a=t.root,[o,d]=(0,B.useState)(),[c,h]=(0,B.useState)([]),u=(0,B.useMemo)(()=>{let e={};return s.forEach(t=>{let s=t.webpackId?.replace(an,"")||t.path?.replace(an,"");e[s]?console.warn("[Baseline Module Exists]: ",t,e):e[s]={path:s,baseline:t}}),r.forEach(t=>{let s=t.webpackId?.replace(an,"")||t.path?.replace(an,"");e[s]||(e[s]={path:s}),e[s].current=t}),(0,s6.Z)(e)},[s,r]),p=(0,B.useMemo)(()=>{let e=u.slice();return o&&(e=e.filter(e=>e.path.indexOf(o)>-1)),c.length&&(e=e.filter(e=>(0,tz.Z)(c,ao(e)))),e},[u,o,c]),{bFilteredModulesLength:m,cFilteredModulesLength:x}=(0,B.useMemo)(()=>({bFilteredModulesLength:p.filter(e=>e.baseline).length,cFilteredModulesLength:p.filter(e=>e.current).length}),[p]);return(0,b.jsxs)(sO.Z,{gutter:[D.BasePadding,D.BasePadding],children:[(0,b.jsx)(sB.Z,{span:24,children:(0,b.jsxs)(tr.Z,{wrap:!0,children:[(0,b.jsx)(nt,{icon:(0,b.jsx)(ls.Z,{}),label:"",labelStyle:{width:45},placeholder:"Search by name",onChange:e=>{d(e)}}),(0,b.jsx)(nl.Z,{mode:"multiple",placeholder:"Filter by changed type",style:{width:200},options:(0,s6.Z)(at).map(e=>({label:e,value:e})),allowClear:!0,onChange:e=>{h(e)}})]})}),(0,b.jsx)(sB.Z,{span:24,children:(0,b.jsx)(n$.Z,{bordered:!0,sticky:{offsetHeader:54},pagination:{pageSize:20,size:"small"},scroll:{x:1700},dataSource:p,rowKey:e=>e.path,columns:[{fixed:"left",title:(0,b.jsxs)(sm.Z,{title:(0,b.jsxs)(tr.Z,{direction:"vertical",children:[(0,b.jsxs)(sp.Z.Text,{style:{color:"inherit"},children:["filtered modules is ",p.length," (Current & Baseline)"]}),(0,b.jsxs)(sp.Z.Text,{style:{color:"inherit"},children:["total modules is ",u.length," (Current & Baseline)"]})]}),children:[(0,b.jsx)(sp.Z.Text,{strong:!0,children:"Modules"}),(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsxs)(sp.Z.Text,{type:"secondary",style:{fontSize:10,fontWeight:400,marginRight:4},children:[p.length,"/",u.length]}),(0,b.jsx)(sH.Z,{})]}),render:(e,t)=>{let{alias:s,inNodeModules:r}=tS(t.path,t.baseline?l:a);return(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sm.Z,{title:t.path,children:(0,b.jsx)(sp.Z.Text,{copyable:{text:t.path},children:s})}),(0,b.jsx)(ad,{type:ao(t)}),r?(0,b.jsx)(sa.Z,{color:"warning",children:"node_modules"}):null]})}},al("current",m,x),al("baseline",m,x),{title:"in Assets",render:(e,t)=>{let s=[],r=[];return(t.current&&eS(t.current,i).forEach(e=>e.assets.forEach(e=>r.push(e))),t.baseline&&eS(t.baseline,n).forEach(e=>e.assets.forEach(e=>s.push(e))),s.length||r.length)?(0,b.jsxs)(tr.Z,{direction:"vertical",children:[(0,l7.Z)(r).filter(Boolean).map(e=>(0,b.jsx)(sJ,{label:"Current",value:e},`c_${e}`)),(0,l7.Z)(s).filter(Boolean).map(e=>(0,b.jsx)(sJ,{label:"Baseline",value:e},`b_${e}`))]}):null}},{title:"Actions",width:200,render:(s,r)=>{let n=ao(r)===at.Changed;return(0,b.jsxs)(tr.Z,{direction:"vertical",style:{maxWidth:170},children:[n?(0,b.jsx)(ae,{text:"View Changes",file:r.path,data:[{baseline:e.moduleCodeMap[r.baseline?.id]?.source,current:t.moduleCodeMap[r.current?.id]?.source,group:"Source"},{baseline:e.moduleCodeMap[r.baseline?.id]?.transformed,current:t.moduleCodeMap[r.current?.id]?.transformed,group:"Transformed Source"},{baseline:e.moduleCodeMap[r.baseline?.id]?.parsedSource,current:t.moduleCodeMap[r.current?.id]?.parsedSource,group:"Parsed Source"}]}):null,(0,b.jsx)(ae,{text:"Current Result Viewer",file:r.path,data:[{baseline:t.moduleCodeMap[r.current.id]?.source,current:t.moduleCodeMap[r.current.id]?.transformed,baselineTitle:"Current Source",currentTitle:"Current Transformed Source",group:"Transformed Source"},{baseline:t.moduleCodeMap[r.current.id]?.source,current:t.moduleCodeMap[r.current.id]?.parsedSource,baselineTitle:"Current Source",currentTitle:"Current Parsed Source",group:"Parsed Source"}]})]})}}]})})]})},ah=e=>e.baseline&&e.current?e.baseline.map(e=>e.version).sort().join()===e.current.map(e=>e.version).sort().join()?at.NotChanged:at.Changed:e.baseline||e.current?e.baseline&&!e.current?at.Deleted:at.New:at.NotChanged,au=e=>ah(e)!==at.NotChanged,ap=({dataSource:e})=>{let{newCount:t,deleteCount:s,changedCount:r}=(0,B.useMemo)(()=>({newCount:e.filter(e=>e.updateType===at.New).length,deleteCount:e.filter(e=>e.updateType===at.Deleted).length,changedCount:e.filter(e=>e.updateType===at.Changed).length}),[e]);return(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sJ,{label:"New",value:t,type:t>0?"error":"default",tooltip:`Current has ${t} packages which not found in Baseline`}),(0,b.jsx)(sJ,{label:"Deleted",value:s,type:s>0?"error":"default",tooltip:`Current delete ${s} packages than Baseline`}),(0,b.jsx)(sJ,{label:"Changed",value:r,type:r>0?"error":"default",tooltip:`Current has ${r} changed packages than Baseline`})]})},am=({baseline:e,current:t})=>{let{packages:s=[]}=e||{},{packages:r=[]}=t||{},n={},i=(e,t)=>{n[e.name]||(n[e.name]={name:e.name,updateType:at.NotChanged}),n[e.name][t]||(n[e.name][t]=[]),n[e.name][t].push(e)};s.forEach(e=>i(e,"baseline")),r.forEach(e=>i(e,"current"));let l=[],a=[];return(0,s6.Z)(n).forEach(e=>{au(e)?l.push(e):a.push(e)}),l.concat(a).map(e=>({...e,updateType:ah(e)}))},ax=({baseline:e,current:t})=>{let{packages:s=[]}=e||{},{packages:r=[]}=t||{};if(!s.length&&!r.length)return(0,b.jsx)(so.Z,{});let n=(0,B.useMemo)(()=>(0,l7.Z)(s.concat(r).map(e=>e.name)),[s,r]),[i,l]=(0,B.useState)([]),[a,o]=(0,B.useState)([]),d=(0,B.useMemo)(()=>am({baseline:e,current:t}),[e,t]),c=(0,B.useMemo)(()=>d.filter(e=>a.length?a.indexOf(e.updateType)>-1:!i.length||i.indexOf(e.name)>-1),[d,i,a]);return(0,b.jsxs)(sO.Z,{gutter:[D.BasePadding,D.BasePadding],children:[(0,b.jsx)(sB.Z,{span:24,style:{marginTop:16},children:(0,b.jsxs)(tr.Z,{wrap:!0,children:[(0,b.jsx)(nl.Z,{mode:"multiple",placeholder:"Filter by package names",style:{width:400},options:n.map(e=>{let t=d.find(t=>t.name===e);return t&&au(t)?{label:(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{children:e}),(0,b.jsx)(ad,{type:ah(t)})]}),value:e}:{label:e,value:e}}),allowClear:!0,onChange:e=>{l(e)}}),(0,b.jsx)(nl.Z,{mode:"multiple",placeholder:"Filter by changed type",style:{width:200},options:(0,s6.Z)(at).map(e=>({label:e,value:e})),allowClear:!0,onChange:e=>{o(e)}})]})}),(0,b.jsx)(sB.Z,{span:24,children:(0,b.jsx)(n$.Z,{bordered:!0,sticky:{offsetHeader:54},pagination:{pageSize:20,size:"small"},dataSource:c,rowKey:e=>e.name,columns:[{title:()=>(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{children:"Package Name"}),(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsx)(sm.Z,{title:`Filtered Package Count is ${c.length}, Total Package Count is ${d.length}`,children:(0,b.jsxs)(sp.Z.Text,{type:"secondary",style:{fontSize:10,fontWeight:400},children:[c.length," / ",d.length]})})]}),render:(e,t)=>t.updateType!==at.NotChanged?(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{children:t.name}),(0,b.jsx)(ad,{type:t.updateType})]}):t.name},{title:()=>(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{children:"Current"}),(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsx)(ap,{dataSource:d})]}),children:[{title:"Version",render:(e,t)=>t.current?(0,b.jsx)(tr.Z,{direction:"vertical",children:t.current.map(e=>(0,b.jsx)(sJ,{label:"version",value:e.version,tooltip:e.root,type:t.updateType===at.Deleted?"error":t.updateType===at.Changed?"warn":"default"},e.version))}):null},{title:"Parsed Size",render:(e,t)=>{let s=(0,sR.Z)(t.current,e=>e.size.parsedSize),r=()=>(0,b.jsx)(sj,{baseline:(0,sR.Z)(t.baseline,e=>e.size.parsedSize),current:s});return t.current?(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{strong:t.updateType!==at.NotChanged,children:st(s)}),(0,b.jsx)(r,{})]}):(0,b.jsx)(r,{})}}]},{title:"Baseline",children:[{title:"Version",render:(e,t)=>t.baseline?(0,b.jsx)(tr.Z,{direction:"vertical",children:t.baseline.map(e=>(0,b.jsx)(sJ,{label:"version",value:e.version,tooltip:e.root,type:t.updateType===at.Deleted?"error":t.updateType===at.Changed?"warn":"default"},e.version))}):null},{title:"Parsed Size",render:(e,t)=>{if(t.baseline){let e=(0,sR.Z)(t.baseline,e=>e.size.parsedSize);return(0,b.jsx)(sp.Z.Text,{children:st(e)})}return null}}]}]})})]})},af=({baseline:e,current:t,assetsDiffResult:s})=>{let r=tT(e.moduleGraph.modules),n=tT(t.moduleGraph.modules),i=tR(e.errors),l=tR(t.errors),a=tE(e.moduleGraph),o=tE(t.moduleGraph),d=e.root,c=t.root,h=am({baseline:e.packageGraph,current:t.packageGraph}),u=[{title:["Bundle Size"],value:[s.all.total]},{title:["Total JS","Initial JS"],value:[s.js.total,s.js.initial]},{title:["Total CSS","Initial CSS"],value:[s.css.total,s.css.initial]},{title:["Images","Fonts","Media"],value:[s.imgs.total,s.fonts.total,s.media.total]},{title:["HTML"],value:[s.html.total]},{title:["Others"],value:[s.others.total]}];return(0,b.jsxs)(sO.Z,{gutter:[D.BasePadding,D.BasePadding],wrap:!0,style:{marginBottom:D.BasePadding},children:[u.map(e=>(0,b.jsx)(sB.Z,{style:{minWidth:335},children:(0,b.jsx)(sb,{titles:e.title,datas:e.value,showPercentInTitle:!0})},e.title.join(","))),(0,b.jsx)(sB.Z,{style:{minWidth:335},children:(0,b.jsx)(sb,{titles:["Duplicate Packages"],datas:[{size:{baseline:i.length,current:l.length},count:{baseline:i.length,current:l.length},percent:0,state:F.Client.RsdoctorClientDiffState.Equal}],formatter:(s,r)=>(0,b.jsx)(rr,{duplicatePackages:"baseline"===r?i:l,moduleGraph:"baseline"===r?a:o,cwd:"baseline"===r?d:c,buttonProps:{size:"small"},moduleCodeMap:"baseline"===r?e.moduleCodeMap:t.moduleCodeMap})})}),(0,b.jsx)(sB.Z,{style:{minWidth:335},children:(0,b.jsx)(sb,{titles:["Modules"],datas:[{size:{baseline:r.length,current:n.length},count:{baseline:r.length,current:n.length},percent:0,state:F.Client.RsdoctorClientDiffState.Equal}],formatter:(e,t)=>{if("baseline"===t)return e;let s=eE(r.length,n.length);return(0,b.jsxs)(tr.Z,{style:{fontSize:"inherit"},children:[(0,b.jsx)(sp.Z.Text,{style:{fontSize:"inherit"},children:e}),(0,b.jsx)(sy,{...s})]})}})}),(0,b.jsx)(sB.Z,{style:{minWidth:335},children:(0,b.jsx)(sb,{titles:[(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{style:{color:"inherit"},children:"Packages"}),(0,b.jsx)(ap,{dataSource:h})]},"0")],datas:[{size:{baseline:h.filter(e=>e.baseline).length,current:h.filter(e=>e.current).length},count:{baseline:h.filter(e=>e.baseline).length,current:h.filter(e=>e.current).length},percent:0,state:F.Client.RsdoctorClientDiffState.Equal}],formatter:(e,t)=>"baseline"===t?e:(0,b.jsx)(tr.Z,{children:e})})})]})},ag=({assetsDiffResult:e})=>{let t=[{type:"JS",data:e.js},{type:"CSS",data:e.css},{type:"Imgs",data:e.imgs},{type:"Fonts",data:e.fonts},{type:"Media",data:e.media},{type:"HTML",data:e.html},{type:"Others",data:e.others}];return(0,b.jsx)(n$.Z,{bordered:!0,pagination:!1,dataSource:t,rowKey:e=>e.type,style:{marginTop:D.BasePadding-D.BasePadding/4},columns:[{title:"File Type",dataIndex:"type",key:"type",render:e=>(0,b.jsx)(sp.Z.Text,{strong:!0,children:e})},{title:"Size",dataIndex:"data",key:"size",children:[{title:"Current",dataIndex:"data",key:"csize",render:e=>{let t=(0,b.jsxs)(B.Fragment,{children:[(0,b.jsx)(sp.Z.Text,{strong:!0,children:st(e.total.size.current)}),(0,b.jsx)(sy,{percent:e.total.percent,state:e.total.state}),ar(e.total.size.baseline,e.total.size.current,e.total.state)]});return e.initial?(0,b.jsxs)(tr.Z,{direction:"vertical",children:[(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sa.Z,{color:I.Blue,children:"Total"}),t]}),(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sa.Z,{color:I.Blue,children:"Initial"}),(0,b.jsx)(sp.Z.Text,{strong:!0,children:st(e.initial.size.current)}),(0,b.jsx)(sy,{percent:e.initial.percent,state:e.initial.state}),ar(e.initial.size.baseline,e.initial.size.current,e.initial.state)]})]}):(0,b.jsx)(tr.Z,{children:t})}},{title:"Baseline",dataIndex:"data",key:"bsize",render:e=>{let t=(0,b.jsx)(sp.Z.Text,{children:st(e.total.size.baseline)});return e.initial?(0,b.jsxs)(tr.Z,{direction:"vertical",children:[(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sa.Z,{color:I.Blue,children:"Total"}),t]}),(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sa.Z,{color:I.Blue,children:"Initial"}),(0,b.jsx)(sp.Z.Text,{children:st(e.initial.size.baseline)})]})]}):t}}]},{title:"Count",dataIndex:"data",key:"count",children:[{title:"Current",dataIndex:"data",key:"ccount",render:e=>{let t=(0,b.jsx)(sp.Z.Text,{strong:!0,children:e.total.count.current});return e.initial?(0,b.jsxs)(tr.Z,{direction:"vertical",children:[(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sa.Z,{color:I.Blue,children:"Total"}),t]}),(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sa.Z,{color:I.Blue,children:"Initial"}),(0,b.jsx)(sp.Z.Text,{strong:!0,children:e.initial.count.current})]})]}):(0,b.jsx)(tr.Z,{children:t})}},{title:"Baseline",dataIndex:"data",key:"bcount",render:e=>{let t=(0,b.jsx)(sp.Z.Text,{children:e.total.count.baseline});return e.initial?(0,b.jsxs)(tr.Z,{direction:"vertical",children:[(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sa.Z,{color:I.Blue,children:"Total"}),t]}),(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sa.Z,{color:I.Blue,children:"Initial"}),(0,b.jsx)(sp.Z.Text,{children:e.initial.count.baseline})]})]}):(0,b.jsx)(tr.Z,{children:t})}}]}]})};var aj=s(74814),ay=s(34069),av=s(65190),ab=s(50193),aZ=s(89387),aS=s(97544),aw=s(30697);let aC={JS:[F.Constants.JSExtension],CSS:[F.Constants.CSSExtension],HTML:[F.Constants.HtmlExtension],Imgs:F.Constants.ImgExtensions,Fonts:F.Constants.FontExtensions,Media:F.Constants.MediaExtensions,Others:[]},aM=(0,aj.Z)((0,s6.Z)(aC)),ak=({data:e})=>{let t=(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{strong:!0,children:e.alias}),(0,b.jsx)(sm.Z,{title:(0,b.jsxs)(tr.Z,{style:{color:"inherit"},direction:"vertical",children:[e.current?(0,b.jsxs)(sp.Z.Text,{style:{color:"inherit"},children:["Current realpath: ",e.current.path]}):null,e.baseline?(0,b.jsxs)(sp.Z.Text,{style:{color:"inherit"},children:["Baseline realpath: ",e.baseline.path]}):null]}),children:(0,b.jsx)(sH.Z,{})})]});return e.baseline&&!e.current?(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(av.Z,{style:{color:I.Red}}),t]}):!e.baseline&&e.current?(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(ab.Z,{style:{color:I.Green}}),t]}):e.baseline&&e.current?(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(aZ.Z,{style:{color:I.Yellow}}),t]}):t},aP=({baseline:e,current:t,outputFilename:s})=>{let[r,n]=(0,B.useState)(),[i,l]=(0,B.useState)([]),[a,o]=(0,B.useState)([]),[d,c]=(0,B.useState)(as.Size),[h,u]=(0,B.useState)(null),[p,m]=(0,B.useState)(null),{assets:x}=e.chunkGraph,{assets:f}=t.chunkGraph,g=(0,B.useMemo)(()=>{let e={};return h&&p?e.choose={alias:`${h} 
 ${p}`,current:f.find(e=>e.path===p),baseline:x.find(e=>e.path===h)}:(x.forEach(t=>{let r=ek(t.path,s);e[r]?console.warn("[Baseline Asset Exists]: ",t,e):e[r]={alias:r,baseline:t}}),f.forEach(t=>{let r=ek(t.path,s);e[r]||(e[r]={alias:r}),e[r].current=t})),(0,s6.Z)(e)},[x,f,h,p]),j=(0,B.useMemo)(()=>{let n=g.slice();if(r&&(n=n.filter(e=>e.alias.indexOf(r)>-1)),i.length){let e=(0,aj.Z)(i.map(e=>aC[e])),t=i.indexOf("Others")>-1;n=n.filter(s=>{let r=s.baseline||s.current;return!!e_(r,e)||!!t&&!e_(r,aM)})}if(a.length&&(n=n.filter(e=>e.baseline&&!e.current?(0,tz.Z)(a,at.Deleted):!e.baseline&&e.current?(0,tz.Z)(a,at.New):!!e.baseline&&!!e.current&&(e.baseline.size===e.current.size?(0,tz.Z)(a,at.NotChanged):(0,tz.Z)(a,at.Changed)))),d)if(d===as.Name)n.sort((e,t)=>e.alias.localeCompare(t.alias));else{let{prev:r,others:i}=n.reduce((e,t)=>(t.current?t.baseline?e.prev.unshift(t):e.prev.push(t):e.others.push(t),e),{prev:[],others:[]});n=[...r.sort((r,n)=>{if(n.current&&r.current){if(d===as.Delta){let{percent:i}=eT(e.chunkGraph,t.chunkGraph,e=>ek(e.path,s)===r.alias),{percent:l}=eT(e.chunkGraph,t.chunkGraph,e=>ek(e.path,s)===n.alias);return l-i}return n.current.size-r.current.size}return -1}),...i]}return n},[g,r,i,a,d]),y=(0,B.useMemo)(()=>(0,sR.Z)(j,e=>e.current?e.current.size:0)||0,[j]),v=(0,B.useMemo)(()=>(0,sR.Z)(j,e=>e.baseline?e.baseline.size:0)||0,[j]);return(0,b.jsxs)(sO.Z,{gutter:[D.BasePadding,D.BasePadding],children:[(0,b.jsxs)(sB.Z,{span:24,children:[(0,b.jsxs)(tr.Z,{wrap:!0,children:[(0,b.jsx)(nt,{icon:(0,b.jsx)(ls.Z,{}),label:"",labelStyle:{width:45},placeholder:"Search by file name",onChange:e=>{n(e)}}),(0,b.jsx)(nl.Z,{mode:"multiple",placeholder:"Filter by file type",style:{width:250},options:(0,ay.Z)(aC).map(e=>({label:e,value:e})),allowClear:!0,onChange:e=>{l(e)}}),(0,b.jsx)(nl.Z,{mode:"multiple",placeholder:"Filter by file changed type",style:{width:200},options:(0,s6.Z)(at).map(e=>({label:e,value:e})),allowClear:!0,onChange:e=>{o(e)}}),(0,b.jsx)(nl.Z,{suffixIcon:(0,b.jsx)(aS.Z,{}),options:(0,s6.Z)(as).map(e=>({label:e,value:e})),value:d,onChange:e=>{c(e)}})]}),(0,b.jsxs)(sO.Z,{style:{marginTop:10},gutter:[6,6],children:[(0,b.jsx)(sB.Z,{children:(0,b.jsx)(sS.ZP,{children:"Select Baseline Asset and Current Asset to Diff "})}),(0,b.jsx)(sB.Z,{children:(0,b.jsx)(nl.Z,{allowClear:!0,placeholder:"select baseline assets",showSearch:!0,style:{width:300},options:(0,s6.Z)(e.chunkGraph.assets).map(e=>({label:e.path,value:e.path})),onChange:e=>u(e)})}),(0,b.jsx)(sB.Z,{children:(0,b.jsx)(nl.Z,{allowClear:!0,placeholder:"select current assets",showSearch:!0,style:{width:300},options:(0,s6.Z)(t.chunkGraph.assets).map(e=>({label:e.path,value:e.path})),onChange:e=>m(e)})})]})]}),(0,b.jsx)(sB.Z,{span:24,children:(0,b.jsx)(n$.Z,{bordered:!0,sticky:{offsetHeader:54},pagination:{pageSize:20,size:"small"},dataSource:j,rowKey:e=>e.alias,expandable:{expandedRowRender:s=>(0,b.jsx)("div",{style:{margin:D.BasePadding/3},children:(0,b.jsx)(aa,{data:s,baseline:e,current:t})}),columnTitle:(0,b.jsx)(sm.Z,{title:"Click to expand row to see the modules which the chunk contains",placement:"left",children:(0,b.jsx)(aw.Z,{style:{cursor:"pointer"}})})},columns:[{title:(0,b.jsxs)(sm.Z,{title:(0,b.jsxs)(tr.Z,{direction:"vertical",children:[(0,b.jsxs)(sp.Z.Text,{style:{color:"inherit"},children:["filtered assets is ",j.length]}),(0,b.jsxs)(sp.Z.Text,{style:{color:"inherit"},children:["total assets is ",g.length]})]}),children:[(0,b.jsx)(sp.Z.Text,{strong:!0,children:"Assets"}),(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsxs)(sp.Z.Text,{type:"secondary",style:{fontSize:10,fontWeight:400,marginRight:4},children:[j.length,"/",g.length]}),(0,b.jsx)(sH.Z,{})]}),render:(e,t)=>(0,b.jsx)(ak,{data:t})},{title:()=>{let e=st(y),t=eE(v,y);return(0,b.jsxs)(sm.Z,{title:`Current size is ${e}, Delta is ${ss(t.percent)}`,children:[(0,b.jsx)(sp.Z.Text,{strong:!0,children:"Current"}),(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsxs)(sp.Z.Text,{style:{fontSize:10,fontWeight:400,marginRight:4},children:[(0,b.jsx)(sp.Z.Text,{style:{fontSize:"inherit",marginRight:8},children:e}),(0,b.jsx)(sj,{fontSize:"inherit",baseline:v,current:y}),ar(v,y,v>y?F.Client.RsdoctorClientDiffState.Down:F.Client.RsdoctorClientDiffState.Up,{fontSize:10,fontWeight:400,marginLeft:4})]}),(0,b.jsx)(sH.Z,{})]})},render:(r,n)=>{if(n.current){let{percent:r,state:i}=eT(e.chunkGraph,t.chunkGraph,e=>ek(e.path,s)===n.alias),l=eN(n.current,t.chunkGraph.chunks);return(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{children:st(n.current.size)}),(0,b.jsx)(sy,{percent:r,state:i}),l?(0,b.jsx)(sa.Z,{color:I.Blue,children:"initial"}):null]})}return"-"}},{title:()=>{let e=st(v);return(0,b.jsxs)(sm.Z,{title:`Baseline size is ${e}`,children:[(0,b.jsx)(sp.Z.Text,{strong:!0,children:"Baseline"}),(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsx)(sp.Z.Text,{style:{fontSize:10,fontWeight:400,marginRight:4},children:e}),(0,b.jsx)(sH.Z,{})]})},render:(t,s)=>{if(s.baseline){let t=eN(s.baseline,e.chunkGraph.chunks);return(0,b.jsxs)(tr.Z,{children:[(0,b.jsx)(sp.Z.Text,{children:st(s.baseline.size)}),t?(0,b.jsx)(sa.Z,{color:I.Blue,children:"initial"}):null]})}return"-"}},{title:"Actions",key:"actions",render:(e,t)=>(0,b.jsx)(ae,{file:t.alias,data:[{baseline:t.baseline?.content,current:t.current?.content,group:"assets"}]})}]})})]})},a_=e=>{let{api:t,body:s,children:r,manifests:n}=e,i=tA(),[l,a]=i[F.Client.RsdoctorClientUrlQuery.BundleDiffFiles]?.split(",")||[];return n?.length?(0,b.jsx)(b.Fragment,{children:r(n[0].data,n[1].data)}):(0,b.jsx)(s3,{api:t,body:s,manifestLoader:l?()=>e3(l):void 0,children:e=>(0,b.jsx)(s3,{api:t,body:s,manifestLoader:a?()=>e3(a):void 0,children:t=>r(e,t)})})},aD=({manifests:e})=>((0,B.useEffect)(()=>{console.log("BundleDiff Manifests: ",e)},[e]),(0,b.jsx)(a_,{api:F.SDK.ServerAPI.API.GetBundleDiffSummary,manifests:e,children:(e,t)=>{let s=e.chunkGraph===t.chunkGraph,r=e.chunkGraph,n=s?r:t.chunkGraph,i={all:{total:eT(r,n)},js:{total:eT(r,n,F.Constants.JSExtension),initial:eT(r,n,F.Constants.JSExtension,!0)},css:{total:eT(r,n,F.Constants.CSSExtension),initial:eT(r,n,F.Constants.CSSExtension,!0)},imgs:{total:eT(r,n,F.Constants.ImgExtensions)},html:{total:eT(r,n,F.Constants.HtmlExtension)},media:{total:eT(r,n,F.Constants.MediaExtensions)},fonts:{total:eT(r,n,F.Constants.FontExtensions)},others:{total:eT(r,n,e=>!e_(e,[F.Constants.JSExtension,F.Constants.CSSExtension,F.Constants.HtmlExtension].concat(F.Constants.ImgExtensions,F.Constants.MediaExtensions,F.Constants.FontExtensions,F.Constants.MapExtensions)))}};return(0,b.jsxs)("div",{children:[(0,b.jsxs)(nr.Z.Group,{children:[(0,b.jsx)(sm.Z,{placement:"leftBottom",title:(0,b.jsx)(tr.Z,{direction:"vertical",children:[{title:"Baseline",data:e},{title:"Current",data:t}].map(({title:e,data:t})=>(0,b.jsx)(su.Z,{size:"small",children:(0,b.jsxs)(tr.Z,{direction:"vertical",children:[(0,b.jsx)(sp.Z.Text,{strong:!0,children:e}),(0,b.jsxs)(tr.Z,{style:{fontSize:10},children:[(0,b.jsx)(sp.Z.Text,{style:{fontSize:"inherit",width:30,display:"inline-block"},children:"Hash"}),(0,b.jsx)(sE.Z,{type:"vertical"}),(0,b.jsx)(sp.Z.Text,{type:"secondary",style:{fontSize:"inherit"},children:t.hash||"-"})]}),t.cloudManifestUrl?(0,b.jsx)(sS.ZP,{type:"link",size:"small",style:{padding:0,fontSize:10},onClick:()=>window.open(t.cloudManifestUrl),children:"Open File"}):null]})},e))}),children:(0,b.jsx)(nr.Z,{icon:(0,b.jsx)(sH.Z,{})})}),(0,b.jsx)(l6.Z,{title:(0,b.jsxs)(sp.Z.Text,{children:["Are you sure to",(0,b.jsx)(sp.Z.Text,{strong:!0,children:" re-upload "}),"json files for bundle diff?"]}),onConfirm:()=>{},okText:"Yes",cancelText:"Cancel",placement:"topLeft",trigger:"hover",children:(0,b.jsx)(nr.Z,{icon:(0,b.jsx)(l3.Z,{})})}),(0,b.jsx)(nr.Z.BackTop,{})]}),(0,b.jsx)(af,{baseline:e,current:t,onlyBaseline:s,assetsDiffResult:i}),(0,b.jsx)(sd.Z,{defaultActiveKey:"Overview",tabBarStyle:{marginBottom:D.BasePadding/3},items:[{label:"Overview",key:"Overview",children:(0,b.jsx)(ag,{assetsDiffResult:i})},{label:"Assets",key:"Assets",children:(0,b.jsx)(aP,{outputFilename:e.outputFilename,baseline:e,current:t})},{label:"Modules",key:"Modules",children:(0,b.jsx)(ac,{baseline:e,current:t,onlyBaseline:s,assetsDiffResult:i})},{label:"Packages",key:"Packages",children:(0,b.jsx)(ax,{baseline:e.packageGraph,current:t.packageGraph})}].map(e=>({...e,label:(0,b.jsx)(sp.Z.Text,{strong:!0,children:e.label})}))})]})}})),aI=F.Client.RsdoctorClientRoutes.BundleDiff;B.createContext({manifests:[],setManifests(e){},loading:!1,setLoading(e){},async withLoading(e){}});let aN=()=>(0,b.jsx)(aD,{manifests:[]}),aA="Compile Analysis",aE={overall:(0,b.jsx)(e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:13,height:12,fill:"none",viewBox:"0 0 13 12",...e,children:[(0,b.jsx)("rect",{width:12,height:9.333,x:.615,y:.167,fill:"#5E6673",rx:1}),(0,b.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M3.781 3.5c.277 0 .5.214.5.478v3.044a.49.49 0 0 1-.5.478.49.49 0 0 1-.5-.478V3.978a.49.49 0 0 1 .5-.478ZM6.615 1.833c.276 0 .5.214.5.479v4.71a.49.49 0 0 1-.5.478.49.49 0 0 1-.5-.478v-4.71a.49.49 0 0 1 .5-.479ZM9.448 4.833c.276 0 .5.214.5.479v1.71a.49.49 0 0 1-.5.478.49.49 0 0 1-.5-.478v-1.71a.49.49 0 0 1 .5-.479Z",clipRule:"evenodd"}),(0,b.jsx)("rect",{width:6,height:1.333,x:3.615,y:10.5,fill:"#5E6673",fillOpacity:.5,rx:.667})]}),{}),webpack:(0,b.jsx)(e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:13,height:12,fill:"none",viewBox:"0 0 13 12",...e,children:[(0,b.jsx)("rect",{width:12,height:9.333,x:.615,y:.167,fill:"#5E6673",rx:1}),(0,b.jsx)("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",d:"M4.241 6.212 2.895 5.014 4.24 3.815M8.97 6.212l1.347-1.198-1.346-1.199M5.96 7.014l1.363-4"}),(0,b.jsx)("rect",{width:6,height:1.333,x:3.615,y:10.5,fill:"#5E6673",fillOpacity:.5,rx:.667})]}),{}),bundle:(0,b.jsx)(e=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:14,fill:"none",viewBox:"0 0 12 14",...e,children:[(0,b.jsx)("path",{fill:"#5E6673",fillRule:"evenodd",d:"M6.44.672a1 1 0 0 0-.977.013L.578 3.505l5.36 2.83 5.327-3.044L6.44.67Zm-.992 12.777V7.206L.175 4.423v5.404a1 1 0 0 0 .5.866l4.773 2.756Z",clipRule:"evenodd"}),(0,b.jsx)("path",{fill:"#5E6673",fillOpacity:.5,fillRule:"evenodd",d:"m5.465.683-.002.002L.658 3.459l.017-.01L5.448.693a1 1 0 0 1 .017-.01ZM5.448 13.45V7.206L.175 4.423l5.273 2.783v6.243Zm1-6.254 5.265-3.009c.006.043.009.086.009.13v5.511a1 1 0 0 1-.5.866L6.448 13.45V7.195Z",clipRule:"evenodd"})]}),{})},aT=s7({api:F.SDK.ServerAPI.API.GetClientRoutes,responsePropName:"routes",Component:e=>{let{t}=tI(),{pathname:s}=(0,t_.TH)(),r=(0,t_.s0)(),[n,i]=(0,B.useState)(aE),{routes:l}=e;(0,B.useEffect)(()=>{s.includes("webpack")?i({...aE,webpack:(0,b.jsx)(nf,{})}):s.includes("overall")||"/"===s?i({...aE,overall:(0,b.jsx)(nx,{})}):s.includes("bundle")&&i({...aE,bundle:(0,b.jsx)(ng,{})})},[s]);let a={color:"rgba(96, 102, 114)"},o=[];(0,tz.Z)(l,F.Manifest.RsdoctorManifestClientRoutes.Overall)&&o.push({label:t("Overall"),key:nm,icon:n.overall,children:[],onTitleClick(e){r(e.key)}}),((0,tz.Z)(l,F.Manifest.RsdoctorManifestClientRoutes.WebpackLoaders)||(0,tz.Z)(l,F.Manifest.RsdoctorManifestClientRoutes.ModuleResolve)||(0,tz.Z)(l,F.Manifest.RsdoctorManifestClientRoutes.WebpackPlugins))&&o.push({label:t(aA),key:aA,icon:n.webpack,children:[(0,tz.Z)(l,F.Manifest.RsdoctorManifestClientRoutes.WebpackLoaders)&&{label:t("Loaders Timeline"),key:lc,icon:(0,b.jsx)(no.Z,{style:a})},(0,tz.Z)(l,F.Manifest.RsdoctorManifestClientRoutes.WebpackLoaders)&&{label:t("Loaders Analysis"),key:lS,icon:(0,b.jsx)(nd.Z,{style:a})},(0,tz.Z)(l,F.Manifest.RsdoctorManifestClientRoutes.ModuleResolve)&&{label:t("ModuleResolve"),key:lR,icon:(0,b.jsx)(nc.Z,{style:a})},(0,tz.Z)(l,F.Manifest.RsdoctorManifestClientRoutes.WebpackPlugins)&&{label:t("Plugins Analysis"),key:lP,icon:(0,b.jsx)(nh.Z,{style:a})}].filter(e=>!!e)}),((0,tz.Z)(l,F.Manifest.RsdoctorManifestClientRoutes.BundleSize)||(0,tz.Z)(l,F.Manifest.RsdoctorManifestClientRoutes.ModuleGraph)||(0,tz.Z)(l,F.Manifest.RsdoctorManifestClientRoutes.TreeShaking))&&o.push({label:t(i8),key:i8,icon:n.bundle,children:[],onTitleClick(){r(i9)}});let d=(0,b.jsx)(np.Z,{items:o,mode:"horizontal",onClick:e=>{e.keyPath.includes("builder-switcher")||r(e.key)},overflowedIndicator:(0,b.jsx)(nu.Z,{}),style:{height:D.NavBarHeight,lineHeight:`${D.NavBarHeight}px`,minWidth:0,justifyContent:"flex-end",...e.style},selectedKeys:["/"===s?nm:s]},l.join(""));return(0,b.jsx)("div",{style:{marginLeft:"30px"},children:d})},fallbackComponent:()=>null,showSkeleton:!1}),aR=()=>{let{i18n:e}=tI(),t=(0,t_.s0)(),{isLight:s}=t9(),r=[{value:P.Cn,label:"中文"},{value:P.En,label:"English"}];return(0,b.jsx)(ns.Z.Header,{style:{height:D.NavBarHeight,padding:0,paddingLeft:D.BasePadding,paddingRight:D.BasePadding,position:"fixed",zIndex:999,width:"100%",backgroundColor:s?"#fff":"#141414",transition:"none"},children:(0,b.jsxs)(sO.Z,{justify:"space-between",align:"middle",style:{height:D.NavBarHeight},wrap:!1,children:[(0,b.jsx)(sB.Z,{style:{height:D.NavBarHeight,lineHeight:`${D.NavBarHeight+2}px`},children:(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%"},children:[(0,b.jsx)("img",{src:"https://assets.rspack.dev/rsdoctor/rsdoctor-title-logo.png",className:"rsdoctor-logo",alt:"logo",onClick:()=>{t(F.Client.RsdoctorClientRoutes.Home)}}),(0,b.jsx)(na,{})]})}),(0,b.jsx)(aT,{style:{transition:"none"}}),(0,b.jsx)(sB.Z,{flex:1,children:(0,b.jsxs)(sO.Z,{align:"middle",justify:"end",style:{height:D.NavBarHeight},wrap:!1,gutter:[D.BasePadding/3,0],children:[(0,b.jsx)(sB.Z,{children:(0,b.jsx)(rE,{})}),(0,b.jsx)(sB.Z,{children:(0,b.jsx)(ni.Z,{overlayStyle:{zIndex:1e3},menu:{items:r.map(t=>({label:t.label,key:t.value,onClick(){e.changeLanguage(t.value)}})),selectedKeys:[e.language]},children:(0,b.jsx)(nn.Z,{className:"header-icon",style:{display:"inline-block",fontSize:20,textAlign:"center",verticalAlign:"middle",cursor:"pointer",width:30,transition:"all 0.3s ease"}})})})]})})]})})},az=s7({api:F.SDK.ServerAPI.APIExtends.GetCompileProgress,responsePropName:"progress",Component:({progress:e})=>{if(!e)return null;let{percentage:t=1,message:s}=e;if(t>=1)return null;let r=+(100*t).toFixed(1);return(0,b.jsx)(sO.Z,{wrap:!0,style:{width:"100%",position:"fixed",top:D.NavBarHeight,left:1,zIndex:99},children:(0,b.jsx)(sB.Z,{span:Math.min(Math.floor(24*t),24),children:(0,b.jsx)(nA.Z,{percent:100,status:"active",size:"small",format:()=>(0,b.jsx)(sp.Z.Text,{style:{fontSize:12},type:"secondary",children:`${r}% ${s}`})})})})},fallbackComponent:()=>null,showSkeleton:!1}),aL=e=>{let t=(0,B.useContext)(t8).locale,{i18n:s}=tI(),{children:r}=e;(0,B.useEffect)(()=>{let e=t;if(!R("FIRST_VISIT")){var r;z("FIRST_VISIT","1");let t="cn"===(r=window.navigator.language.split("-")[0])||"zh"===r?P.Cn:P.En;Object.values(P).includes(t)&&(e=t)}s.language!==e&&s.changeLanguage(e)},[t]);let n=(0,B.useContext)(t8);return(0,b.jsxs)(ns.Z,{children:[n.embedded?null:(0,b.jsx)(aR,{}),(0,b.jsx)(az,{}),(0,b.jsxs)(ns.Z.Content,{style:{height:"100%",minHeight:"100vh",padding:D.BasePadding,marginTop:n.embedded?0:D.NavBarHeight,background:E},children:[r,(0,b.jsx)(nr.Z.BackTop,{})]})]})};var aO=s(32074),aB=s(66428),aF=s(35061);function a$(){let e=[{path:i9,element:(0,b.jsx)(le,{})},{path:lS,element:(0,b.jsx)(lC,{})},{path:lP,element:(0,b.jsx)(l_,{})},{path:lR,element:(0,b.jsx)(lz,{})},{path:lc,element:(0,b.jsx)(lh,{})},{path:lO,element:(0,b.jsx)(lB,{})},{path:l2,element:(0,b.jsx)(l4,{})}].filter(e=>!!e);return(0,b.jsxs)(t_.Z5,{children:[(0,b.jsx)(t_.AW,{path:"/",element:(0,b.jsx)(n8,{})}),(0,b.jsx)(t_.AW,{path:nm,element:(0,b.jsx)(n8,{})}),e.map(e=>(0,b.jsx)(t_.AW,{path:e.path,element:e.element},e.path)),(0,b.jsx)(t_.AW,{path:aI,element:(0,b.jsx)(aN,{})})]})}let{PageState:aG,Theme:aK}=j;var aW=s(8082);let aH=document.getElementById("root");aW.createRoot(aH).render((0,b.jsx)(()=>{let e=!!("https:"===window.location.protocol&&window.location.href.indexOf("ide-proxy")>0),[t,s]=(0,B.useState)(aG.Success),[r,n]=(0,B.useState)({...t7.viewMode}),[i,l]=(0,B.useState)(),[a,o]=(0,B.useState)(t7.theme);return t===C.Fail?(0,b.jsxs)(tr.Z,{direction:"vertical",style:{padding:14},children:[(0,b.jsx)(sp.Z.Text,{strong:!0,style:{fontSize:16},children:"load json file of Rsdoctor failed."}),(0,b.jsxs)(sp.Z.Text,{children:["try to use ",(0,b.jsx)(sp.Z.Text,{keyboard:!0,children:"command + r"})," to refresh page."]}),null,(0,b.jsx)(sE.Z,{}),(0,b.jsx)(tr.Z,{direction:"vertical",style:{width:"100%"},children:(0,b.jsxs)(sp.Z.Text,{style:{fontSize:16},children:["you can",(0,b.jsx)(sp.Z.Text,{strong:!0,style:{fontSize:"inherit"},children:"upload a file"}),"in the area below to analyze your project."]})}),(0,b.jsx)(sE.Z,{}),null]}):(0,b.jsx)(aF.UT,{children:(0,b.jsx)(t8.Provider,{value:{...t7,theme:a,setTheme:e=>{o(e),z("THEME",e)},pageState:t,json:i,viewMode:r,setManifest:l,setPageState:s,setViewMode(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],s={...r,...e};n(s),t&&z("VIEWMODE",JSON.stringify(s))}},children:(0,b.jsx)(t8.Consumer,{children:s=>(0,b.jsx)(rZ.ZP,{locale:tG(s.locale),theme:{algorithm:a===aK.Dark?to.Z.darkAlgorithm:to.Z.defaultAlgorithm,token:{padding:16,colorText:"rgba(0, 0, 0, 0.85)",fontFamily:"var(--font-family-code)"}},children:(0,b.jsx)(aL,{children:(0,b.jsxs)(b.Fragment,{children:[e&&(0,b.jsx)(sK.Z,{message:"Warning",description:(0,b.jsx)("a",{href:window.location.href.replace(/https/,"http"),children:`Please jump to\u{FF1A}${window.location.href.replace(/https/,"http")}`}),type:"warning",showIcon:!0,closable:!0}),(0,b.jsx)(aB.SV,{FallbackComponent:e=>{let{error:s,resetErrorBoundary:r}=e;return(0,b.jsx)(aO.ZP,{status:"error",title:"Sorry, something went wrong.",extra:(0,b.jsx)(sS.ZP,{type:"primary",onClick:r,loading:t===aG.Pending,children:"Reload"}),children:(0,b.jsxs)(sp.Z.Paragraph,{children:[(0,b.jsx)(sp.Z.Title,{level:3,children:"Error Stack"}),(0,b.jsx)("pre",{children:s.stack||s.message})]})})},onReset:()=>{window.location.reload()},children:(0,b.jsx)(a$,{})})]})})})})})})},{}));let aV=document.createElement("link");aV.setAttribute("type","image/x-icon"),aV.setAttribute("rel","icon"),aV.setAttribute("href","https://assets.rspack.dev/rsdoctor/rsdoctor-logo-960x960.png"),document.head.appendChild(aV)},6156:function(){},41037:function(){},88637:function(){}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,s),i.loaded=!0,i.exports}s.m=e,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(r,n){if(1&n&&(r=this(r)),8&n||"object"==typeof r&&r&&(4&n&&r.__esModule||16&n&&"function"==typeof r.then))return r;var i=Object.create(null);s.r(i);var l={};e=e||[null,t({}),t([]),t(t)];for(var a=2&n&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>{l[e]=()=>r[e]});return l.default=()=>r,s.d(i,l),i}})(),s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e=[];s.O=(t,r,n,i)=>{if(r){i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[r,n,i];return}for(var a=1/0,l=0;l<e.length;l++){for(var[r,n,i]=e[l],o=!0,d=0;d<r.length;d++)(!1&i||a>=i)&&Object.keys(s.O).every(e=>s.O[e](r[d]))?r.splice(d--,1):(o=!1,i<a&&(a=i));if(o){e.splice(l--,1);var c=n();void 0!==c&&(t=c)}}return t}})(),s.rv=()=>"1.3.8",(()=>{var e={980:0};s.O.j=t=>0===e[t];var t=(t,r)=>{var n,i,[l,a,o]=r,d=0;if(l.some(t=>0!==e[t])){for(n in a)s.o(a,n)&&(s.m[n]=a[n]);if(o)var c=o(s)}for(t&&t(r);d<l.length;d++)i=l[d],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(c)},r=self.webpackChunk_rsdoctor_client=self.webpackChunk_rsdoctor_client||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),s.ruid="bundler=rspack@1.3.8";var r=s.O(void 0,["82","150","741","208","301","21","966","869"],function(){return s(69387)});r=s.O(r)})();