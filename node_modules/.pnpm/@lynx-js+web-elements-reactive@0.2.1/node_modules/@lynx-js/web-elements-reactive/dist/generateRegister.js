/**
// Copyright 2023 The Lynx Authors. All rights reserved.
// Licensed under the Apache License Version 2.0 that can be found in the
// LICENSE file in the root directory of this source tree.
*/
export function generateRegister(registerName, convertHandlerToRegistryItem) {
    return function registerHandler(key, ...args) {
        return function (target, context) {
            if (context.kind === 'method') {
                context.addInitializer(function () {
                    this[registerName] ??= {};
                    this[registerName][key] =
                        convertHandlerToRegistryItem(target, args);
                });
            }
            else if (context.kind === 'field') {
                return function (value) {
                    this[registerName] ??= {};
                    this[registerName][key] = convertHandlerToRegistryItem(value, args);
                    return value;
                };
            }
            else {
                throw new Error(`[lynx-web-components] decorator type ${context.kind} is not supported`);
            }
        };
    };
}
//# sourceMappingURL=generateRegister.js.map